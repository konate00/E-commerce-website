"use strict";(self.webpackChunk_mbusa_now_aem=self.webpackChunk_mbusa_now_aem||[]).push([[2727],{41026:function(e,t,i){i.d(t,{Z:function(){return y}});var n=i(4942),s=i(42982),o=i(15671),a=i(43144),r=i(48218),l=i(14569),c=i(79645);function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var v="gallery-tile",u="gallery-tile__button",f={dataAnalyticContainer:"{'blade': 'model overlay title grid modal'}",dataAnalyticTriggerClose:"cta-close",sizeLarge:l.Modal.SIZES.DEFAULT},m={infinite:!1,analyticsLabels:{prevAnalytics:"cta-previous",nextAnalytics:"cta-next"}},y=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.Z)(this,e),this.element=t,this.modalConfig=f,this.setModalConfiguration(),this.modalOpenersElm=[],this.overlayTileGridContainer=null,this.openModal=this.openModal.bind(this),this.setTilesCallback=this.setTilesCallback.bind(this),this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.cacheDOM(),this.attachEvents()}},{key:"setModalConfiguration",value:function(){var e=this.element.dataset.galleryOverlay;e&&(this.modalConfig={dataAnalyticContainer:"{'blade': 'model overlay title grid modal'}",dataAnalyticTriggerClose:"cta-close",sizeLarge:e})}},{key:"cacheDOM",value:function(){this.modalOpenersElm=this.element.querySelectorAll(".".concat(v)),this.multimedaiTileContainers=this.element.querySelectorAll(".".concat(u)),this.overlayTileGridContainer=this.element.querySelector(".".concat("gallery-grid__container"))}},{key:"setTilesCallback",value:function(e){this.modalOpenersElm=e.querySelectorAll(".".concat(v))}},{key:"attachEvents",value:function(){var e=this;[].slice.call(this.modalOpenersElm).forEach((function(t){t.addEventListener(r.FP.CLICK,e.openModal),t.classList.add("gallery-tile--enabled")}))}},{key:"detachEvents",value:function(){var e=this;[].slice.call(this.modalOpenersElm).forEach((function(t){t.removeEventListener(r.FP.CLICK,e.openModal)}))}},{key:"destroy",value:function(){this.detachEvents(),this.modalOpenersElm=[],this.element.remove()}},{key:"openModal",value:function(e){var t=e.currentTarget,i=this.getVisibleTiles(),n=t.querySelector(".".concat(u)),o={carousel:h({startIndex:(0,s.Z)(this.modalOpenersElm).indexOf(t)},m),modal:h({},this.modalConfig)};new c.s(i,o).open({callingContainer:n})}},{key:"getVisibleTiles",value:function(){return[].slice.call(this.multimedaiTileContainers).reduce((function(e,t){var i=JSON.parse(JSON.stringify(t.dataset));return i.disclaimers&&"string"==typeof i.disclaimers&&(i.disclaimers=JSON.parse(i.disclaimers),i.disclaimers=i.disclaimers.map((function(e){return{code:e.legend,desc:e.disclaimerText}}))),i.imageAlt||(i.imageAlt=""),e.push(i),e}),[])}}]),e}()},48764:function(e,t,i){i.d(t,{Z:function(){return a}});var n=i(15671),s=i(43144),o=i(83189),a=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.carousel={},this.init()}return(0,s.Z)(e,[{key:"init",value:function(){this.carousel=new o.A(this.element,{minItems:3,activeLarge:!0})}}]),e}()},74050:function(e,t,i){i.d(t,{Z:function(){return k}});var n=i(15671),s=i(43144),o=i(48218),a=i(61156),r=i(4942),l=i(14569),c=i(30168);function d(){var e=(0,c.Z)(['\n    <div class="overlay-video-grid__modal-related-template-inner">\n        <section>\n            <h3 class="overlay-video-grid__modal-related-header">','</h3>\n            <div class="overlay-video-grid__modal-related-carousel" data-overlay-related-video-items></div>\n        </section>\n    </div>\n']);return d=function(){return e},e}function h(){var e=(0,c.Z)(['\n    <div class="overlay-video-grid__modal-related-video">\n        <button class="overlay-video-grid__modal-related-video-button" data-video-id-replacement="','">\n            <div class="overlay-video-grid__videos-container overlay-video-grid__modal-related-video-container">\n                <img class="overlay-video-grid__videos-container-placeholder" src="','" alt="','" />\n                <span class="overlay-video-grid__videos-container-timestamp"><span>','</span></span>\n            </div>\n            <div class="overlay-video-grid__modal-related-video-copy">\n                <h4 class="overlay-video-grid__modal-related-video-heading">','</h4>\n                <h5 class="overlay-video-grid__modal-related-video-subheading">',"</h5>\n            </div>\n        </button>\n    </div>\n"]);return h=function(){return e},e}function v(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(Object(i),!0).forEach((function(t){(0,r.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var f={videoHub:{moreInThisTopic:"More In This Topic"}},m=window.mbNafta.ns("pageData").localization,y={navigationType:l.Carousel.CAROUSEL_TYPES.BOTTOM,transitionType:l.Carousel.TRANSITION_TYPES.SLIDING},g=function(){function e(t,i,s,o){(0,n.Z)(this,e),this.resultsElm=t,this.videoPath=i,this.videoCategory=s,this.sections=o,this.content=u({},f,{},m),this.createRelatedVideosGrid=this.createRelatedVideosGrid.bind(this),this.render=this.render.bind(this),this.appendResults=this.appendResults.bind(this),this.replaceVideo=this.replaceVideo.bind(this),this.carouselConfig=u({},y),this.init()}return(0,s.Z)(e,[{key:"init",value:function(){this.getSectionVideos()}},{key:"getSectionVideos",value:function(){var e=this,t=this.sections.filter((function(t){return t.tag.name===e.videoCategory}));this.createRelatedVideosGrid(t)}},{key:"getRelatedVideos",value:function(e){var t=this;return e.filter((function(e){return e.path!==t.videoPath}))}},{key:"searchError",value:function(){return null}},{key:"createRelatedVideosGrid",value:function(e){var t=this;if(this.sectionVideos=e[0],!this.sectionVideos)return null;var i=this.render(this.content),n=i.querySelector("[".concat("data-overlay-related-video-items","]")),s=this.getRelatedVideos(this.sectionVideos.videos),r=[];if(!(s.length>0))return!0;s.forEach((function(e){var i=t.renderVideo(e);i.querySelector("[".concat("data-video-id-replacement","]")).addEventListener(o.FP.CLICK,t.replaceVideo),r.push(i)}));var c=new l.Carousel(r,this.carouselConfig).getCarousel();return a.jG.insert(c,n),this.appendResults(i),!0}},{key:"render",value:function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.e2)(d(),e.videoHub.moreInThisTopic)}(e)({getNode:!0})}},{key:"renderVideo",value:function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.e2)(h(),e.video,e.thumbnail,e.title,e.timestamp,e.heading,e.subHeading)}(e)({getNode:!0})}},{key:"appendResults",value:function(e){a.jG.insert(e,this.resultsElm)}},{key:"replaceVideo",value:function(e){var t;e.preventDefault();var i=e.currentTarget.dataset.videoIdReplacement;this.sectionVideos.videos.forEach((function(e){e.video===i&&(t=e)}));var n={video:t,tag:this.sectionVideos.tag};a.Jw.dispatchEvent(a.Jw.createCustomEvent(o.fD.RELATED_VIDEO_SELECTED,{detail:n}))}}]),e}();function p(){var e=(0,c.Z)(['\n    <h5 class="overlay-video-grid__modal-videos-tag">','</h5>\n    <h4 class="overlay-video-grid__modal-videos-heading">\n        ',"\n    </h4>\n    <div>\n        ","\n    </div>\n"]);return p=function(){return e},e}var E=function(){function e(t,i){(0,n.Z)(this,e),this.data=t,this.tag=i,this.render=this.render.bind(this)}return(0,s.Z)(e,[{key:"render",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.e2)(p(),t.title,e.heading,e.body)}(this.data,this.tag)({getNode:!0})}}]),e}(),O=i(75402),C=i(24745);function b(){var e=(0,c.Z)(['\n<div class="overlay-video-grid__modal">\n    <div class="overlay-video-grid__modal-video">\n        ','\n    </div>\n    <div class="overlay-video-grid__modal-text" data-overlay-video-grid-text>\n        ','\n        <h4 class="overlay-video-grid__modal-videos-heading">\n            ',"\n        </h4>\n        <div>\n            ","\n        </div>\n    </div>\n    ","\n</div>"]);return b=function(){return e},e}var k=function(){function e(t,i){(0,n.Z)(this,e),this.element=t,this.sections=i,this.modalOpenersElm=[],this.targetElm=null,this.currentTriggerElm=null,this.init()}return(0,s.Z)(e,[{key:"init",value:function(){this.setBindings(),this.cacheDOM(),this.attachEvents()}},{key:"setBindings",value:function(){this.onVideoTileClick=this.onVideoTileClick.bind(this),this.initModalVideos=this.initModalVideos.bind(this),this.onAfterVideoModalOpen=this.onAfterVideoModalOpen.bind(this),this.getRelatedVideos=this.getRelatedVideos.bind(this),this.onRelatedVideoSelected=this.onRelatedVideoSelected.bind(this),this.onBeforeModalClose=this.onBeforeModalClose.bind(this)}},{key:"cacheDOM",value:function(){this.modalOpenersElm=this.element.querySelectorAll(".".concat("overlay-video-grid__videos-link")),this.tilesContainer=this.element.querySelector(".".concat("overlay-video-grid__videos-topics")),this.overlayTileGridContainer=this.element.querySelector(".".concat("overlay-video-grid__copy-container"))}},{key:"attachEvents",value:function(){var e=this;[].slice.call(this.modalOpenersElm).forEach((function(t){t.addEventListener(o.FP.CLICK,e.onVideoTileClick),t.classList.add("overlay-video-grid__videos-link--enabled")})),a.Jw.addEventListener(o.fD.RELATED_VIDEO_SELECTED,this.onRelatedVideoSelected)}},{key:"detachEvents",value:function(){var e=this;[].slice.call(this.modalOpenersElm).forEach((function(t){t.removeEventListener(o.FP.CLICK,e.onVideoTileClick)})),a.Jw.removeEventListener(o.fD.RELATED_VIDEO_SELECTED,this.onRelatedVideoSelected)}},{key:"destroy",value:function(){this.detachEvents(),this.modalOpenersElm=[],this.tilesSections=null,this.element.remove()}},{key:"onVideoTileClick",value:function(e){var t=e.currentTarget;this.currentTriggerElm=t,this.targetElm=t.dataset,this.overlayVideoTemplate=function(e){var t=e.videoTitle,i=e.videoBody,n=e.videoId,s=e.videoTranscript,o=e.videoCategory,r=e.videoCategoryTitle;return(0,a.e2)(b(),n?(0,C.Z)({videoId:n,videoTranscript:s})({getNode:!1}):"",o?'<h5 class="overlay-video-grid__modal-videos-tag">'.concat(r,"</h5>"):"",t,i,o?'<div class="overlay-video-grid__modal-related" data-overlay-video-grid-related></div>':"")}(this.targetElm)({getNode:!0});var i=this.overlayVideoTemplate.querySelector(".".concat("youtube-modal__outer-container"));this.youTubeModalContent=new O.u9({videoId:this.targetElm.videoId,videoTranscript:this.targetElm.videoTranscript,youTubeElement:i}),this.getRelatedVideos(this.targetElm.videoPath,this.targetElm.videoCategory||null),this.initModalVideos()}},{key:"initModalVideos",value:function(){this.youTubeModal=new O.vK(this.targetElm.videoId,this.overlayVideoTemplate,{afterModalOpen:this.onAfterVideoModalOpen,beforeModalClose:this.onBeforeModalClose})}},{key:"onAfterVideoModalOpen",value:function(){this.youTubeModalContent.initialize()}},{key:"onBeforeModalClose",value:function(){this.currentTriggerElm.focus()}},{key:"getRelatedVideos",value:function(e,t){var i=this.overlayVideoTemplate.querySelector(".".concat("overlay-video-grid__modal-related"));i&&new g(i,e,t,this.sections)}},{key:"onRelatedVideoSelected",value:function(e){if(this.overlayVideoTemplate){var t=e.detail.video,i=e.detail.tag,n=this.overlayVideoTemplate.querySelector("[".concat("data-overlay-video-grid-text","]")),s=new E(t,i).render();a.jG.insert(s,n),this.youTubeModalContent.update(t.video,t.transcript),this.getRelatedVideos(t.path,i.name)}else this.destroy()}}]),e}()},40294:function(e,t,i){i.d(t,{Z:function(){return l}});var n=i(15671),s=i(43144),o=i(48218),a="href",r="target",l=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.init()}return(0,s.Z)(e,[{key:"init",value:function(){this.setBindings(),this.cacheDOM(),this.attachEvents()}},{key:"setBindings",value:function(){this.onLinkButtonClick=this.onLinkButtonClick.bind(this)}},{key:"cacheDOM",value:function(){this.linkButton=this.element.querySelector(".".concat("text-tile__button"))}},{key:"attachEvents",value:function(){this.linkButton&&this.linkButton.addEventListener(o.FP.CLICK,this.onLinkButtonClick)}},{key:"detachEvents",value:function(){this.linkButton&&this.linkButton.removeEventListener(o.FP.CLICK,this.onLinkButtonClick)}},{key:"onLinkButtonClick",value:function(e){e.target.classList.contains("disclaimer__legend-reference")||(this.linkButton.hasAttribute(r)?window.open(this.linkButton.getAttribute(a),this.linkButton.getAttribute(r)):window.location.href=this.linkButton.getAttribute(a))}},{key:"destroy",value:function(){this.detachEvents()}}]),e}()},83189:function(e,t,i){i.d(t,{A:function(){return f}});var n=i(4942),s=i(15671),o=i(43144),a=i(48218),r=i(61156);function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var c="multi-slide-nav--active",d="data-multi-slide-carousel-nav-right",h="px",v={activeSmall:!0,activeLarge:!1,activeXLarge:!1,transitionSpeed:1},u=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.Z)(this,e),this.element=t,this.config=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},v,{},i),this.navControls={},this.navOffset=0,this.navOffsetCount=0,this.navOffsetCountSingle=0,this.navWidth=0,this.navItemWidth=0,this.navParentWidth=0,this.carouselIsActive=!0,this.currentScreenState=r.sp.getState(),this.init()}return(0,o.Z)(e,[{key:"init",value:function(){this.cacheDOM(),this.setDefaults(),this.attachEvents()}},{key:"cacheDOM",value:function(){this.carouselElm=this.element.querySelector("[".concat("data-multi-slide-carousel","]")),this.itemsListElm=this.element.querySelector("[".concat("data-multi-slide-carousel-items-list","]")),this.navControls.leftArrowElm=this.element.querySelector("[".concat("data-multi-slide-carousel-nav-left","]")),this.navControls.rightArrowElm=this.element.querySelector("[".concat(d,"]"))}},{key:"setDefaults",value:function(){this.navItemWidth=this.itemsListElm.firstElementChild.offsetWidth,this.navWidth=this.navItemWidth*this.itemsListElm.childElementCount,this.navParentWidth=this.itemsListElm.parentElement.offsetWidth,this.itemsListElm.style.width="".concat(this.navWidth).concat(h),this.itemsListElm.style.left="0".concat(h),this.config.activeSmall&&this.carouselElm.classList.add("multi-slide-small--active"),this.config.activeLarge&&this.carouselElm.classList.add("multi-slide-large--active"),this.config.activeXLarge&&this.carouselElm.classList.add("multi-slide-xlarge--active"),this.carouselIsActive=this.itemsListElm.offsetWidth>this.carouselElm.offsetWidth,this.carouselIsActive?(this.navControls.rightArrowElm.classList.add(c),this.navControls.leftArrowElm.classList.remove(c),this.navOffset=0,this.navOffsetCount=0,this.navOffsetCountSingle=0):(this.navControls.rightArrowElm.classList.remove(c),this.navControls.leftArrowElm.classList.remove(c))}},{key:"attachEvents",value:function(){var e=this;this.navControls.rightArrowElm.addEventListener(a.FP.CLICK,(function(t){e.arrowClickListener(t)})),this.navControls.leftArrowElm.addEventListener(a.FP.CLICK,(function(t){e.arrowClickListener(t)})),[].slice.call(this.itemsListElm.childNodes).forEach((function(t){t.addEventListener(a.FP.TOUCHSTART,(0,r.Ds)(e.touchListenerStart.bind(e),10)),t.addEventListener(a.FP.TOUCHMOVE,(0,r.Ds)(e.touchListenerMove.bind(e),20))})),[].slice.call(this.itemsListElm.children).forEach((function(t,i){t.addEventListener(a.FP.CLICK,(function(){return e.itemClickListener(t,i)}))})),r.sp.addResizeListener((function(t){e.screenResizeListener(t)}))}},{key:"itemClickListener",value:function(e){if(this.carouselIsActive){var t=parseInt(this.itemsListElm.style.left,10),i=e.offsetLeft+this.navItemWidth+t,n=this.navParentWidth-this.navControls.rightArrowElm.offsetWidth,s=-t-this.navControls.leftArrowElm.offsetWidth,o=-t+this.navControls.leftArrowElm.offsetWidth;e.offsetLeft===-t||e.offsetLeft>s&&e.offsetLeft<o?this.showItem(!1,!0):i>n&&this.showItem(!0,!0)}}},{key:"arrowClickListener",value:function(e){if(this.carouselIsActive){var t=e.currentTarget.hasAttribute(d);this.showItem(t)}}},{key:"screenResizeListener",value:function(e){this.currentScreenState.viewport.w!==e.viewport.w&&this.setDefaults(),this.currentScreenState=e}},{key:"paginateLooping",value:function(e){var t=this;if(this.carouselIsActive){var i=Math.floor(this.navParentWidth/this.navItemWidth),n=e?"li:nth-child(-n+".concat(i):"li:nth-last-child(-n+".concat(i);[].slice.call(this.itemsListElm.querySelectorAll(n)).forEach((function(i){return r.jG[e?"append":"prepend"](i,t.itemsListElm)}))}}},{key:"showItem",value:function(e,t){var i=t?1:Math.floor(this.navParentWidth/this.navItemWidth),n=this.navOffset,s=parseInt(this.itemsListElm.style.left,10);t?(this.navOffsetCountSingle=e?-i:i,this.navOffset=this.navItemWidth*Math.abs(this.navOffsetCountSingle)):(this.navOffsetCount+=e?-i:i,this.navOffsetCountSingle=this.navOffsetCount,this.navOffset=this.navItemWidth*Math.abs(this.navOffsetCount),-s<this.navParentWidth&&!e&&(this.navOffset=0)),!e&&t?this.navOffset=n-this.navItemWidth:e&&t&&(this.navOffset=n+this.navItemWidth);var o=this.navWidth-this.navOffset<this.navParentWidth;this.navOffset=o?this.navWidth-this.navParentWidth:this.navOffset,this.navControls.leftArrowElm.classList[this.navOffset<=0?"remove":"add"](c),this.navControls.rightArrowElm.classList[o?"remove":"add"](c);var a=0;this.navOffset>n?a=(this.navOffset-n)*this.config.transitionSpeed:this.navOffset<n&&(a=(n-this.navOffset)*this.config.transitionSpeed),this.itemsListElm.style.transitionDuration="".concat(a).concat("ms"),this.itemsListElm.style.left="-".concat(this.navOffset).concat(h),0===this.navOffset&&(this.navOffsetCount=0)}},{key:"touchListenerStart",value:function(e){this.xCoordinate=e.touches[0].pageX}},{key:"touchListenerMove",value:function(e){if(this.carouselIsActive&&this.xCoordinate){var t=this.xCoordinate-e.touches[0].pageX;t>0&&this.navControls.rightArrowElm.classList.contains(c)?this.navControls.rightArrowElm.click():t<0&&this.navControls.leftArrowElm.classList.contains(c)&&this.navControls.leftArrowElm.click()}}}]),e}(),f=u}}]);
//# sourceMappingURL=62fee9084916e72890b0.bundle.js.map