"use strict";(self.webpackChunk_mbusa_now_aem=self.webpackChunk_mbusa_now_aem||[]).push([[1544],{18814:function(e,t,i){i.d(t,{Z:function(){return l}});var n=i(15671),a=i(43144),s=i(79725),l=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.pluginName=this.element.dataset.pluginId,this.dependencies=this.element.dataset.pluginDependencies,this.dependencyLoader=new s.Z,this.cacheDOM(),this.loadPlugin()}return(0,a.Z)(e,[{key:"cacheDOM",value:function(){this.pluginContainer=this.element.querySelector("#".concat(this.pluginName).concat("-plugin-container"))}},{key:"loadPlugin",value:function(){return this.pluginContainer&&this.dependencyLoader.loadPlugins([this.pluginName]),Promise.resolve()}}]),e}()},2923:function(e,t,i){i.d(t,{Z:function(){return l}});var n=i(15671),a=i(43144),s=i(4788),l=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.accordionElement=this.element.querySelector("[data-accordion]"),this.accordion=s.accordionParser.createAccordion({element:this.accordionElement})}}]),e}()},53419:function(e,t,i){i.d(t,{Z:function(){return c}});var n=i(15671),a=i(43144),s=i(48218),l=i(98248),o="nav-profile__container--active",r=window.mbNafta.ns("pageData").wcmmode.edit||window.mbNafta.ns("pageData").wcmmode.preview,c=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.authApi=new l.Z,this.isLoggedIn=this.authApi.isLoggedIn(),!r&&this.element&&this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.cacheDOM(),(this.loginButtonElm&&this.registerButtonElm||this.logoutButtonElm)&&(this.setAuthState(),this.setBindings(),this.attachEvents())}},{key:"cacheDOM",value:function(){this.globalHeaderButtonAuthenticatedElms=[].slice.call(document.querySelectorAll(".".concat("global-header__menu-l2-list-button--authenticated"))),this.globalHeaderButtonUnauthenticatedElms=[].slice.call(document.querySelectorAll(".".concat("global-header__menu-l2-list-button--unauthenticated"))),this.navProfileButtonAuthenticatedElm=document.querySelector(".".concat("nav-profile__l2-button--authenticated")),this.navProfileButtonUnauthenticatedElm=document.querySelector(".".concat("nav-profile__l2-button--unauthenticated")),this.navProfileContainerUnauthenticatedElm=this.element.querySelector(".".concat("nav-profile__container--unauthenticated")),this.navProfileContainerAuthenticatedElm=this.element.querySelector(".".concat("nav-profile__container--authenticated")),this.loginButtonElm=this.element.querySelector(".".concat("nav-profile__login")),this.registerButtonElm=this.element.querySelector(".".concat("nav-profile__register")),this.logoutButtonElm=this.element.querySelector(".".concat("nav-profile__logout"))}},{key:"setBindings",value:function(){this.authLinkClickHandler=this.authLinkClickHandler.bind(this),this.registerClickHandler=this.registerClickHandler.bind(this),this.logoutClickHandler=this.logoutClickHandler.bind(this)}},{key:"attachEvents",value:function(){this.isLoggedIn?this.logoutButtonElm.addEventListener(s.FP.CLICK,this.logoutClickHandler):(this.loginButtonElm.addEventListener(s.FP.CLICK,this.authLinkClickHandler),this.registerButtonElm.addEventListener(s.FP.CLICK,this.registerClickHandler))}},{key:"detachEvents",value:function(){this.isLoggedIn?this.logoutButtonElm.removeEventListener(s.FP.CLICK,this.logoutClickHandler):(this.loginButtonElm.removeEventListener(s.FP.CLICK,this.authLinkClickHandler),this.registerButtonElm.removeEventListener(s.FP.CLICK,this.registerClickHandler))}},{key:"setAuthState",value:function(){this.isLoggedIn?(this.navProfileContainerAuthenticatedElm.classList.add(o),this.navProfileContainerUnauthenticatedElm.remove()):(this.navProfileContainerUnauthenticatedElm.classList.add(o),this.navProfileContainerAuthenticatedElm.remove()),this.groomAuthButtons()}},{key:"groomAuthButtons",value:function(){this.isLoggedIn?(this.navProfileButtonUnauthenticatedElm&&this.navProfileButtonUnauthenticatedElm.remove(),this.globalHeaderButtonUnauthenticatedElms.forEach((function(e){e&&e.remove()}))):(this.navProfileButtonAuthenticatedElm&&this.navProfileButtonAuthenticatedElm.remove(),this.globalHeaderButtonAuthenticatedElms.forEach((function(e){e&&e.remove()})))}},{key:"authLinkClickHandler",value:function(){this.authApi.authRedirect(l.Z.AUTH_PAGES.LOGIN)}},{key:"registerClickHandler",value:function(){this.authApi.authRedirect(l.Z.AUTH_PAGES.REGISTRATION)}},{key:"logoutClickHandler",value:function(){this.authApi.authRedirect(l.Z.AUTH_PAGES.LOGOUT)}},{key:"destroy",value:function(){this.detachEvents()}}]),e}()},47597:function(e,t,i){i.d(t,{Z:function(){return l}});var n=i(15671),a=i(43144),s=i(14569),l=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.cacheDOM(),this.createToggleDrawers()}return(0,a.Z)(e,[{key:"cacheDOM",value:function(){this.detailViewCtas=this.element.querySelectorAll(".".concat("toggle-drawer-cta"))}},{key:"createToggleDrawers",value:function(){[].slice.call(this.detailViewCtas).map((function(e){return new s.ToggleDrawer(e)}))}}]),e}()},2315:function(e,t,i){i.d(t,{Z:function(){return l}});var n=i(15671),a=i(43144),s=i(79725),l=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.pluginName=this.element.dataset.pluginId,this.dependencies=this.element.dataset.pluginDependencies,this.dependencyLoader=new s.Z,this.loadPlugin=this.loadPlugin.bind(this),this.cacheDOM(),this.loadPlugin()}return(0,a.Z)(e,[{key:"cacheDOM",value:function(){this.pluginContainer=this.element.querySelector("#".concat(this.pluginName).concat("-plugin-container"))}},{key:"loadPlugin",value:function(){return this.pluginContainer?this.dependencyLoader.loadPlugins([this.pluginName]):Promise.resolve()}}]),e}()},42063:function(e,t,i){i.d(t,{Z:function(){return l}});var n=i(15671),a=i(43144),s=i(79725),l=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.pluginName=this.element.dataset.pluginId,this.dependencies=this.element.dataset.pluginDependencies,this.dependencyLoader=new s.Z,this.loadPlugin=this.loadPlugin.bind(this),this.cacheDOM(),this.loadPlugin()}return(0,a.Z)(e,[{key:"cacheDOM",value:function(){this.pluginContainer=this.element.querySelector("#".concat(this.pluginName).concat("-plugin-container"))}},{key:"loadPlugin",value:function(){return this.pluginContainer?this.dependencyLoader.loadPlugins([this.pluginName]):Promise.resolve()}}]),e}()},1897:function(e,t,i){i.d(t,{Z:function(){return o}});var n=i(15671),a=i(43144),s=i(48218),l=i(61156),o=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.setBindings(),this.cacheDOM(),this.attachEvents(),this.dismissalCookie=this.createCookieName(),""===l.pR.getCookie(this.dismissalCookie)?this.show():this.destroy()}},{key:"setBindings",value:function(){this.dismissBanner=this.dismissBanner.bind(this)}},{key:"cacheDOM",value:function(){this.dismissBtnElm=this.element.querySelector(".".concat("promo-banner__dismiss-button"))}},{key:"attachEvents",value:function(){this.dismissBtnElm.addEventListener(s.FP.CLICK,this.dismissBanner)}},{key:"detachEvents",value:function(){this.dismissBtnElm.removeEventListener(s.FP.CLICK,this.dismissBanner)}},{key:"createCookieName",value:function(){var e=this.element.dataset.cookieId||"",t=window.location.pathname.replace(/[\W]/gi,"");return"".concat("mbusa_promo_banner_dismissed","_").concat(t,"_").concat(e)}},{key:"show",value:function(){this.element.classList.remove("hide--height")}},{key:"dismissBanner",value:function(){l.pR.setCookie({name:this.dismissalCookie,value:"true"}),this.destroy()}},{key:"destroy",value:function(){this.detachEvents(),this.element.remove(),delete this.element}}]),e}()},28689:function(e,t,i){i.d(t,{Z:function(){return h}});var n=i(42982),a=i(15671),s=i(43144),l=i(61156),o="specialty-chapter-detail-hero__model-stats--active",r="aria-hidden",c="aria-expanded",h=function(){function e(t){(0,a.Z)(this,e),this.element=t,this.statsDisplayed=!1,this.cacheDOM(),this.setBindings(),this.specialtyChapterHeroModelName&&this.attachEvents()}return(0,s.Z)(e,[{key:"cacheDOM",value:function(){this.specialtyChapterHeroModelStats=this.element.querySelector(".".concat("specialty-chapter-detail-hero__model-stats")),this.specialtyChapterHeroModelStatsDetails=(0,n.Z)(this.element.querySelectorAll(".".concat("specialty-chapter-detail-hero__model-stats-details"))),this.specialtyChapterHeroModelName=this.element.querySelector(".".concat("specialty-chapter-detail-hero__model-name"))}},{key:"attachEvents",value:function(){this.toggleStats=new l.Lp(this.specialtyChapterHeroModelName,this.onToggleStatsFocus,this.onToggleStatsBlur,{ignoreElems:this.specialtyChapterHeroModelStats})}},{key:"setBindings",value:function(){this.onToggleStatsFocus=this.onToggleStatsFocus.bind(this),this.onToggleStatsBlur=this.onToggleStatsBlur.bind(this)}},{key:"onToggleStatsFocus",value:function(){this.statsDisplayed?this.hideStats():this.displayStats()}},{key:"onToggleStatsBlur",value:function(){this.hideStats()}},{key:"displayStats",value:function(){this.specialtyChapterHeroModelStats.classList.add(o),this.statsDisplayed=!0,this.specialtyChapterHeroModelStatsDetails.forEach((function(e){e.setAttribute("tabindex","0")})),this.specialtyChapterHeroModelStats.setAttribute(r,"false"),this.specialtyChapterHeroModelName.setAttribute(c,"true"),this.specialtyChapterHeroModelStatsDetails[0].focus()}},{key:"hideStats",value:function(){this.specialtyChapterHeroModelStats.classList.remove(o),this.statsDisplayed=!1,this.specialtyChapterHeroModelStatsDetails.forEach((function(e){e.removeAttribute("tabindex")})),this.specialtyChapterHeroModelStats.setAttribute(r,"true"),this.specialtyChapterHeroModelName.setAttribute(c,"false")}}]),e}()},45969:function(e,t,i){i.d(t,{Z:function(){return l}});var n=i(15671),a=i(43144),s=i(79725),l=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.pluginName=this.element.dataset.pluginId,this.dependencies=this.element.dataset.pluginDependencies,this.dependencyLoader=new s.Z,this.loadPlugin=this.loadPlugin.bind(this),this.cacheDOM(),this.loadPlugin()}return(0,a.Z)(e,[{key:"cacheDOM",value:function(){this.pluginContainer=this.element.querySelector("#".concat(this.pluginName).concat("-plugin-container"))}},{key:"loadPlugin",value:function(){return this.pluginContainer?this.dependencyLoader.loadPlugins([this.pluginName]):Promise.resolve()}}]),e}()},29889:function(e,t,i){i.d(t,{TY:function(){return p},V1:function(){return o},mu:function(){return c}});var n=i(15671),a=i(43144),s=i(61156),l=i(48218),o=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.videoElm=null,this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.setBindings(),this.cacheDOM(),this.attachEvents(),this.imageElm&&this.setImageInlineAspectRatio()}},{key:"setBindings",value:function(){this.onImageLoad=this.onImageLoad.bind(this),this.onImageMutation=this.onImageMutation.bind(this),this.onResize=(0,s.P2)(this.onResize.bind(this),50),this.playVideo=this.playVideo.bind(this),this.setImageInlineAspectRatio=this.setImageInlineAspectRatio.bind(this)}},{key:"cacheDOM",value:function(){this.imageElm=this.element.querySelector(".".concat("fixed-hero__image")),this.multimediaContainerElm=this.element.querySelector(".".concat("multimedia-container")),this.videoElm=this.element.querySelector(".".concat("timeline-video__video"))}},{key:"attachEvents",value:function(){var e,t;s.sp.addResizeListener(this.onResize),null===(e=this.imageElm)||void 0===e||e.addEventListener(l.FP.LOAD,this.onImageLoad),this.imageElm&&(this.observer=new MutationObserver(this.onImageMutation),this.observer.observe(this.imageElm,{attributes:!0,attributeOldValue:!0})),null===(t=this.videoElm)||void 0===t||t.addEventListener(l.FP.CAN_PLAY,this.playVideo)}},{key:"detachEvents",value:function(){var e,t;s.sp.removeResizeListener(this.onResize),null===(e=this.imageElm)||void 0===e||e.removeEventListener(l.FP.LOAD,this.onImageLoad),null===(t=this.videoElm)||void 0===t||t.removeEventListener(l.FP.CAN_PLAY,this.playVideo)}},{key:"onImageLoad",value:function(){this.setImageInlineAspectRatio()}},{key:"onImageMutation",value:function(e){var t=this;e.forEach((function(e){("class"===e.attributeName&&e.target.classList.contains("lazy-loader__asset--loaded")||e.target.offsetWidth!==e.target.offsetHeight)&&(t.observer.disconnect(),t.setImageInlineAspectRatio())}))}},{key:"onResize",value:function(){this.imageElm&&this.setImageInlineAspectRatio()}},{key:"playVideo",value:function(){this.videoElm.play()}},{key:"setImageInlineAspectRatio",value:function(){var e=this.imageElm.naturalWidth/this.imageElm.naturalHeight,t=this.multimediaContainerElm.offsetWidth/this.multimediaContainerElm.offsetHeight;this.imageElm.style.width=e>t?"auto":"100%",this.imageElm.style.height=e>t?"100%":"auto"}},{key:"destroy",value:function(){this.detachEvents(),this.element.remove(),delete this.element}}]),e}(),r=i(14569),c=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.cacheDOM(),this.multimediaElms.length&&this.createView()}},{key:"cacheDOM",value:function(){this.multimediaElms=[].slice.call(this.element.querySelectorAll(".".concat("multimedia-asset")))}},{key:"createView",value:function(){this.carouselInstance=r.carouselParser.createCarousel(this.element)[0].carousel}}]),e}(),h="timeline__left-rail__years-item",d="timeline__left-rail__years-item--active",u=window.mbNafta.ns("pageData").wcmmode.edit||window.mbNafta.ns("pageData").wcmmode.preview,p=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.activeTile=null,this.init(),this.updateScroll()}return(0,a.Z)(e,[{key:"init",value:function(){this.cacheDOM(),this.setBindings(),u||this.attachEvents()}},{key:"cacheDOM",value:function(){this.tiles=[].slice.call(this.element.querySelectorAll(".".concat("timeline-tile"))),this.guards=[].slice.call(this.element.querySelectorAll(".".concat("timeline-guard"))),this.timelineWrapper=this.element,this.leftRail=this.element.querySelector(".".concat("timeline__left-rail")),this.leftRailListContainer=this.element.querySelector(".".concat("timeline__left-rail__years")),this.years=this.tiles.map((function(e){var t=[].map.call(e.querySelectorAll(".".concat("timeline-tile__event-date")),(function(e){return e.textContent}));return Array.prototype.unique&&(t=t.unique()),{tile:e,years:t.filter((function(e){return""!==e}))}}))}},{key:"setBindings",value:function(){this.updateScroll=this.updateScroll.bind(this)}},{key:"attachEvents",value:function(){var e=this;this.tiles.concat([this.timelineWrapper].concat(this.guards)).forEach((function(t){e.vObserver?e.vObserver.observe(t):e.vObserver=s.sw.addObserver(t,e.updateScroll,{threshold:[.9,.81,.7,.61,.51,.4,.1,0],rootMargin:"0px"})}))}},{key:"detachEvents",value:function(){s.sw.removeObserver(this.vObserver)}},{key:"destroy",value:function(){this.detachEvents()}},{key:"updatePosition",value:function(e,t,i,n,a,s){e.top>0?(t.classList.add(n),t.classList.remove(i,a)):e.bottom<s?(t.classList.add(i),t.classList.remove(n,a)):(t.classList.add(a),t.classList.remove(i,n))}},{key:"updateScroll",value:function(){var e=this,t=window.innerHeight,i=this.element.getBoundingClientRect();this.updatePosition(i,this.leftRail,"timeline__left-rail--up","timeline__left-rail--down","timeline__left-rail--center",t);var n=this.activeTile,a=Number.NEGATIVE_INFINITY;this.tiles.forEach((function(i){var s=i.getBoundingClientRect(),l=s.top,o=s.bottom,r=(Math.min(o,t)-Math.max(l,0))/t;r>a&&(n=i,a=r),e.updatePosition(s,i,"timeline-tile--up","timeline-tile--down","timeline-tile--center",t)})),a<.2&&(n=null),n&&n!==this.activeTile&&(this.activeTile=n,this.populateLeftRail(this.activeTile,t))}},{key:"populateLeftRail",value:function(e,t){var i=document.createElement("ul");i.classList.add("timeline__left-rail__years-list");var n=[],a=new Map,s=null,l=null;this.years.forEach((function(t){var i=t.tile,o=t.years,r=o.length,c=o;if(i===e){if(0===r){if(null===l)throw new Error("First tile in section must have an eyebrow");if(1===l.length){var u=n[n.length-1];return u.classList.add(d),void(s=u)}n.pop(),c=l}if(c.length>1){var p=Math.floor(o.length/2);c.forEach((function(e,t){var i=document.createElement("li");i.append(e),i.classList.add(h,d),n.push(i),t===p&&(s=i)}))}else{var v=c[0],m=a.get(v);if(m)m.classList.add(d),s=m;else{var g=document.createElement("li");g.append(v),g.classList.add(h,d),n.push(g),a.set(v,g),s=g}}}else if(r>0){if(1===r&&a.has(o[0]))return;var f=1===r?o[0]:"•",y=document.createElement("li");1===r&&a.set(o[0],y),y.append(f),y.classList.add(h),n.push(y),l=o}})),i.append.apply(i,n);var o=this.leftRailListContainer.firstElementChild;this.leftRailListContainer.replaceChild(i,o),s&&s.offsetParent&&s.offsetParent.scrollTo(0,s.offsetTop-t/4)}}]),e}()},2055:function(e,t,i){i.d(t,{Z:function(){return p}});var n=i(15671),a=i(43144),s=i(48218),l=i(61156),o=i(14569),r=i(30168);function c(){var e=(0,r.Z)(['\n<div class="model-line-selector__lines-list wrapper">\n<div class="model-line-selector__line" data-analytics-container="{\'blade\':\'line-tile\',\'vehicle\':{\'class\':\'C-Class\',\'body\':\'SDN\',\'model\':\'C300W\',\'line code\':\'DX0\',\'line name\':\'Premium Trim\'},\'pricingDetails\':{\'startprice\':\'43550\'}}">\n   <div class="model-line-selector__line-content model-line-selector__line-content--active">\n      <div class="model-line-selector__line-wrapper">\n         <button class="model-line-selector__line-preview-btn" aria-pressed="true" aria-label="Premium Trim, View Vehicle, Starting at $43,550" data-model-line-code="DX0"></button>\n         <h3 class="model-line-selector__line-name">Premium Trim</h3>\n         <p class="model-line-selector__line-price">\n            Starting at\n            <strong>\n            $43,550\n            <a href="#disclaimer-drawer" class="disclaimer__marker" aria-controls="disclaimer-drawer" data-legend="*">\n            <span class="offscreen">Disclaimer</span>*\n            </a>\n            </strong>\n         </p>\n         <p class="model-line-selector__line-description">Standard luxuries include heated power front seats, dual digital displays, 64-color ambient lighting and a sunroof, plus Blind Spot Assist and PRE-SAFE®.</p>\n      </div>\n      <div class="model-line-selector__line-highlights-drawer">\n         <button class="model-line-selector__line-highlights-toggle-btn" aria-label="Premium Trim features" aria-expanded="false">\n         Included features\n         </button>\n         <div class="model-line-selector__line-highlights-wrapper toggle-drawer" aria-hidden="true">\n            <div>\n               <ul class="model-line-selector__line-highlights">\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">Heated front seats</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">Power tilt/sliding tinted glass sunroof</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">64-color LED ambient lighting</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">KEYLESS-GO</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">HANDS-FREE ACCESS</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">12.3-inch digital instrument cluster</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">11.9-inch touchscreen central multimedia display</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">PRE-SAFE</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">Blind Spot Assist with Exit Warning Assist</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">LED headlamps and taillamps</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">Parking Damage Detector</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">18-inch 5-spoke wheels</p>\n                  </li>\n               </ul>\n            </div>\n         </div>\n      </div>\n   </div>\n   <a class="model-line-selector__line-btn button button_primary button--full-width" href="/en/vehicles/build/c-class/sedan/c300w?ccs=true&select=9:DX0" aria-label="Start Build, Premium Trim" data-analytics-trigger="cta-start-build">Start Build</a>\n</div>\n<div class="model-line-selector__line" data-analytics-container="{\'blade\':\'line-tile\',\'vehicle\':{\'class\':\'C-Class\',\'body\':\'SDN\',\'model\':\'C300W\',\'line code\':\'DX1\',\'line name\':\'Exclusive Trim\'},\'pricingDetails\':{\'startprice\':\'45800\'}}">\n   <div class="model-line-selector__line-content ">\n      <div class="model-line-selector__line-wrapper">\n         <button class="model-line-selector__line-preview-btn" aria-pressed="false" aria-label="Exclusive Trim, View Vehicle, Starting at $45,800" data-model-line-code="DX1"></button>\n         <h3 class="model-line-selector__line-name">Exclusive Trim</h3>\n         <p class="model-line-selector__line-price">\n            Starting at\n            <strong>\n            $45,800\n            <a href="#disclaimer-drawer" class="disclaimer__marker" aria-controls="disclaimer-drawer" data-legend="*">\n            <span class="offscreen">Disclaimer</span>*\n            </a>\n            </strong>\n         </p>\n         <p class="model-line-selector__line-description">Popular enhancements include Burmester® 3D Surround Sound, online music streaming, wireless charging, surround-view cameras and PARKTRONIC.</p>\n      </div>\n      <div class="model-line-selector__line-highlights-drawer">\n         <button class="model-line-selector__line-highlights-toggle-btn" aria-label="Exclusive Trim features" aria-expanded="false">\n         Included features\n         </button>\n         <div class="model-line-selector__line-highlights-wrapper toggle-drawer" aria-hidden="true">\n            <div>\n               <ul class="model-line-selector__line-highlights">\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">Includes all Premium Trim features, plus:</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">Enhanced ambient lighting</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">Illuminated front door sills</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">Burmester 3D Surround Sound System</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">Front-cabin wireless charging with NFC pairing</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">Online Music Streaming</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">Surround View System</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">PARKTRONIC with Active Parking Assist</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">GUARD 360 antitheft alarm system</p>\n                  </li>\n               </ul>\n            </div>\n         </div>\n      </div>\n   </div>\n   <a class="model-line-selector__line-btn button button_primary button--full-width" href="/en/vehicles/build/c-class/sedan/c300w?ccs=true&select=9:DX1" aria-label="Start Build, Exclusive Trim" data-analytics-trigger="cta-start-build">Start Build</a>\n</div>\n<div class="model-line-selector__line" data-analytics-container="{\'blade\':\'line-tile\',\'vehicle\':{\'class\':\'C-Class\',\'body\':\'SDN\',\'model\':\'C300W\',\'line code\':\'DX2\',\'line name\':\'Pinnacle Trim\'},\'pricingDetails\':{\'startprice\':\'47500\'}}">\n   <div class="model-line-selector__line-content ">\n      <div class="model-line-selector__line-wrapper">\n         <button class="model-line-selector__line-preview-btn" aria-pressed="false" aria-label="Pinnacle Trim, View Vehicle, Starting at $47,500" data-model-line-code="DX2"></button>\n         <h3 class="model-line-selector__line-name">Pinnacle Trim</h3>\n         <p class="model-line-selector__line-price">\n            Starting at\n            <strong>\n            $47,500\n            <a href="#disclaimer-drawer" class="disclaimer__marker" aria-controls="disclaimer-drawer" data-legend="*">\n            <span class="offscreen">Disclaimer</span>*\n            </a>\n            </strong>\n         </p>\n         <p class="model-line-selector__line-description">Innovative technology adds MB Navigation with augmented video, a year of live traffic info and map updates, and a Head-Up Display.</p>\n      </div>\n      <div class="model-line-selector__line-highlights-drawer">\n         <button class="model-line-selector__line-highlights-toggle-btn" aria-label="Pinnacle Trim features" aria-expanded="false">\n         Included features\n         </button>\n         <div class="model-line-selector__line-highlights-wrapper toggle-drawer" aria-hidden="true">\n            <div>\n               <ul class="model-line-selector__line-highlights">\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">Includes all Exclusive Trim features, plus:</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">MB Navigation</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">No-charge online navigation map updates for 1 year</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">1 year of Live Traffic Information</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">MBUX Augmented Video for Navigation</p>\n                  </li>\n                  <li class="model-line-selector__line-highlight">\n                     <p class="model-line-selector__line-highlight-text">Head-Up Display</p>\n                  </li>\n               </ul>\n            </div>\n         </div>\n      </div>\n   </div>\n   <a class="model-line-selector__line-btn button button_primary button--full-width" href="/en/vehicles/build/c-class/sedan/c300w?ccs=true&select=9:DX2" aria-label="Start Build, Pinnacle Trim" data-analytics-trigger="cta-start-build">Start Build</a>\n</div>\n</div>\n\n']);return c=function(){return e},e}var h="model-line-selector__line-content",d="model-line-selector__line-content--active",u="aria-pressed",p=function(){function e(t){(0,n.Z)(this,e),this.element=t,console.log(l.jG),l.jG.insert((0,l.e2)(c())({getNode:!0}),this.element),this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.setBindings(),this.cacheDOM(),this.attachEvents(),this.toggleDrawers=[],this.initToggleDrawers()}},{key:"setBindings",value:function(){this.onBreakpointCross=this.onBreakpointCross.bind(this),this.onDrawerToggle=this.onDrawerToggle.bind(this),this.onPreviewClick=this.onPreviewClick.bind(this)}},{key:"cacheDOM",value:function(){this.lineTileElms=[].slice.call(this.element.querySelectorAll(".".concat(h))),this.linePreviewButtonElms=[].slice.call(this.element.querySelectorAll(".".concat("model-line-selector__line-preview-btn")))}},{key:"attachEvents",value:function(){var e=this;this.linePreviewButtonElms.forEach((function(t){return t.addEventListener(s.FP.CLICK,e.onPreviewClick)})),l.sp.addBreakpointListener(this.onBreakpointCross)}},{key:"detachEvents",value:function(){var e=this;this.linePreviewButtonElms.forEach((function(t){return t.removeEventListener(s.FP.CLICK,e.onPreviewClick)})),l.sp.removeBreakpointListener(this.onBreakpointCross)}},{key:"onPreviewClick",value:function(e){e.preventDefault(),this.deselectTile(),this.selectTile(e.currentTarget)}},{key:"onBreakpointCross",value:function(){var e=l.sp.gte(l.sp.SIZES.LARGE),t=this.toggleDrawers.some((function(e){return e.isExpanded}));e&&t&&this.toggleDrawers.forEach((function(e){e.openDrawer()}))}},{key:"onDrawerToggle",value:function(e,t){l.sp.gte(l.sp.SIZES.LARGE)&&this.toggleDrawers.forEach((function(e){e[t?"openDrawer":"closeDrawer"]()}))}},{key:"selectTile",value:function(e){e.closest(".".concat(h)).classList.add(d),e.setAttribute(u,!0)}},{key:"deselectTile",value:function(){var e=this.linePreviewButtonElms.find((function(e){return"true"===e.getAttribute(u)}));e.setAttribute(u,!1),e.closest(".".concat(h)).classList.remove(d)}},{key:"initToggleDrawers",value:function(){var e=this;this.lineTileElms.forEach((function(t){var i=t.querySelector(".".concat("model-line-selector__line-highlights-toggle-btn")),n=t.querySelector(".".concat("model-line-selector__line-highlights-wrapper")),a=new o.ToggleDrawer(i,{onToggle:e.onDrawerToggle,toggleDrawer:n});e.toggleDrawers.push(a)}))}}]),e}()},910:function(e,t,i){i.d(t,{Z:function(){return k}});var n=i(15671),a=i(43144),s=i(48218),l=i(61156),o=i(68551),r=i(70885),c=i(74050),h=i(98243),d=window.mbNafta.pageData.videoHub;var u=i(4942),p=i(30168),v=i(90459);function m(){var e=(0,p.Z)(['\n    <li class="overlay-video-grid__videos-topic">\n        <button class="overlay-video-grid__videos-link"\n                data-video-id="','"\n                ','\n                data-video-path="','"\n                data-video-title="','"\n                data-video-body="','"\n                data-video-category="','"\n                data-video-category-title="','"\n                aria-description="','">\n            <div class="overlay-video-grid__videos-container">\n                <img class="overlay-video-grid__videos-container-placeholder" src="','" role="presentation" />\n                <span class="overlay-video-grid__videos-container-timestamp" aria-label="','"><span>','</span></span>\n            </div>\n            <h4 class="overlay-video-grid__videos-heading">\n                ',"\n            </h4>\n            ","\n        </button>\n    </li>\n"]);return m=function(){return e},e}function g(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var f={minute:"minute",minutes:"minutes",second:"second",seconds:"seconds"},y=function(){function e(t,i){(0,n.Z)(this,e),this.data=t,this.tag=i,this.content=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach((function(t){(0,u.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},f,{},window.mbNafta.ns("pageData","localization").videoHub),this.render=this.render.bind(this)}return(0,a.Z)(e,[{key:"render",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,l.e2)(m(),e.video,e.transcript?'data-video-transcript="'.concat(e.transcript,'"'):"",e.path,e.heading,e.body,t.name,t.title,(0,l.NR)(v.Z.modalAlertYouTube,[e.heading]),e.thumbnail,function(e,t){if(e&&-1!==e.indexOf(":")){var i=e.split(":"),n=1===parseInt(i[0],10)?t.minute:t.minutes,a=1===parseInt(i[1],10)?t.second:t.seconds;return"".concat(parseInt(i[0],10)," ").concat(n,", ").concat(parseInt(i[1],10)," ").concat(a)}return""}(e.timestamp,i),e.timestamp,e.heading,e.subHeading?'<h5 class="overlay-video-grid__videos-subheading">'.concat(e.subHeading,"</h5>"):"")}(this.data,this.tag,this.content)({getNode:!0})}}]),e}();function _(){var e=(0,p.Z)(['\n    <div class="overlay-video-grid" id="','" data-filter-waypoint="','" data-waypoint-label="','">\n        <section class="wrapper" data-load-module="OverlayVideoGrid">\n            <div class="overlay-video-grid__copy-container overlay-video-grid__copy-container--left overlay-video-grid__link">\n                <h3 class="default-content-section_header" data-focus-element="true" tabindex="-1">\n                    ','\n                </h3>\n        \n                <ul class="overlay-video-grid__videos-topics wrapper" data-overlay-video-grid-items></ul>\n            </div>\n        </section>\n    </div>\n']);return _=function(){return e},e}var E=function(){function e(t){(0,n.Z)(this,e),this.tag=t.tag,this.videos=t.videos,this.render=this.render.bind(this)}return(0,a.Z)(e,[{key:"render",value:function(){var e=this,t=this.renderSection(this.tag),i=t.querySelector("[".concat("data-overlay-video-grid-items","]"));return this.videos.forEach((function(t){var n=e.renderVideo(t,e.tag);l.jG.append(n,i)})),t}},{key:"renderSection",value:function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.e2)(_(),e.name,e.name,e.title,e.title)}(e)({getNode:!0})}},{key:"renderVideo",value:function(e,t){return new y(e,t).render()}}]),e}(),C=function(){function e(t,i){(0,n.Z)(this,e),this.createGrids=this.createGrids.bind(this),this.handleSearchResults=this.handleSearchResults.bind(this),this.updateUrl=this.updateUrl.bind(this),this.resultsElm=t,this.authoredElm=i,this.stickyNav=null,this.sections=null,this.stickyNavElm=document.querySelector(".sticky-nav")}return(0,a.Z)(e,[{key:"searchVideos",value:function(e){var t=this;this.data=e,function(e){var t,i=d.endpoints.resourcePath,n=d.endpoints.search,a=e.year||null,s=e.classBodyStyle||null,l=e.categoryType||null,o=e.categoryName||null;t=a?".".concat(a):"",t+=s?".".concat(s):"",t+=l?".".concat(l):"",t+=o?".".concat(o):"";var r="".concat(i,".").concat(n).concat(t,".json");return fetch(r,{headers:{"Referrer-Policy":"origin",Referer:window.location.href},method:"GET"}).then((function(e){return e.json()}))}(e).then(this.handleSearchResults).catch((function(e){console.error("Video search failed: ".concat(e)),t.searchError()}))}},{key:"handleSearchResults",value:function(e){this.sections=e,this.createGrids(e),this.updateUrl()}},{key:"createGrids",value:function(e){var t=this,i=l.jG.fromTemplate("<div></div>");if(!(e.length>0))throw Error("Video search failed");e.forEach((function(e){var n=t.renderSection(e);l.jG.append(n,i)})),i=l.jG.unwrappedFragment(i),this.appendResults(i),this.removeAuthored(),this.stickyNavElm&&this.renderStickyNav()}},{key:"updateUrl",value:function(){var e=window.location.search.substring(1).split("&"),t={};e.forEach((function(e){var i=e.split("="),n=(0,r.Z)(i,2),a=n[0],s=n[1];t[a]=s})),Object.entries(this.data).forEach((function(e){null!==e[1]&&(t[e[0]]=e[1])})),window.history.replaceState(t,document.title,"".concat((0,l.HD)(t)))}},{key:"searchError",value:function(){return null}},{key:"renderSection",value:function(e){return new E(e).render()}},{key:"renderStickyNav",value:function(){l.jG.empty(this.stickyNavElm),this.stickyNav=new h.StickyNav(this.stickyNavElm,{waypointSection:"data-filter-waypoint",waypointDataset:"filterWaypoint"})}},{key:"appendResults",value:function(e){this.resultsElm.setAttribute("aria-hidden",!1),l.jG.insert(e,this.resultsElm),new c.Z(this.resultsElm,this.sections)}},{key:"removeAuthored",value:function(){this.authoredElm.remove()}}]),e}(),S=window.mbNafta.pageData.videoHub,b=function(){var e=S.endpoints.resourcePath,t="".concat(e,".").concat(S.endpoints.filters,".json");return fetch(t,{headers:{"Referrer-Policy":"origin",Referer:window.location.href},method:"GET"}).then((function(e){return e.json()}))},w=window.mbNafta.pageData.localization,k=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.labelsOptions=this.labelsOptions.bind(this),this.onSelectedYear=this.onSelectedYear.bind(this),this.activeSubmitBtn=this.activeSubmitBtn.bind(this),this.submit=this.submit.bind(this),this.createSelectClass=this.createSelectClass.bind(this),this.createSelectControlsYears=this.createSelectControlsYears.bind(this),this.createTechVideoSelect=this.createTechVideoSelect.bind(this),this.createSelectPlaceholder=this.createSelectPlaceholder.bind(this),this.searchByURL=this.searchByURL.bind(this),this.getURLParameters=this.getURLParameters.bind(this),this.getSelectedIndex=this.getSelectedIndex.bind(this),this.placeHolderSelect=null,this.yearSelect=null,this.techVideoSelect=null,this.years=null,this.classSelected=null,this.videoSearch=null,this.overrideData={},this.searchOnLoad=!1,this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.cacheDOM(),this.attachEvents(),this.getURLParameters(),this.getYears(),this.getVideoTech(),this.searchByURL()}},{key:"destroy",value:function(){this.detachEvents()}},{key:"cacheDOM",value:function(){this.videoHowToContainer=this.element.querySelector(".".concat("filters-how-to")),this.videoTechContainer=this.element.querySelector(".".concat("filters-tech-video")),this.videoSearchFormSubmit=this.element.querySelector(".".concat("filters-video-hub__filters-submit")),this.resultsElm=document.querySelector(".".concat("video-hub__filtered")),this.authoredElm=document.querySelector(".".concat("video-hub__authored"))}},{key:"attachEvents",value:function(){this.videoSearchFormSubmit.addEventListener(s.FP.CLICK,this.submit)}},{key:"detachEvents",value:function(){this.videoSearchFormSubmit.removeEventListener(s.FP.CLICK,this.submit)}},{key:"getYears",value:function(){var e=this;null!==this.videoHowToContainer&&b().then((function(t){var i=-1;e.years=t.children,e.overrideData.year&&(i=e.getSelectedIndex(e.years,"name",e.overrideData.year)),e.labelsOptions(e.years,i,e.createSelectControlsYears),e.overrideData.year||e.createSelectPlaceholder()}))}},{key:"getVideoTech",value:function(){var e=this;null!==this.videoTechContainer&&b().then((function(t){var i=-1;e.classTag=t.children,e.overrideData.classBodyStyle&&(i=e.getSelectedIndex(e.classTag,"name",e.overrideData.classBodyStyle)),e.labelsOptions(e.classTag,i,e.createTechVideoSelect)}))}},{key:"searchByURL",value:function(){(this.overrideData.year||this.overrideData.classBodyStyle)&&(this.searchOnLoad=!0,this.submit())}},{key:"getURLParameters",value:function(){var e=window.location.search.substring(1),t=(0,l.Hx)(e);null!==this.videoHowToContainer?(t.year&&(this.overrideData.year=t.year),t.classBodyStyle&&(this.overrideData.classBodyStyle=t.classBodyStyle)):null!==this.videoTechContainer&&t.classBodyStyle&&(this.overrideData.classBodyStyle=t.classBodyStyle)}},{key:"getSelectedIndex",value:function(e,t,i){var n=-1;return e.forEach((function(e,a){e[t]===i&&(n=a)})),n}},{key:"getClassbyYear",value:function(e){var t=this,i=-1;this.years.forEach((function(n){n.name===e&&(t.classSelected=n.children,t.overrideData.classBodyStyle&&(i=t.getSelectedIndex(t.classSelected,"name",t.overrideData.classBodyStyle)))})),this.labelsOptions(this.classSelected,i,this.createSelectClass)}},{key:"labelsOptions",value:function(e,t,i){var n=[];e.forEach((function(e){n.push({label:e.title,value:e.name})})),i(n,t)}},{key:"submit",value:function(e){var t;e&&e.preventDefault(),null===this.videoHowToContainer||this.searchOnLoad?null!==this.videoHowToContainer&&this.searchOnLoad?t={year:this.overrideData.year,classBodyStyle:this.overrideData.classBodyStyle,categoryType:null,categoryName:null}:null===this.videoTechContainer||this.searchOnLoad?null!==this.videoTechContainer&&this.searchOnLoad&&(t={year:null,classBodyStyle:this.overrideData.classBodyStyle,categoryType:null,categoryName:null}):t={year:null,classBodyStyle:this.techVideoSelect.getValue(),categoryType:null,categoryName:null}:t={year:this.yearSelect.getValue(),classBodyStyle:this.classSelect.getValue(),categoryType:null,categoryName:null},this.videoSearch=new C(this.resultsElm,this.authoredElm),this.videoSearch.searchVideos(t),this.searchOnLoad=!1}},{key:"createSelectControlsYears",value:function(e,t){this.yearSelect=new o.Yw(e,{cssClass:"selectFilters",defaultSelection:t,labelText:w.howToVideoFilters.year,labelSuppressed:!0,selectionCallback:this.onSelectedYear,analyticsTrigger:"cta-filter"}),this.videoHowToContainer.appendChild(this.yearSelect.render()),t>-1&&this.onSelectedYear()}},{key:"createSelectPlaceholder",value:function(){this.placeHolderSelect=new o.Yw([{label:w.howToVideoFilters.class,value:w.howToVideoFilters.class}],{cssClass:"selectFilters",labelText:w.howToVideoFilters.class,disabled:!0,selectionCallback:this.activeSubmitBtn,analyticsTrigger:"cta-filter"}),this.videoHowToContainer.appendChild(this.placeHolderSelect.render())}},{key:"createTechVideoSelect",value:function(e,t){this.techVideoSelect=new o.Yw(e,{defaultSelection:t,cssClass:"selectFilters",labelText:w.howToVideoFilters.class,analyticsTrigger:"cta-filter",labelSuppressed:!0,selectionCallback:this.activeSubmitBtn,disabled:!1}),this.videoTechContainer.appendChild(this.techVideoSelect.render()),this.searchByURL()}},{key:"createSelectClass",value:function(e,t){var i;i=e.length>0?e:[{label:w.howToVideoFilters.noResults,value:w.howToVideoFilters.noResults}],this.classSelect=new o.Yw(i,{defaultSelection:t,cssClass:"selectFilters",labelText:w.howToVideoFilters.class,labelSuppressed:!0,analyticsTrigger:"cta-filter",selectionCallback:this.activeSubmitBtn,disabled:!1}),this.videoHowToContainer.appendChild(this.classSelect.render())}},{key:"onSelectedYear",value:function(){if(this.yearSelect){var e=this.yearSelect.getValue();this.placeHolderSelect&&this.placeHolderSelect.destroy(),this.classSelect&&this.classSelect.destroy(),this.getClassbyYear(e)}}},{key:"activeSubmitBtn",value:function(){this.videoSearchFormSubmit.classList.remove("disabled")}}]),e}()},81442:function(e,t,i){i.d(t,{b:function(){return a}});var n=i(65025),a={createFeaturedOffer:function(e){var t=e.dataset,i=t.offerDetailsModal,a=t.marketType,s=function(e){var t={};return e.dealerIds&&e.dealerIds.split(",").forEach((function(e){t[e]=!0})),t}(t),l=e.querySelector("#".concat(i)).innerHTML;return new n.Z(e,l,a,s)}}},37664:function(e,t,i){i.d(t,{ZP:function(){return r}});var n=i(30168),a=i(61156);function s(){var e=(0,n.Z)(['\n    <div class="stay-connected__message" data-analytics-container="{\'blade\':\'newsletter-confirmed\'}">\n        <p class="stay-connected__subscribed-message">',"</p>\n    </div>\n"]);return s=function(){return e},e}function l(){var e=(0,n.Z)(['\n    <div class="stay-connected__message" data-analytics-container="{\'blade\':\'newsletter-confirmed\'}">\n        <p class="stay-connected__exists-message">',"</p>\n    </div>\n"]);return l=function(){return e},e}function o(){var e=(0,n.Z)(['\n    <div class="stay-connected__message" data-analytics-container="{\'blade\':\'newsletter-confirmed\'}">\n        <p class="stay-connected__error-message">',"</p>\n    </div>\n"]);return o=function(){return e},e}var r={SubscribeSuccessTemplate:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).message,t=void 0===e?"":e;return(0,a.e2)(s(),t)},SubscribeExistsTemplate:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).message,t=void 0===e?"":e;return(0,a.e2)(l(),t)},SubscribeErrorTemplate:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).message,t=void 0===e?"":e;return(0,a.e2)(o(),t)}}},1476:function(e,t,i){i.d(t,{Z:function(){return l}});var n=i(15671),a=i(32765),s=i(11435),l=function e(){(0,n.Z)(this,e),s.Z.registerClasses(a.ZP)}},63989:function(e,t,i){i.d(t,{Z:function(){return D}});var n=i(15671),a=i(43144),s=i(61156),l=i(48218),o=function(){function e(){(0,n.Z)(this,e),this.navBlocked=!1,this.wheelTimeout=0,this.wheelLastDeltaY=0,this.wheelCount=0,this.wheelDistance=0,this.onLifecycleTransition=this.onLifecycleTransition.bind(this),this.onDockedFooterClosed=this.onDockedFooterClosed.bind(this),this.onDockedFooterOpen=this.onDockedFooterOpen.bind(this),this.onScrollAbort=this.onScrollAbort.bind(this),this.onWheel=this.onWheel.bind(this),this.wheelEventComplete=this.wheelEventComplete.bind(this),this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.attachEvents()}},{key:"attachEvents",value:function(){this.attachWheelEvent(),s.Jw.addEventListener(l.fD.LIFECYCLE_TRANSITION,this.onLifecycleTransition),s.Jw.addEventListener(l.fD.SPECIALTY_PAGE_SCROLL_ABORT,this.onScrollAbort),s.Jw.addEventListener(l.fD.DOCKED_FOOTER.CLOSE,this.onDockedFooterClosed),s.Jw.addEventListener(l.fD.DOCKED_FOOTER.OPEN,this.onDockedFooterOpen),s.Jw.addEventListener(l.fD.SPECIALTY_PAGE_LOCK_SCROLL,this.onDockedFooterOpen),s.Jw.addEventListener(l.fD.SPECIALTY_PAGE_UNLOCK_SCROLL,this.onDockedFooterClosed)}},{key:"attachWheelEvent",value:function(){document.body.addEventListener(l.FP.WHEEL,this.onWheel)}},{key:"detachWheelEvent",value:function(){document.body.removeEventListener(l.FP.WHEEL,this.onWheel)}},{key:"onScrollAbort",value:function(){this.attachWheelEvent()}},{key:"onWheel",value:function(e){var t=e.deltaY;0!==e.deltaMode&&(t=120*(t<0?-1:1)),clearTimeout(this.wheelTimeout),this.wheelCount+=1,this.wheelDistance+=t,Math.abs(t)<this.wheelLastDeltaY?this.wheelEventComplete():(this.wheelLastDeltaY=Math.abs(t),this.wheelTimeout=setTimeout(this.wheelEventComplete,40))}},{key:"wheelEventComplete",value:function(){Math.abs(this.wheelDistance)/this.wheelCount>=25&&this.wheelCount>5&&!this.navBlocked?(this.detachWheelEvent(),this.dispatchScrollNavigationEvent(this.wheelDistance>0)):this.attachWheelEvent(),this.wheelLastDeltaY=0,this.wheelCount=0,this.wheelDistance=0}},{key:"onLifecycleTransition",value:function(e){var t=e.detail;t.transitionStage===l.ch.PLAYIN_BEGUN?this.setNavBlocked(!0):t.transitionStage===l.ch.PLAYIN_COMPLETE&&this.setNavBlocked(!1)}},{key:"onDockedFooterOpen",value:function(){this.setNavBlocked(!0)}},{key:"onDockedFooterClosed",value:function(){this.setNavBlocked(!1)}},{key:"setNavBlocked",value:function(e){this.navBlocked=e,this.navBlocked||this.attachWheelEvent()}},{key:"dispatchScrollNavigationEvent",value:function(e){s.Jw.dispatchEvent(s.Jw.createCustomEvent(l.fD.SPECIALTY_PAGE_SCROLL,{detail:{navigateNext:e}}))}}]),e}(),r=i(42982),c=i(4942),h=i(30168),d=i(61020);function u(){var e=(0,h.Z)(['\n    <div class="waypoint-nav__container sticky-nav__container">\n        <button class="waypoint__cta waypoint__cta--disabled icon-mb icon-arrow-up-square"\n            data-analytics-trigger="page-nav-prev"\n            data-qa-id="prev-waypoint-cta">\n            <span class="offscreen">','</span>\n        </button>\n        <ul class="waypoint-nav__list">\n            ','\n        </ul>\n        <button class="waypoint__cta waypoint__cta--disabled icon-mb icon-arrow-down-square"\n            data-analytics-trigger="page-nav-next"\n            data-qa-id="next-waypoint-cta">\n            <span class="offscreen">',"</span>\n        </button>\n    </div>\n"]);return u=function(){return e},e}var p=i(21255);function v(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var m="waypoint-nav__link--active",g="waypoint-nav--modal-open",f="waypoint__cta--disabled",y="in-place",_="active-chapter-index",E="tabindex",C={next:"Go to next chapter:",prev:"Go to previous chapter:"},S=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.pageData=window.mbNafta.ns("specialtyPageData"),this.pageType=this.pageData.pageType,this.localization=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(Object(i),!0).forEach((function(t){(0,c.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},C,{next:this.pageData[this.pageType].localization.goToNextChapter,prev:this.pageData[this.pageType].localization.goToPreviousChapter}),this.onHashChange=this.onHashChange.bind(this),this.onLifecycleTransition=this.onLifecycleTransition.bind(this),this.onScreenResize=this.onScreenResize.bind(this),this.onSpecialtyHeaderInited=this.onSpecialtyHeaderInited.bind(this),this.openNavigationModal=this.openNavigationModal.bind(this),this.closeNavigationModal=this.closeNavigationModal.bind(this),this.onScrollEvent=this.onScrollEvent.bind(this),this.onPrevClick=this.onPrevClick.bind(this),this.onNextClick=this.onNextClick.bind(this),this.onWaypointLinkClick=this.onWaypointLinkClick.bind(this),this.onSwipeUp=this.onSwipeUp.bind(this),this.onSwipeDown=this.onSwipeDown.bind(this),this.lockChapterSwiping=this.lockChapterSwiping.bind(this),this.unlockChapterSwiping=this.unlockChapterSwiping.bind(this),this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.firstTime=!0,this.currentScreenState=s.sp.getState(),this.swipeBlocked=!1,this.populateTemplate(),this.cacheDOM(),this.attachEvents(),this.playIn(),this.initNavigation()}},{key:"lockChapterSwiping",value:function(){this.swipeBlocked||(this.swipeBlocked=!0)}},{key:"unlockChapterSwiping",value:function(){this.swipeBlocked&&(this.swipeBlocked=!1)}},{key:"onSwipeUp",value:function(){this.swipeBlocked||this.handleRelativeNavigation(!1)}},{key:"onSwipeDown",value:function(){this.swipeBlocked||this.handleRelativeNavigation(!0)}},{key:"playIn",value:function(){this.waypointLinks.forEach((function(e,t){s.sp.gte(s.sp.SIZES.XLARGE)?setTimeout((function(){e.parentNode.classList.add(y)}),100*t+200):e.parentNode.classList.add(y)}))}},{key:"initNavigation",value:function(){this.onHashChange()}},{key:"populateTemplate",value:function(){var e=p.Z.allChapters.map((function(e){return{waypointNumber:e.chapterNumber,waypointLabel:e.name,waypointKey:e.deepLink,dataAnalyticsTrigger:"page-nav-".concat(e.deepLink)}})),t=s.jG.fromTemplate(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(0,s.dy)(u(),t.prev,(0,d.Z)(e),t.next).trim()}(e,this.localization));s.jG.append(t,this.element)}},{key:"cacheDOM",value:function(){this.waypointNavList=this.element.querySelector(".".concat("waypoint-nav__list")),this.pageContent=document.querySelector(".".concat("page-content")),this.specialtyPage=this.element.parentNode,this.specialtyChapterlabel=document.querySelector(".".concat("specialty-chapter__label")),this.waypointLinks=(0,r.Z)(this.element.querySelectorAll(".".concat("waypoint-nav__link"))),this.closeModalElm=this.element.querySelector(".".concat("waypoint-nav__close-modal")),this.openModalElm=this.element.querySelector(".".concat("waypoint-nav__open-modal")),this.openModalInnerElm=this.element.querySelector(".".concat("waypoint-nav__open-modal-inner")),this.navContainerElm=this.element.querySelector(".".concat("waypoint-nav__container")),this.waypointCtaElms=(0,r.Z)(this.element.querySelectorAll(".".concat("waypoint__cta")))}},{key:"attachEvents",value:function(){var e=this;s.m8.addHashChangeListener(this.onHashChange),s.sp.addResizeListener(this.onScreenResize),s.Jw.addEventListener(l.fD.SPECIALTY_HEADER_INITED,this.onSpecialtyHeaderInited),s.Jw.addEventListener(l.fD.SPECIALTY_PAGE_SCROLL,this.onScrollEvent),s.Jw.addEventListener(l.fD.LIFECYCLE_TRANSITION,this.onLifecycleTransition),this.openModalElm.addEventListener(l.FP.CLICK,this.openNavigationModal),this.closeModalElm.addEventListener(l.FP.CLICK,this.closeNavigationModal),this.waypointCtaElms[0].addEventListener(l.FP.CLICK,this.onPrevClick),this.waypointCtaElms[1].addEventListener(l.FP.CLICK,this.onNextClick),s.Xh.isTouch()&&(this.swipeContainer=new s.Xh(this.specialtyPage),this.swipeContainer.on(s.Xh.EVENTS.SWIPE_UP,this.onSwipeUp),this.swipeContainer.on(s.Xh.EVENTS.SWIPE_DOWN,this.onSwipeDown)),this.waypointLinks.forEach((function(t){return t.addEventListener(l.FP.CLICK,e.onWaypointLinkClick)})),s.Jw.addEventListener(l.fD.SPECIALTY_PAGE_LOCK_SCROLL,this.lockChapterSwiping),s.Jw.addEventListener(l.fD.SPECIALTY_PAGE_UNLOCK_SCROLL,this.unlockChapterSwiping)}},{key:"detachEvents",value:function(){var e=this;s.m8.removeHashChangeListener(this.onHashChange),s.sp.removeResizeListener(this.onScreenResize),s.Jw.removeEventListener(l.fD.SPECIALTY_HEADER_INITED,this.onSpecialtyHeaderInited),s.Jw.removeEventListener(l.fD.SPECIALTY_PAGE_SCROLL,this.onScrollEvent),s.Jw.removeEventListener(l.fD.LIFECYCLE_TRANSITION,this.onLifecycleTransition),this.openModalElm.removeEventListener(l.FP.CLICK,this.openNavigationModal),this.closeModalElm.removeEventListener(l.FP.CLICK,this.closeNavigationModal),this.waypointCtaElms[0].removeEventListener(l.FP.CLICK,this.onPrevClick),this.waypointCtaElms[1].removeEventListener(l.FP.CLICK,this.onNextClick),this.swipeContainer&&(this.swipeContainer.off(s.Xh.EVENTS.SWIPE_UP,this.onSwipeUp),this.swipeContainer.off(s.Xh.EVENTS.SWIPE_DOWN,this.onSwipeDown)),this.waypointLinks.forEach((function(t){return t.removeEventListener(l.FP.CLICK,e.onWaypointLinkClick)})),s.Jw.removeEventListener(l.fD.SPECIALTY_PAGE_LOCK_SCROLL,this.lockChapterSwiping),s.Jw.removeEventListener(l.fD.SPECIALTY_PAGE_UNLOCK_SCROLL,this.unlockChapterSwiping)}},{key:"onSpecialtyHeaderInited",value:function(){this.dispatchSpecialtyPageHashUpdate()}},{key:"onWaypointLinkClick",value:function(e){e.currentTarget.blur(),e.currentTarget.classList.contains(m)&&(e.preventDefault(),e.stopPropagation(),s.sp.gte(s.sp.SIZES.XLARGE)||this.closeNavigationModal())}},{key:"onHashChange",value:function(e){var t=document.location.hash.replace("#","").split("|")[0],i=e||""!==t?t:p.Z.allChapters[0].deepLink;this.nextChapterData=p.Z.getChapterByName(i),this.nextChapterData&&(this.firstTime&&(this.setActiveNavigationLink(),this.setOpenModalText(),this.firstTime=!1),this.element.classList.contains(g)&&this.closeNavigationModal(),this.dispatchSpecialtyPageHashUpdate())}},{key:"onLifecycleTransition",value:function(e){e.detail.transitionStage===l.ch.PLAYOUT_COMPLETE&&(this.setActiveNavigationLink(),this.setOpenModalText())}},{key:"onScreenResize",value:function(e){e!==this.currentScreenState&&(this.currentScreenState=e,this.element.classList.contains(g)&&this.closeNavigationModal())}},{key:"onScrollEvent",value:function(e){var t=e.detail;this.handleRelativeNavigation(t.navigateNext)}},{key:"handleRelativeNavigation",value:function(e){var t=this.activeNavLinkIndex+(e?1:-1),i=this.waypointLinks[t];i?i.click():s.Jw.dispatchEvent(s.Jw.createCustomEvent(l.fD.SPECIALTY_PAGE_SCROLL_ABORT))}},{key:"setPrevNextButtonsState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.waypointCtaElms.forEach((function(i,n){if(i.classList.remove(f),i.removeAttribute(E),0===t&&0===n||e.waypointLinks.length-1===t&&1===n)i.classList.add(f),i.setAttribute(E,"-1"),i.children[0].innerText=e.localization[0===n?"prev":"next"];else{var a=p.Z.allChapters[0===n?t-1:t+1].name;i.children[0].innerText="".concat(e.localization[0===n?"prev":"next"]," ").concat(a)}}))}},{key:"onPrevClick",value:function(){this.handleRelativeNavigation(!1)}},{key:"onNextClick",value:function(){this.handleRelativeNavigation(!0)}},{key:"dispatchSpecialtyPageHashUpdate",value:function(){s.Jw.dispatchEvent(s.Jw.createCustomEvent(l.fD.SPECIALTY_PAGE_HASH_UPDATED,{detail:{nextChapterData:this.nextChapterData}}))}},{key:"setActiveNavigationLink",value:function(){var e=this;this.navContainerElm.setAttribute(_,this.nextChapterData.index),this.waypointLinks.forEach((function(t){var i=t.hash.replace("#","")===e.nextChapterData.deepLink;t.classList[i?"add":"remove"](m),i||t.blur()})),this.setPrevNextButtonsState(this.nextChapterData.index)}},{key:"setOpenModalText",value:function(){this.openModalInnerElm.innerText=this.nextChapterData.chapterNumber,this.openModalElm.setAttribute("data-".concat(_),this.nextChapterData.index)}},{key:"openNavigationModal",value:function(){this.element.classList.add(g),s.jG.append(this.element,this.pageContent.parentNode)}},{key:"closeNavigationModal",value:function(){this.element.classList.remove(g),s.jG.insertAdjacentElement(this.element,this.specialtyChapterlabel,s.jG.POSITIONS.AFTER_END)}},{key:"activeNavLinkIndex",get:function(){return this.waypointLinks.findIndex((function(e){return e.classList.contains(m)}))}}]),e}(),b=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.onHashChange=this.onHashChange.bind(this),this.onLifecycleTransition=this.onLifecycleTransition.bind(this),this.onTransitionEnd=this.onTransitionEnd.bind(this),this.onScreenResize=this.onScreenResize.bind(this),this.currentScreenState=s.sp.getState(),this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.firstPass=!0,this.cacheDOM(),this.attachEvents()}},{key:"cacheDOM",value:function(){this.chapterLabelContainerElm=this.element.querySelector(".".concat("specialty-chapter__label")),this.chapterTitleElm=this.element.querySelector(".".concat("specialty-chapter__label-title")),this.chapterNumberElm=this.element.querySelector(".".concat("specialty-chapter__label-number"))}},{key:"attachEvents",value:function(){s.sp.addResizeListener(this.onScreenResize),this.chapterLabelContainerElm.addEventListener(l.FP.TRANSITION_END,this.onTransitionEnd),s.Jw.addEventListener(l.fD.SPECIALTY_PAGE_HASH_UPDATED,this.onHashChange),s.Jw.addEventListener(l.fD.LIFECYCLE_TRANSITION,this.onLifecycleTransition)}},{key:"onScreenResize",value:function(e){e!==this.currentScreenState&&(this.currentScreenState.small&&!e.small&&this.expand(),this.currentScreenState=e)}},{key:"onHashChange",value:function(e){var t=e.detail;this.nextChapterData=t.nextChapterData,this.firstPass&&this.expand()}},{key:"onLifecycleTransition",value:function(e){e.detail.transitionStage===l.ch.PLAYOUT_COMPLETE&&this.collapse()}},{key:"onTransitionEnd",value:function(){"30px"===this.chapterLabelContainerElm.style.width&&this.expand()}},{key:"expand",value:function(){this.chapterTitleElm.innerText=this.nextChapterData.name,this.chapterNumberElm.innerText=this.nextChapterData.chapterNumber,this.chapterLabelContainerElm.classList.remove("specialty-chapter__label--collapse"),this.chapterLabelContainerElm.style.width="".concat(this.chapterTitleElm.offsetWidth+this.chapterNumberElm.offsetWidth+35,"px"),this.firstPass=!1}},{key:"collapse",value:function(){this.chapterLabelContainerElm.style.width="30px"}}]),e}(),w=i(11435),k=i(89462),L={WAYPOINT_NAV:"waypoint-nav",CLICK_SHIELD:"specialty-page__click-shield"},D=function(){function e(t){(0,n.Z)(this,e),this.element=t,this.currentChapter=null,this.currentChapterData=null,this.nextChapterData=null,this.onHashChange=this.onHashChange.bind(this),this.onLifecycleTransition=this.onLifecycleTransition.bind(this),this.onProxyClassesLoaded=this.onProxyClassesLoaded.bind(this),this.addClickShield=this.addClickShield.bind(this),this.removeClickShield=this.removeClickShield.bind(this),this.init()}return(0,a.Z)(e,[{key:"init",value:function(){this.cacheDOM(),this.attachEvents(),this.initComponents()}},{key:"cacheDOM",value:function(){this.navigationNavElm=this.element.querySelector(".".concat(L.WAYPOINT_NAV)),this.chapterTitleElm=this.element.querySelector(".".concat(L.CHAPTER_TITLE))}},{key:"initComponents",value:function(){p.Z.allChapters=window.mbNafta.ns("specialtyPageData").chapterData,this.chapterTitle=new b(this.element),this.scrollNavigation=new o,this.navigation=new S(this.navigationNavElm)}},{key:"attachEvents",value:function(){s.Jw.addEventListener(l.fD.SPECIALTY_PAGE_HASH_UPDATED,this.onHashChange),s.Jw.addEventListener(l.fD.LIFECYCLE_TRANSITION,this.onLifecycleTransition),s.Jw.addEventListener(l.fD.DOCKED_FOOTER.OPEN,this.addClickShield),s.Jw.addEventListener(l.fD.DOCKED_FOOTER.CLOSE,this.removeClickShield)}},{key:"onProxyClassesLoaded",value:function(e){e.detail&&e.detail.registeredClasses&&Object.hasOwnProperty.call(e.detail.registeredClasses,this.currentChapterData.data.type)&&(s.Jw.removeEventListener(l.fD.DATA_LOADED,this.onProxyClassesLoaded),this.playChapter())}},{key:"addClickShield",value:function(){var e=(0,k.kY)()({getNode:!0});s.jG.append(e,this.element),e.addEventListener(l.FP.CLICK,(function(){s.Jw.dispatchEvent(s.Jw.createCustomEvent(l.fD.DOCKED_FOOTER.TOGGLE_TRIGGER))}))}},{key:"removeClickShield",value:function(){this.element.querySelector(".".concat(L.CLICK_SHIELD)).remove()}},{key:"onHashChange",value:function(e){var t=e.detail;this.nextChapterData=t.nextChapterData,this.currentChapter||(this.updateCurrentChapterData(),w.Z.classIsRegistered(this.currentChapterData.data.type)?this.playChapter():s.Jw.addEventListener(l.fD.DATA_LOADED,this.onProxyClassesLoaded))}},{key:"onLifecycleTransition",value:function(e){var t=e.detail;t.transitionStage===l.ch.PLAYOUT_BEGUN?s.Jw.dispatchEvent(s.Jw.createCustomEvent(l.fD.DOCKED_FOOTER.HIDE_FOOTER_BUTTON)):t.transitionStage===l.ch.PLAYOUT_COMPLETE&&(this.updateCurrentChapterData(),this.playChapter())}},{key:"updateCurrentChapterData",value:function(){this.currentChapterData=this.nextChapterData,this.nextChapterData=null}},{key:"playChapter",value:function(){this.currentChapter=new w.Z(this.currentChapterData.data.type,this.currentChapterData),p.Z.chapterCount===this.currentChapterData.index+1&&s.Jw.dispatchEvent(s.Jw.createCustomEvent(l.fD.DOCKED_FOOTER.SHOW_FOOTER_BUTTON))}}]),e}()},4190:function(e,t,i){i.d(t,{N:function(){return E}});var n=i(4942),a=i(15671),s=i(43144),l=i(61156),o=i(48218),r=i(52597),c=i(14569),h=i(47755),d=i(30168);function u(){var e=(0,d.Z)(['\n<div class="terms-of-use__wrapper">\n    <h4 class="terms-of-use__title">','</h4>\n    <p class="terms-of-use__description">','</p>\n    <div class="terms-of-use__check" data-policy-check></div>\n    <div class="terms-of-use__ctas-wrapper">\n        <button class="terms-of-use__cta button button_secondary button--wide" data-analytics-trigger="cta-decline-log-out" data-decline-cta>','</button>\n        <button class="terms-of-use__cta button button_primary button--wide disabled" data-analytics-trigger="cta-accept-continue" data-accept-cta>',"</button>\n    </div>\n</div>\n"]);return u=function(){return e},e}function p(){var e=(0,d.Z)(['\n<div class="terms-of-use__wrapper">\n    <h4 class="terms-of-use__title">','</h4>\n    <p class="terms-of-use__description">','</p>\n    <div class="terms-of-use__check" data-policy-check></div>\n    <div class="terms-of-use__ctas-wrapper">\n        <button class="terms-of-use__cta button button_primary button--wide disabled" data-analytics-trigger="cta-accept-continue" data-accept-cta>','</button>\n        <button class="terms-of-use__cta button button_secondary button--wide" data-analytics-trigger="cta-decline-log-out" data-decline-cta>',"</button>\n    </div>\n</div>\n"]);return p=function(){return e},e}var v=function(e){return r.Rh.authenticationFetch("".concat(e,"/secure/profile/acceptTerms?accepted=true")).then((function(e){return e.result}))};function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var g={accept:"Accept and Continue",decline:"Decline and Log Out",description:"Accepting our Terms of Use will give you access to additional features throughout our site. Declining will log you out, but you will still be able to browse MBUSA.com.",policies:"policies",privacyPolicy:"I acknowledge that I have read and agree to all applicable Mercedes-Benz policies, including the {termsofuse} and {privacystatement}",privacyPolicyLinkLabel:"Mercedes-Benz policies",subtitle:"We’ve updated our Terms of Use since the last time you logged in.",title:"Legal Notice",updateDescription:"Please accept these terms to continue to your account and enjoy all the features of MBUSA.com. If you decline, you will be logged out, but you can still browse the site."},f=window.mbNafta.ns("pageData","termsOfUse").localization,y=window.mbNafta.applicationProperties.profileServiceLocale,_=window.mbNafta.pageData.basePath,E=function(){function e(t){(0,a.Z)(this,e),this.authApi=new r.$S;var i=l.pR.getCookie(o.E9.SHOW_TERMS),s=l.pR.getCookie(o.E9.FIRST_LOGIN);if(this.authApi.isLoggedIn()&&i&&"false"!==i&&(this.content=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},g,{},f),!(window.location.pathname.indexOf(this.content.legalNoticeURI)>-1||window.location.pathname.indexOf("admin/ciam")>-1)))if(this.termsElement=s?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.e2)(u(),e.title,e.description,e.decline,e.accept)}(this.content)({getNode:!0}):function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.e2)(p(),e.title,e.description,e.accept,e.decline)}(this.content)({getNode:!0}),this.modal=null,this.acceptCta=null,this.declineCta=null,this.policyCheckContainer=null,this.accepted=!1,this.onPolicyCheck=this.onPolicyCheck.bind(this),this.onAccept=this.onAccept.bind(this),this.onClose=this.onClose.bind(this),this.cacheDOM(),this.attachEvents(),this.renderPolicyCheckbox(),t)t.appendChild(this.termsElement);else{if(window.location.pathname.indexOf("/accept-terms")>-1)return;this.createModal(),this.modal.open()}}return(0,s.Z)(e,[{key:"cacheDOM",value:function(){this.acceptCta=this.termsElement.querySelector("[".concat("data-accept-cta","]")),this.declineCta=this.termsElement.querySelector("[".concat("data-decline-cta","]")),this.policyCheckContainer=this.termsElement.querySelector("[".concat("data-policy-check","]"))}},{key:"attachEvents",value:function(){this.acceptCta.addEventListener(o.FP.CLICK,this.onAccept),this.declineCta.addEventListener(o.FP.CLICK,this.onClose)}},{key:"detachEvents",value:function(){this.acceptCta.removeEventListener(o.FP.CLICK,this.onAccept),this.declineCta.removeEventListener(o.FP.CLICK,this.onClose)}},{key:"destroy",value:function(){this.detachEvents(),this.termsElement.remove()}},{key:"createModal",value:function(){this.modalElm=l.jG.fromTemplate('<div class="terms-of-use-modal"></div>'),this.modalElm.appendChild(this.termsElement),this.modal=new c.Modal(void 0,{modalContent:this.modalElm,callbacks:{beforeClose:this.onClose},sizeSmall:c.Modal.SIZES.FULLSCREEN,sizeLarge:c.Modal.SIZES.INSET})}},{key:"renderPolicyCheckbox",value:function(){var e="<a href='".concat(this.content.mercedesMePrivacyURI,"' target='_blank' data-analytics-trigger='cta' aria-label='").concat(this.content.privacyPolicyLinkLabel,"'>").concat(this.content.privacyPolicyLinkLabel,"</a>"),t="<a href='".concat(this.content.termsOfUseUri,"' target='_blank' data-analytics-trigger='cta' aria-label='").concat(this.content.terms,"'>").concat(this.content.terms,"</a>"),i=(0,l.NR)(this.content.privacyPolicy,[t,e]);this.policyCheckbox=new h.ZS({id:"policyCheckbox",labelText:i,checked:!1,analyticsTrigger:"cta-terms",onChangeCallback:this.onPolicyCheck}),this.policyCheckContainer.appendChild(this.policyCheckbox.render())}},{key:"onPolicyCheck",value:function(){this.acceptCta.classList.toggle("disabled")}},{key:"onAccept",value:function(){var e=this;this.accepted=!0,v(y).then((function(){if(l.pR.deleteCookie({name:o.E9.SHOW_TERMS}),!e.modal){var t=decodeURIComponent(l.pR.getCookie(o.E9.AUTH_REDIRECT));t||(t="".concat(_,"/home")),window.location.replace(t)}})),this.modal&&this.modal.close()}},{key:"onClose",value:function(){if(!this.accepted){var e=decodeURIComponent(l.pR.getCookie(o.E9.AUTH_REDIRECT));e||(e="".concat(_,"/home")),this.authApi.authRedirect(r.$S.AUTH_PAGES.LOGOUT,e)}}}]),e}()},9407:function(e,t,i){i.d(t,{Z:function(){return o}});var n=i(15671),a=i(43144),s=i(81354),l=i.n(s),o=function(){function e(t,i){(0,n.Z)(this,e),this.keySize=t/32,this.iterationCount=i}return(0,a.Z)(e,[{key:"generateKey",value:function(e,t){return l().PBKDF2(t,l().enc.Hex.parse(e),{keySize:this.keySize,iterations:this.iterationCount})}},{key:"encrypt",value:function(e,t,i,n){var a=this.generateKey(e,i);return l().AES.encrypt(n,a,{iv:l().enc.Hex.parse(t)}).ciphertext.toString(l().enc.Base64)}},{key:"decrypt",value:function(e,t,i,n){var a=this.generateKey(e,i),s=l().lib.CipherParams.create({ciphertext:l().enc.Base64.parse(n)});return l().AES.decrypt(s,a,{iv:l().enc.Hex.parse(t)}).toString(l().enc.Utf8)}},{key:"getEncryptedTimestamp",value:function(){var e=this,t=window.mbNafta.applicationProperties,i=t.recaptchaSiteKey,n=t.tokenSeparator,a=l().lib.WordArray.random(16).toString(l().enc.Hex),s=l().lib.WordArray.random(16).toString(l().enc.Hex);return fetch("".concat("/content/public-api/getCurrentTimestamp"),{headers:{"Content-Type":"application/json","Referrer-Policy":"origin",Referer:window.location.href},method:"GET"}).then((function(e){return e.json()})).then((function(t){if(t){var l=e.encrypt(s,a,i,t.timestamp),o="".concat(a).concat(n).concat(s).concat(n).concat(l);return btoa(o)}throw Error("Unable to get current timestamp")})).catch((function(e){return console.warn(e),console.log("Catch Here :"),{error:e}}))}}]),e}()},50615:function(e,t,i){i(26981);var n=i(40327);i(66337),i(94128),i(74124),i(57147),t.Z=function(){(0,n.customEvent)(),(0,n.arrayFilter)(),(0,n.arrayFind)(),(0,n.arrayFindIndex)(),(0,n.arrayUnique)(),(0,n.arrayFlat)(),(0,n.elementMatches)(),(0,n.elementRemove)(),(0,n.objectFromEntries)(),(0,n.objectValues)(),(0,n.promise)(),(0,n.stringIncludes)(),(0,n.wheelEvent)()}}},function(e){e.O(0,[2830,4569,9936,8174,4775,2378,5948,1752,3989,8238,2726,9460,4482,1156,6834,4470,7842,2051,616,272,781,4649,8243,2605,1047,5541,4670,9688,8044,9645,7206,544,4626,495,3087,1940,6038,2727,2991,2722,9064,7748,8623,4190,9141,7214,9543,8340,4121,3637],(function(){return 51419,e(e.s=51419)})),e.O()}]);
//# sourceMappingURL=main-35d92120.js.map