"use strict";(self.webpackChunk_mbusa_now_aem=self.webpackChunk_mbusa_now_aem||[]).push([[544],{16187:function(e,t,i){i.d(t,{Z:function(){return g}});var n=i(4942),o=i(15671),a=i(43144),r=i(61156),l=i(48218),s=i(90747),c=i(81995),u=i(29554),h=i(28612),d=i(37170);function _(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var p=window.location.href,m={BUILD:"build",CPO:"CPO",CONTACT:"contact",CPO_INVENTORY:"cpoInventory",DEFAULT:"DEFAULT",BYO_SUMMARY:"BYO_SUMMARY",BUILD_DEAL:"BUILD_DEAL",IM_INTERESTED:"IM_INTERESTED",INVENTORY:"INVENTORY",NEW:"NEW",NEW_INVENTORY:"inventory",POST_REGISTRATION:"post-registration",PRE_REGISTRATION:"pre-registration",PRE:"PRE",REGISTRATION_BACKGROUND:"registration-background",REGISTRATION_FOREGROUND:"registration-foreground",REGULAR:"regular",RETINA:"retina",UNITS:{ca:h.Z.I18N.KILOMETERS,us:h.Z.I18N.MILES},US:"us"},y={DEALER_PRICE:h.Z.I18N.DEALER_PRICE,DEFAULT:h.Z.I18N.STARTING_AT,LAST_BUILD:h.Z.I18N.TOTAL_BUILD,ONLINE_PRICE:h.Z.I18N.ONLINE_PRICE,PRICE:h.Z.I18N.PRICE,STARTING_AT_MSRP:h.Z.I18N.STARTING_AT_MSRP},g=function(){function e(t){(0,o.Z)(this,e);var i=t.dealer,n=t.onInitCallback,a=t.slotContainer,r=t.slotIndex;this.activeModelsList=t.activeModelsList,this.CONSTANTS=m,this.config=t,this.dealer=i,this.slotIndex=r,this.slotContainer=a,this.setSlotData(),this.setIsDSE(),this.initSlot(),this.disclaimers=[],this.setGlobalAnalytics(),this.disclaimers=[],this.setBindings(),this.verifySlotData(),this.updateSlotContainer(),this.renderSlotInContainer(),this.renderSlotImage(),this.updateSlotCTA(),n&&n()}return(0,a.Z)(e,[{key:"setSlotData",value:function(){var e=this.config,t=e.recentlyViewedVehicle,i=e.slotData,n=v({},t||i||{}),o=n.isNew;void 0===o&&(o=!0),n.usedVehicleAttributes&&(o=!1,n=v({},n,{},i.usedVehicleAttributes)),o&&(void 0===n.reservable&&(n.reservable=Boolean(n.dseDealerNewCar)),n.reservePrice||(n.reservePrice=n.dseDealerNewCar?n.inventoryPrice||n.msrp:null)),this.slotData=n,this.slotData.isNew=o}},{key:"setGlobalAnalytics",value:function(){this.slotContainer.setAttribute("data-analytics-trigger","three-up-module-slot")}},{key:"initSlot",value:function(){}},{key:"setBindings",value:function(){}},{key:"verifySlotData",value:function(){}},{key:"updateSlotContainer",value:function(){}},{key:"renderSlotInContainer",value:function(){}},{key:"renderSlotImage",value:function(){}},{key:"updateSlotCTA",value:function(){}},{key:"destroy",value:function(){this.detachEvents(),this.onDestroy(),this.disclaimers=[]}},{key:"attachEvents",value:function(){}},{key:"detachEvents",value:function(){}},{key:"onDestroy",value:function(){}},{key:"createMediaServerImageType",value:function(){var e=this.slotData,t=e.exteriorBaseImage,i=e.exteriorTransparentImage||t;return{type:i&&i.type?i.type:"",respObj:{large:{retina:i&&i.desktop&&i.desktop.url?i.desktop.url:""},small:{retina:i&&i.mobile&&i.mobile.url?i.mobile.url:""}}}}},{key:"isPriceValid",value:function(e){var t,i=e.contactDealerForPrice,n=e.modelPrice,o=e.msrp,a=e.pricing,r=n||o||(null==a||null===(t=a.msrp)||void 0===t?void 0:t.price)||l.at.NO_MSRP_PRICE;return!i&&r!==l.at.NO_MSRP_PRICE}},{key:"getPrice",value:function(){var e,t,i=this.slotData,n=i.dsrp,o=i.inventoryPrice,a=i.isNew,r=i.modelPrice,s=i.msrp,c=i.pricing,u=i.reservePrice,h=i.vin,d=s,_=r;a&&null!=h&&h.length?_=null:d=null;var v=o||(null==c||null===(e=c.msrp)||void 0===e?void 0:e.price)||(null===(t=d)||void 0===t?void 0:t.price)||d||_;a||(v=this.isEPrice?(null==u?void 0:u.price)||u:n);var p=l.at.NOT_LISTED_PRICE,m=l.at.NO_MSRP_PRICE;return v===p?m:v||m}},{key:"hasMSRP",value:function(){var e=this.getPrice();return!this.slotData.contactDealerForPrice&&e!==l.at.NO_MSRP_PRICE}},{key:"setIsDSE",value:function(){var e=this.slotData,t=e.isDDTVariant,i=e.reservePrice,n=e.reservable,o=this.config.personalizationConfig,a=o.enableCommerce,r=o.enableNewCommerce,l=a||r;this.hasMSRP()&&l?this.isDSE=Boolean(n&&i&&!t):this.isDSE=!1}},{key:"getPriceValueAndCopy",value:function(e){var t=h.Z.I18N.PRICE_COMING_SOON,i=null;return this.hasMSRP()&&(t=e?y[e]:y.DEFAULT,i=this.formatMsrp(this.getPrice())),{msrpValue:i,msrpCopy:t}}},{key:"formatMsrp",value:function(e){return r.uf.toCurrency(e,h.Z.MBNAFTA_PAGEDATA.COUNTRY,h.Z.MBNAFTA_PAGEDATA.LANGUAGE,h.Z.MBNAFTA_PAGEDATA.CURRENCY)}},{key:"createMSRPDisclaimer",value:function(){var e=this.slotContainer.querySelectorAll(".".concat("three-up-module__slot__msrp"));this.disclaimers.push({hook:new s.Z({globalDisclaimerCode:s.Z.GLOBAL_DISCLAIMER_CODES.MSRP,autoNum:!1,disclaimerLabel:h.Z.I18N.DISCLAIMER}),container:e[e.length-1]})}},{key:"renderDisclaimers",value:function(){this.disclaimers.forEach((function(e){e.container&&e.container.appendChild(e.hook.render())}))}},{key:"onDealerFormClose",value:function(){this.dealerFormModal=null}},{key:"createRegistrationModal",value:function(){var e=this.registrationConfig.content||{},t={onCompleteCallback:r.ZT,callingContainer:this.slotCTA,onRegistrationCallback:this.config.registrationComplete},i={onLoginCallback:this.config.onLogInLinkClickCallback,redirectURL:p},n=v({},h.Z.REGISTRATION_SUCCCESS_LOCALIZATION,{},e);new u.Go(t,i,n).open()}},{key:"renderMediaServerVehicleImage",value:function(e){this.config.loadVehicleImageWithMediaServer(e)}},{key:"getInventoryUrl",value:function(){return this.config.inventoryInterceptor.getInventoryUrl(!0,{},{},this.vehicle,null)}},{key:"getDealerModalVehicleInfo",value:function(){var e=this.slotData,t=e.classId,i=e.className,n=e.code,o=e.contactDealerForPrice,a=e.exteriorBaseImage,l=e.modelId,s=e.modelLineCode,c=e.modelName,u=e.name,h=e.vehicleClass,d=e.year;return{class:t||i||(null==h?void 0:h.name),contactDealerForPrice:o,exteriorBaseImage:a,modelId:l||n,modelLineCode:s||"",modelName:c||u,msrp:{priceCurrency:r.uf.toCurrency(this.getPrice())},type:this.config.isCPO?m.PRE:m.NEW,year:d}}},{key:"getDealer",value:function(e){var t=e.dealer;return t?v({},t,{dealerId:t.id}):e.dealerId?{dealerId:e.dealerId}:this.dealer||this.config.dealer}},{key:"createDealerForm",value:function(e,t){var i=c.wK.SOURCE_TYPE,n=i.CPO,o=i.INVENTORY,a=i.INVENTORY_NON_DSE,r=m.BYO_SUMMARY,l=m.CONTACT,s=o,u=!1;this.config.moduleType===r&&(s=e===l?o:a,u=!0),this.config.isCPO&&(s=n,u=!0);var _={country:h.Z.MBNAFTA_PAGEDATA.COUNTRY,currency:h.Z.MBNAFTA_PAGEDATA.CURRENCY,dealer:this.getDealer(this.slotData),disableChangeDealer:u,formType:e,isNewInventory:!this.config.isCPO,language:h.Z.MBNAFTA_PAGEDATA.LANGUAGE,sourceType:s,providers:d.ZP.PROVIDERS,leadsEndpoint:d.ZP.LEADS_ENDPOINT};this.slotData&&(_.vehicle=this.getDealerModalVehicleInfo()),this.dealerFormModal=new c.wK({modalConfig:{callingContainer:t,onClose:this.onDealerFormClose},dealerFormConfig:_,content:h.Z.I18N.DEALER_FORM_LOCALIZATION}),this.dealerFormModal.open()}},{key:"updateSlotImage",value:function(e){if(this.slotData&&e){var t,i,n=e.imgSrc,o=e.shadowImage;n&&(t=n||o,i=n||o),this.config.isCPO&&e.length&&(t=e[0],i=e[0]),this.slotData.exteriorBaseImage={imgL:t,imgS:i,alt:""}}}},{key:"getInventoryCtasCopy",value:function(e){var t,i,n=e?m.NEW_INVENTORY:m.CPO_INVENTORY,o=window.mbNafta.ns("moduleData","inventoryPreferences").localization||{},a=m.IM_INTERESTED;this.isDSE&&(a=m.BUILD_DEAL);var r=((null===(t=o[n])||void 0===t||null===(i=t.content)||void 0===i?void 0:i.inventoryLeadFormCtas)||[]).find((function(e){return e.type===a}));return(null==r?void 0:r.altText)||(null==r?void 0:r.title)}},{key:"getLinkUrl",value:function(){var e=this.slotData,t=e.isNew,i=e.dealer,n=e.usedVehicleAttributes,o=e.vehicleAttributes;if(!this.isDSE)return t?this.config.personalizationConfig.inventoryUrl:"";var a=t?i||o.dealer:n.dealer,l={dealerId:a.id,dealerName:r.Uw.hyphenate(r.Uw.toAlphaNumeric(a.name)),class:this.slotData.classId,bodyStyle:this.slotData.bodyStyleId,model:this.slotData.modelId,vin:this.slotData.vin};if(!d.NH.COMMERCE_ENABLED)return"".concat(d.GW).concat((0,r.NR)(d.NH.RESERVATION_URL,l));var s=null;return a.placeId&&(s={type:"place",value:a.placeId}),this.config.inventoryInterceptor.getReservePath(l,s,null,this.slotData.isNew)}}]),e}()},38164:function(e,t,i){i.d(t,{Z:function(){return v}});var n=i(15671),o=i(43144),a=i(82963),r=i(61120),l=i(60136),s=i(61156),c=i(48218),u=i(16187),h=i(28612),d=i(41908),_="three-up-module__slot__link",v=function(e){function t(){return(0,n.Z)(this,t),(0,a.Z)(this,(0,r.Z)(t).apply(this,arguments))}return(0,l.Z)(t,e),(0,o.Z)(t,[{key:"initSlot",value:function(){this.analyticTileName="cpo-no-inventory-tile",this.inventoryFavorites=null,this.slotData||this.destroy()}},{key:"setBindings",value:function(){this.onInventoryClick=this.onInventoryClick.bind(this)}},{key:"verifySlotData",value:function(){if(!this.slotData)throw new Error("no offer Data")}},{key:"updateSlotContainer",value:function(){var e=JSON.stringify(this.createAnalytics());this.slotContainer.setAttribute("data-analytics-container",e)}},{key:"renderSlotInContainer",value:function(){var e=this.createSlotMarkup();s.jG.append(e,this.slotContainer)}},{key:"createSlotMarkup",value:function(){var e=this.slotData,t=e.name,i=e.vehicleBodystyle,n=e.vehicleClass,o=(0,s.NR)(h.Z.I18N.LOCAL_DEALERS_UNIQUE_SELECTION,[n.name,i.pluralName]);return(0,d.Z)({description:o,eyebrow:h.Z.I18N.CERTIFIED_PRE_OWNED,isCPOStyling:!0,linkCopy:h.Z.I18N.VIEW_INVENTORY,linkUrl:this.config.personalizationConfig.cpoInventoryUrl,mainTitle:"".concat(n.name," ").concat(i.name),module:"cpo-non-vin",monolith:this.config.bckgImages.non_vin_cpo,subheader:h.Z.I18N.CPO_SEE_AVAILABLE,vehicleName:t})({getNode:!0})}},{key:"renderSlotImage",value:function(){var e=this.slotData,t=e.code,i=e.name,n=e.vehicleBodystyle.code,o=e.vehicleClass.code,a=e.year,r={bodyStyle:n,class:o,meta:{altTag:"".concat(a," ").concat(i)},model:t,name:i,options:"",year:a},l=this.slotContainer.querySelector(".".concat("three-up-module__slot__vehicle"));this.config.loadVehicleImageWithMediaServer({isSwap:!1,vehicleData:r,vehicleElm:l})}},{key:"updateSlotCTA",value:function(){var e=this.slotContainer.querySelector(".".concat(_));e.setAttribute("data-analytics-trigger","cta-cpo-view-inventory"),this.attachEvents(e)}},{key:"onDestroy",value:function(){this.detachEvents()}},{key:"attachEvents",value:function(e){this.config.isInventoryEnabled&&e.addEventListener(c.FP.CLICK,this.onInventoryClick)}},{key:"detachEvents",value:function(){var e=this.slotContainer.querySelector(".".concat(_));this.config.isInventoryEnabled&&e&&e.removeEventListener(c.FP.CLICK,this.onInventoryClick)}},{key:"createAnalytics",value:function(){return{blade:this.analyticTileName,vehicle:{body:this.slotData.vehicleBodystyle.name||"",class:this.slotData.vehicleClass.name||"",model:this.slotData.code||"",year:this.slotData.year||""}}}},{key:"onInventoryClick",value:function(e){e.preventDefault();var t=this.slotData,i={vehicleInfo:{bodyStyle:t.vehicleBodystyle.code,class:t.vehicleClass.code}};this.dealer&&this.dealer.zip&&(i.searchLocation={type:"zip",value:this.dealer.zip}),this.config.inventoryInterceptor.goTo(!1,i)}}]),t}(u.Z)},84843:function(e,t,i){i.d(t,{Z:function(){return D}});var n=i(42982),o=i(15671),a=i(43144),r=i(82963),l=i(61120),s=i(60136),c=i(61156),u=i(48218),h=i(81995),d=i(14569),_=i(90921),v=i(22209),p=i(90747),m=i(16187),y=i(30070),g=i(37170),f=i(28612),I=i(30168),C=i(24436),T=i(75875),E=i(60691);function A(){var e=(0,I.Z)(['\n    <div class="three-up-module__slot__slot-container three-up-module__slot--cpo">\n        ',"\n        ","\n        ",'\n        <div class="three-up-module__slot__vehicle-specifics">\n            <div class="three-up-module__slot__cpo-details">\n                ','\n            </div>\n\n            <div class="three-up-module__slot__ctas-container">\n                <button class="three-up-module__slot__primary-cta button button_primary button--full-width"\n                    aria-label="',", ",'"\n                >\n                    ','\n                </button>\n\n                <a href="','"\n                    class="three-up-module__slot__link link link_plain-link"\n                    aria-label="',", ",'"\n                >\n                    ',"\n                </a>\n            </div>\n        </div>\n    </div>\n"]);return A=function(){return e},e}var N="three-up-module__slot__link",S="three-up-module__slot__primary-cta",k="data-analytics-trigger",D=function(e){function t(){return(0,o.Z)(this,t),(0,r.Z)(this,(0,l.Z)(t).apply(this,arguments))}return(0,s.Z)(t,e),(0,a.Z)(t,[{key:"initSlot",value:function(){this.dealerFormModal=null,this.carousel=null,this.analyticTileName="cpo-inventory-tile",this.inventoryFavorites=null,this.inventoryInterceptor=this.config.inventoryInterceptor}},{key:"setBindings",value:function(){this.triggerDealerForm=this.triggerDealerForm.bind(this),this.onInventoryClick=this.onInventoryClick.bind(this),this.createDealerForm=this.createDealerForm.bind(this),this.updateSlotImage=this.updateSlotImage.bind(this)}},{key:"verifySlotData",value:function(){var e=this.slotData,t=e.usedVehicleAttributes,i=e.vin;if(!(t&&t.dealer&&i&&i.length))throw this.destroy(),new Error("no offer Data")}},{key:"updateSlotContainer",value:function(){var e=JSON.stringify(this.createAnalytics());this.slotContainer.setAttribute("data-analytics-container",e)}},{key:"renderSlotInContainer",value:function(){var e=this.slotData.usedVehicleAttributes,t=e.reservable,i=e.reservePrice,n=void 0===i?0:i,o=this.createSlotMarkup();c.jG.append(o,this.slotContainer);var a=this.slotContainer.querySelector(".".concat("three-up-module__slot__msrp-value"),this.slotContainer);if(a&&t&&n){var r=this.createTooltip();this.loadDisclaimers(),r&&c.jG.append(r.render(),a)}!this.config.type&&g.a5&&this.addInventoryFavorites(o)}},{key:"addInventoryFavorites",value:function(e){var t=e.querySelector(".".concat("three-up-module__slot__vehicle__favorites"));try{this.inventoryFavorites=new y.Z({containerElm:t,dealerId:this.slotData.dealerId,isCPO:!0,vehicle:this.slotData})}catch(e){console.log("Error ",e)}}},{key:"loadDisclaimers",value:function(){var e=[],t=this.slotContainer.querySelector(".".concat("three-up-module__slot__disclaimer-legend"));if(g.NH.DISCLAIMER_ONLINE_PRICE&&g.NH.DISCLAIMER_ONLINE_PRICE.disclaimerText&&t){var i=_.em.getInstance().addDynamicDisclaimer(g.NH.DISCLAIMER_ONLINE_PRICE);e.push({hook:new p.Z({autoNum:!0,disclaimerLabel:f.Z.I18N.DISCLAIMER,legend:i}),container:t})}this.disclaimers=[].concat((0,n.Z)(this.disclaimers),e),this.renderDisclaimers()}},{key:"createSlotMarkup",value:function(){var e=this.config,t=e.bckgImages,i=e.personalizationConfig,n=this.slotData,o=n.modelName,a=n.year,r=n.usedVehicleAttributes,l=r.dealer,s=void 0===l?{}:l,h=r.images,d=void 0===h?[]:h,_=r.mileage,v=n.vin,p=[(0,c.NR)(f.Z.I18N.MILEAGE_NUMBER,{mileage:c.uf.toFormattedStringNumber(_,f.Z.MBNAFTA_PAGEDATA.COUNTRY,f.Z.MBNAFTA_PAGEDATA.LANGUAGE)}),(0,c.NR)(f.Z.I18N.VIN_NUMBER,{vin:v})],m="";s.address&&s.address.length&&s.address[0].location&&(m=(0,c.NR)(f.Z.I18N.DISTANCE_AWAY,{distance:c.uf.toFormattedStringNumber(s.address[0].location.dist,f.Z.MBNAFTA_PAGEDATA.COUNTRY,f.Z.MBNAFTA_PAGEDATA.LANGUAGE),unit:s.address[0].location.distunit}));var y=this.isDSE,g=this.getPriceValueAndCopy(y?"ONLINE_PRICE":"PRICE"),I=g.msrpCopy,N=g.msrpValue,S=this.getInventoryCtasCopy(!1),k=function(e){var t=e.dealerName,i=e.detailsList,n=void 0===i?[]:i,o=e.distanceToDealer,a=e.eyebrow,r=e.isEPrice,l=void 0!==r&&r,s=e.hasDealer,u=void 0===s||s,h=e.linkCopy,d=void 0===h?"":h,_=e.linkUrl,v=e.modelYearName,p=e.monolith,m=e.msrpCopy,y=void 0===m?"":m,g=e.msrpValue,f=e.primaryButtonCopy,I=void 0===f?"":f,N=e.vin,S=void 0===N?"":N;return(0,c.e2)(A(),(0,E.Z)({dealerName:t,distanceToDealer:o,eyebrow:a,hasDealer:u,hasVin:!0}),(0,T.Z)({hasVin:!p,monolith:p}),(0,C.Z)({hasVin:!0,highlightPrice:l,modelYearName:v,msrpCopy:y,msrpValue:g,vin:S}),n.map((function(e){return'<p class="three-up-module__slot__cpo-details__copy">'.concat(e,"</p>")})).join(""),I,v,I,_,d,v,d)}({dealerName:s.name,detailsList:p,distanceToDealer:m,eyebrow:f.Z.I18N.CERTIFIED_PRE_OWNED,isEPrice:y,linkCopy:S,linkUrl:this.getLinkUrl(),modelYearName:"".concat(a," ").concat(o),monolith:d.length?null:t.non_vin_cpo,msrpCopy:I,msrpValue:N,primaryButtonCopy:f.Z.I18N.VIEW_THIS_VEHICLE_CTA,primaryButtonLink:i.inventoryUrl,vin:v})({getNode:!0});if(d.length){this.updateSlotImage(d),this.createCarousel();var D=k.querySelector(".".concat("three-up-module__slot__vehicle__carousel"));D.appendChild(this.carousel.getCarousel()),D.addEventListener(u.FP.TOUCHSTART,(function(e){e.stopPropagation()}))}return k}},{key:"createCarousel",value:function(){var e=this.slotData,t=e.bodyStyleId,i=e.usedVehicleAttributes,n=g.ZP.INVENTORY_FALLBACK,o=n.suvFallbackImagePattern,a=n.vehicleFallbackImagePattern,r="SUV"===t?o:a;if(i.images){var l=i.images.map((function(e){return new v.NonResponsivePictureLoader({imagePath:e,alt:"",fallbackMedia:{imgL:r,imgS:r,alt:""},className:"",onError:c.ZT,onLoad:c.ZT,itemProp:null}).render()}));this.carousel=new d.Carousel(l,{labels:{next:f.Z.I18N.NEXT,prev:f.Z.I18N.PREVIOUS,skipAll:f.Z.I18N.SKIP_ALL_SLIDES,skipToStart:f.Z.I18N.SKIP_TO_SLIDES_START},transitionType:d.Carousel.TRANSITION_TYPES.SLIDING})}}},{key:"renderSlotImage",value:function(){var e=this.slotData,t=e.modelName,i=e.year,n=this.slotContainer.querySelector(".".concat("three-up-module__slot__vehicle"));n&&this.config.loadVehicleImagewithImageUrl({image:"",slot:"cpo_slot_".concat(this.slotData.model,"_").concat(this.slotData.modelPrice),updateSlotImageCallBack:this.updateSlotImage,vehicleData:{meta:{altTag:"".concat(i," ").concat(t)}},vehicleElm:n})}},{key:"updateSlotCTA",value:function(){var e=this.slotContainer.querySelector(".".concat(S));e.setAttribute(k,"cta-cpo-view-inventory");var t=this.slotContainer.querySelector(".".concat(N));if(t){var i=this.isDSE?"link-byo":"cta-unlock-eprice";t.setAttribute(k,i)}this.attachEvents(t,e)}},{key:"onDestroy",value:function(){this.dealerFormModal=null,this.carousel=null}},{key:"attachEvents",value:function(e,t){this.config.isInventoryEnabled&&t.addEventListener(u.FP.CLICK,this.onInventoryClick),e&&!this.isDSE&&e.addEventListener(u.FP.CLICK,this.triggerDealerForm)}},{key:"detachEvents",value:function(){var e=this.config.isInventoryEnabled,t=this.slotContainer.querySelector(".".concat(S));e&&t.removeEventListener(u.FP.CLICK,this.onInventoryClick);var i=this.slotContainer.querySelector(".".concat(N));i&&!this.isDSE&&i.removeEventListener(u.FP.CLICK,this.triggerDealerForm)}},{key:"createAnalytics",value:function(){var e=this.slotData,t=e.bodyStyleId,i=e.classId,n=e.ePriceEnabled,o=e.modelId,a=e.msrp,r=void 0===a?0:a,l=e.paint,s=e.type,c=e.usedVehicleAttributes,u=c.dsrp,h=void 0===u?0:u,d=c.reservable,_=c.reservePrice,v=void 0===_?0:_,p=e.vin,m=e.year;return{blade:this.analyticTileName,vehicle:{body:t||"",class:i||"",color:l.id||"",ePriceEnabled:n,model:o||"",inventoryType:s||"",vin:p||"",year:m||""},pricingDetails:{price:h||r,discount:d?r-v:null,totalOnlinePrice:d&&v?v:h}}}},{key:"onInventoryClick",value:function(e){e.preventDefault();var t=this.slotData,i=t.bodyStyleId,n=t.classId,o=t.inventoryBodystyleId,a=t.inventoryClassId,r=t.modelId,l=t.usedVehicleAttributes,s=t.vin,c=this.config.inventoryInterceptor,u={bodyStyle:i,class:n,inventoryBodystyleId:o,inventoryClassId:a,model:r,vin:s},h={dealerId:l.dealer.id||"",name:l.dealer.name||""};c.goToVDP(!1,h,u)}},{key:"triggerDealerForm",value:function(e){e.preventDefault();var t=this.slotContainer.querySelector(".".concat(S)),i=h.wK.FORM_TYPE.E_PRICE;this.createDealerForm(i,t)}},{key:"onDealerFormClose",value:function(){this.dealerFormModal=null}},{key:"createTooltip",value:function(){var e=c.jG.fromTemplate("<p>".concat(f.Z.I18N.RESERVE_NOW_TOOLTIP,"</p>")),t={analyticsTrigger:"reserve-price-tooltip",direction:d.ToolTip.DIRECTION.UP,size:d.ToolTip.SIZE.DEFAULT};return new d.ToolTip(e,t)}}]),t}(m.Z)},52024:function(e,t,i){i.d(t,{Z:function(){return y}});var n=i(4942),o=i(15671),a=i(43144),r=i(82963),l=i(11752),s=i(61120),c=i(60136),u=i(61156),h=i(6080),d=i(28612),_=i(77498),v=i(83102);function p(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var m="three-up-module__slot__link",y=function(e){function t(){return(0,o.Z)(this,t),(0,r.Z)(this,(0,s.Z)(t).apply(this,arguments))}return(0,c.Z)(t,e),(0,a.Z)(t,[{key:"initSlot",value:function(){this.vehicleData={},(0,l.Z)((0,s.Z)(t.prototype),"initSlot",this).call(this)}},{key:"cacheDOM",value:function(){this.slotVehicle=this.slotContainer.querySelector(".".concat("three-up-module__slot__vehicle"))}},{key:"setBindings",value:function(){(0,l.Z)((0,s.Z)(t.prototype),"setBindings",this).call(this),this.loadVehicleImages=this.loadVehicleImages.bind(this)}},{key:"initColorPicker",value:function(){var e=this.slotData,t=e.colorPicker,i=e.modelBuildPageUrl,o=this.config.personalizationConfig;this.vehicleData=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?p(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},(0,_.Tq)(this.slotData),{options:{exterior:{PAINT:t.byoModelColors}}}),this.slotVehicle.classList.add("color-picker__vehicle"),this.slotContainer.querySelector(".".concat(m)).classList.add("color-picker__cta"),this.colorPicker=new h.z({baseClass:"color-picker",buildPath:i||o.allVehiclesURI,colorPickerContainerClass:"three-up-module__slot__vehicle-color-picker__container",content:{disclaimer:d.Z.I18N.ADDITIONAL_COLORS,selectLabel:d.Z.I18N.SELECT_OPTION},element:this.slotContainer,loadVehicleImages:this.loadVehicleImages,needTemplate:!0,vehicleData:this.vehicleData})}},{key:"loadVehicleImages",value:function(e){var t=this.slotData.colorPicker.byoModelColors.filter((function(t){return t.id===e}));this.vehicleData.options={exterior:{PAINT:t}},this.config.loadVehicleImageWithMediaServer({isSwap:!0,vehicleData:this.vehicleData,vehicleElm:this.slotVehicle}),this.updateCTAAnalytics(e)}},{key:"updateCTAAnalytics",value:function(e){var t=this.slotData.colorPicker.byoModelColors.filter((function(t){return t.id===e}));this.slotContainer.querySelector(".".concat(m)).setAttribute("data-analytics-trigger","".concat("cta-build-").concat(u.Uw.hyphenate(t[0].name).toLowerCase()))}},{key:"createAnalytics",value:function(){var e=this.slotData,t=e.bodyStyleId,i=e.classId,n=e.colorPicker,o=e.modelId,a=e.msrp,r=e.type,l=e.vin,s=e.year;return{blade:this.analyticTileName,vehicle:{body:t||"",class:i||"",color:n.byoModelColors[0].id||"",model:o||"",inventoryType:r||"",vin:l||"",year:s||""},pricingDetails:{price:a||""}}}},{key:"renderSlotImage",value:function(){this.cacheDOM(),this.initColorPicker()}}]),t}(v.Z)},1530:function(e,t,i){i.d(t,{Z:function(){return p}});var n=i(15671),o=i(43144),a=i(82963),r=i(61120),l=i(60136),s=i(48218),c=i(61156),u=i(81995),h=i(28612),d=i(77498),_=i(41908),v=i(16187),p=function(e){function t(){return(0,n.Z)(this,t),(0,a.Z)(this,(0,r.Z)(t).apply(this,arguments))}return(0,l.Z)(t,e),(0,o.Z)(t,[{key:"onDestroy",value:function(){this.dealerFormModal=null,this.carousel=null}},{key:"setBindings",value:function(){this.triggerDealerForm=this.triggerDealerForm.bind(this),this.updateSlotImage=this.updateSlotImage.bind(this)}},{key:"attachEvents",value:function(){this.slotLink.addEventListener(s.FP.CLICK,this.triggerDealerForm)}},{key:"detachEvents",value:function(){this.slotLink.removeEventListener(s.FP.CLICK,this.triggerDealerForm)}},{key:"updateSlotContainer",value:function(){var e=JSON.stringify({blade:"contact-dealer-tile"});this.slotContainer.setAttribute("data-analytics-container",e)}},{key:"createSlotMarkup",value:function(){var e={dealerName:this.dealer?this.dealer.name:"",description:h.Z.I18N.PERSONAL_ASSITANCE_DESCRIPTION,eyebrow:h.Z.I18N.CONTACT_YOUR_DEALER,linkCopy:h.Z.I18N.CONTACT_DEALER,module:"contact-dealer",monolith:null,subheader:h.Z.I18N.LOOKING_FOR_MATCH};return(0,_.Z)(e)({getNode:!0})}},{key:"renderSlotInContainer",value:function(){var e=this.createSlotMarkup();c.jG.append(e,this.slotContainer)}},{key:"renderSlotImage",value:function(){var e=this.slotContainer.querySelector(".".concat("three-up-module__slot__vehicle")),t=(0,d.Tq)(this.slotData);this.config.loadVehicleImageWithMediaServer({isSwap:!1,slot:"contact_dealer_".concat(this.slotData.model,"_").concat(this.slotData.modelPrice),updateSlotImageCallBack:this.updateSlotImage,vehicleData:t,vehicleElm:e})}},{key:"updateSlotCTA",value:function(){this.slotLink=this.slotContainer.querySelector(".".concat("three-up-module__slot__link")),this.slotLink.setAttribute("data-analytics-trigger","link-contact-dealer"),this.attachEvents()}},{key:"triggerDealerForm",value:function(){var e=u.wK.FORM_TYPE,t=e.CONTACT,i=e.REQUEST_QUOTE;this.config.isCPO||(i=t),this.createDealerForm(i,this.slotLink)}},{key:"onDealerFormClose",value:function(){this.dealerFormModal=null}}]),t}(v.Z)},63155:function(e,t,i){i.d(t,{Z:function(){return p}});var n=i(15671),o=i(43144),a=i(82963),r=i(11752),l=i(61120),s=i(60136),c=i(61156),u=i(38374),h=i(28612),d=i(97128),_="three-up-module__event-offer-slot",v="three-up-module__vehicle-offer-slot",p=function(e){function t(){return(0,n.Z)(this,t),(0,a.Z)(this,(0,l.Z)(t).apply(this,arguments))}return(0,s.Z)(t,e),(0,o.Z)(t,[{key:"onDestroy",value:function(){this.slotContainer.classList.remove(v,_)}},{key:"updateSlotContainer",value:function(){var e=JSON.stringify(this.createAnalytics());this.slotContainer.classList.add(v,_),this.slotContainer.setAttribute("data-analytics-container",e)}},{key:"createSlotMarkup",value:function(){var e=this.slotData,t=e.offerPage,i=e.eventPromoBGImage,n=e.salesEventName,o=t.offerSummary,a=o.model,r=o.payValue,l=o.payDescription,s=o.highlightValue,u=void 0===s?"":s,_=o.highlightDescription,v=void 0===_?"":_,p="".concat(h.Z.I18N.STARTING_AT," ").concat(this.formatMsrp(a.msrp)),m=(0,c.NR)(h.Z.I18N.EVENT_ON_NOW,[a.name,n]),y={bgImage:{src:i},hasImage:!c.Gu.isEmpty(i),highlightDescription:v,highlightValue:u,imInterestedCopy:h.Z.I18N.IM_INTERESTED,leaseFromCopy:h.Z.I18N.LEASE_FROM,msrpDisplay:p,offerDetailsCopy:h.Z.I18N.OFFER_DETAILS,payDescription:l,payValue:r,slotMessage:m,specialOfferCopy:h.Z.I18N.SPECIAL_OFFER};return(0,d.Z)(y)({getNode:!0})}},{key:"renderSlotInContainer",value:function(){(0,r.Z)((0,l.Z)(t.prototype),"renderSlotInContainer",this).call(this);var e=this.slotContainer.querySelector(".".concat("three-up-module__slot__vehicle")),i=this.slotData.offerPage.offerSummary.model,n=i.code,o=i.name,a=i.vehicleBodystyle,s=i.vehicleClass,c=i.year,u={bodyStyle:a.code,class:s.code,meta:{altTag:""},model:n,name:o,options:{exterior:{PAINT:[{id:""}]}},year:c};this.config.loadVehicleImageWithMediaServer({isSwap:!1,vehicleData:u,vehicleElm:e})}}]),t}(u.Z)},83663:function(e,t,i){i.d(t,{Z:function(){return y}});var n=i(15671),o=i(43144),a=i(82963),r=i(61120),l=i(60136),s=i(48218),c=i(61156),u=i(16187),h=i(37170),d=i(28612),_=i(30168);function v(){var e=(0,_.Z)(['\n<div class="three-up-module__general-offer-slot__slot-container">\n    <div class="three-up-module__general-offer-slot__image">\n        <img src="','" class="three-up-module__general-offer-slot__image-placeholder" alt="" />\n    </div>\n    <div class="three-up-module__general-offer-slot__offer-details">\n        <h3 class="three-up-module__general-offer-slot__offer__header">\n            <p class="three-up-module__general-offer-slot__offer__header__copy">','</p>\n            <p class="three-up-module__general-offer-slot__offer__header__copy">','</p>\n        </h3>\n        <a href="','" class="three-up-module__general-offer-slot__cta button button_primary button--full-width" aria-label="">\n            ',"\n        </a>\n    </div>\n</div>\n"]);return v=function(){return e},e}var p="three-up-module__general-offer-slot",m="three-up-module__general-offer-slot__cta",y=function(e){function t(){return(0,n.Z)(this,t),(0,a.Z)(this,(0,r.Z)(t).apply(this,arguments))}return(0,l.Z)(t,e),(0,o.Z)(t,[{key:"onDestroy",value:function(){this.slotContainer.classList.remove(p)}},{key:"setBindings",value:function(){this.setDealerCookie=this.setDealerCookie.bind(this)}},{key:"updateSlotContainer",value:function(){var e=JSON.stringify({blade:"generic-offer-tile"});this.slotContainer.classList.add(p),this.slotContainer.setAttribute("data-analytics-container",e)}},{key:"renderSlotInContainer",value:function(){var e=d.Z.I18N.SPECIAL_OFFERS_SEE_AVAILABLE,t=d.Z.I18N.SPECIAL_OFFERS_GOING_ON,i=d.Z.I18N.VIEW_CURRENT_OFFERS,n=h.ZP.SPECIAL_OFFER_URL,o=function(e){var t=e.backgroundImage,i=e.seeWhatIsAvailable,n=e.specialOffersGoingOn,o=e.specialOfferURI,a=e.viewCurrentOffers;return(0,c.e2)(v(),t?t.src:"",n,i,o,a)}({backgroundImage:this.config.bckgImages["general-offer"],seeWhatIsAvailable:e,specialOffersGoingOn:t,specialOfferURI:n,viewCurrentOffers:i})({getNode:!0});c.jG.append(o,this.slotContainer)}},{key:"updateSlotCTA",value:function(){var e=this.slotContainer.querySelector(".".concat(m));e.setAttribute("data-analytics-trigger","cta-".concat(this.config.moduleFullName)),e.addEventListener(s.FP.CLICK,this.setDealerCookie)}},{key:"detachEvents",value:function(){this.slotContainer.querySelector(".".concat(m)).removeEventListener(s.FP.CLICK,this.setDealerCookie)}},{key:"setDealerCookie",value:function(){this.dealer&&c.pR.setCookie({name:h.ZP.DEALER_ID_COOKIE,value:this.dealer.dealerId})}}]),t}(u.Z)},44356:function(e,t,i){i.d(t,{Z:function(){return N}});var n=i(42982),o=i(4942),a=i(15671),r=i(43144),l=i(82963),s=i(61120),c=i(60136),u=i(61156),h=i(48218),d=i(81995),_=i(14569),v=i(22209),p=i(16187),m=i(30070),y=i(37170),g=i(28612),f=i(49272),I=i(75875);function C(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var T="three-up-module__slot__link",E="three-up-module__slot__primary-cta",A="data-analytics-trigger",N=function(e){function t(){return(0,a.Z)(this,t),(0,l.Z)(this,(0,s.Z)(t).apply(this,arguments))}return(0,c.Z)(t,e),(0,r.Z)(t,[{key:"initSlot",value:function(){this.dealerFormModal=null,this.carousel=null,this.analyticTileName="new-inventory-tile",this.inventoryFavorites=null}},{key:"setBindings",value:function(){this.onInventoryClick=this.onInventoryClick.bind(this),this.triggerDealerForm=this.triggerDealerForm.bind(this),this.updateSlotImage=this.updateSlotImage.bind(this)}},{key:"updateSlotContainer",value:function(){var e=JSON.stringify(this.createAnalytics());this.slotContainer.setAttribute("data-analytics-container",e)}},{key:"renderSlotInContainer",value:function(){var e=this.createSlotMarkup();if(u.jG.append(e,this.slotContainer),this.loadDisclaimers(),!this.config.type&&this.slotData.vin&&0!==this.slotData.vin.length&&y.a5){var t=e.querySelector(".".concat("three-up-module__slot__vehicle__favorites"));try{this.inventoryFavorites=new m.Z({containerElm:t,dealerId:this.dealer.dealerId,vehicle:this.slotData})}catch(e){console.log("Error ",e)}}}},{key:"loadDisclaimers",value:function(){var e=this.slotData,t=e.modelPrice,i=e.msrp,n=e.vin;(n&&0!==n.length?i===h.at.NO_MSRP_PRICE:t===h.at.NO_MSRP_PRICE)||(this.createMSRPDisclaimer(),this.renderDisclaimers())}},{key:"getDistanceToDealer",value:function(e){var t,i,n,o,a=null==e||null===(t=e.address[0])||void 0===t||null===(i=t.location)||void 0===i?void 0:i.dist;if(!a&&""!==a)return"";var r=""===a?0:Math.floor(a),l=(null===(n=window.mbNafta.applicationProperties)||void 0===n||null===(o=n.distance)||void 0===o?void 0:o.distanceUnitAbbr)||e.distance.distunit||"",s="".concat(r," ").concat(l);if("fr"===g.Z.MBNAFTA_PAGEDATA.LANGUAGE){var c="".concat(r).replace(/\./,",");s="".concat(c," ").concat(l)}return s}},{key:"createSlotMarkup",value:function(){var e=this.slotData,t=e.amg,i=e.vehicleAttributes,n=e.modelLineName,a=e.modelName,r=e.year,l=e.vin,s=!!l&&0!==l.length,c="".concat(r," ").concat(a),u=null==i?void 0:i.dealer;this.vehicle=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?C(Object(i),!0).forEach((function(t){(0,o.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):C(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},this.slotData),s?this.vehicle.modelPrice=null:this.vehicle.msrp=null;var d=this.config,_=d.bckgImages,v=d.doubleCta,p=this.getPriceValueAndCopy(),m=p.msrpCopy,y=p.msrpValue,I=this.createPackageOptionList(),T=g.Z.I18N.VIEW_INVENTORY_LISTING,E={dealerName:(null==u?void 0:u.name)||"",distanceToDealer:this.getDistanceToDealer(u),doubleCta:v,hasVin:s,includePackages:g.Z.I18N.INCLUDE_PACKAGES,isAMG:t,linkCopy:s?T:g.Z.I18N.VIEW_INVENTORY,linkUrl:this.getLinkUrl(),modelLineName:n,modelYearName:c,monolith:_.non_vin,msrpCopy:m,msrpValue:y,packageOptionList:I,primaryButtonLink:this.isDSE?this.getLinkUrl():"",primaryButtonCopy:this.getInventoryCtasCopy(this.vehicle.isNew),standardFeatures:g.Z.I18N.STANDARD_FEATURES,vin:l},A=(0,f.Z)(E)({getNode:!0});if(s){this.createCarousel();var N=A.querySelector(".".concat("three-up-module__slot__vehicle__carousel"));N.appendChild(this.carousel.getCarousel()),N.addEventListener(h.FP.TOUCHSTART,(function(e){e.stopPropagation()}))}return A}},{key:"createCarousel",value:function(){var e=this.slotData,t=e.bodyStyleId,i=e.interiorBaseImage,n=e.paint,o=e.upholstery,a="SUV"===t?y.ZP.INVENTORY_FALLBACK.suvFallbackImagePattern:y.ZP.INVENTORY_FALLBACK.vehicleFallbackImagePattern,r=new v.NonResponsivePicture({imagePath:i&&i.mobile&&i.mobile.url?i.mobile.url:"",alt:"",fallbackMedia:{imgL:a,imgS:a,alt:""},className:"",onError:u.ZT,onLoad:u.ZT,itemProp:null}),l=(0,I.Q)({vehicleMonolith:this.config.bckgImages.vin,exteriorDescriptionText:n?n.name:"",interiorDescriptionText:o?o.name:""})({getNode:!0});u.jG.append(r.render(),l.querySelector(".".concat("three-up-module__slot__background-container--interior"," .").concat("three-up-module__slot__background-image-wrapper"))),this.carousel=new _.Carousel([].slice.call(l.children),{labels:{next:g.Z.I18N.NEXT,prev:g.Z.I18N.PREVIOUS,skipAll:g.Z.I18N.SKIP_ALL_SLIDES,skipToStart:g.Z.I18N.SKIP_TO_SLIDES_START},transitionType:_.Carousel.TRANSITION_TYPES.SLIDING})}},{key:"renderSlotImage",value:function(){var e=this.slotData,t=e.jellyBeanOverride,i=e.modelName,n=e.year,o="".concat(n," ").concat(i),a=this.slotContainer.querySelector(".".concat("three-up-module__slot__vehicle"));if(t){var r=this.slotData,l={bodyStyle:r.bodyStyleId,class:r.classId,meta:{altTag:o},model:r.modelId,name:i,options:r.options,year:n};this.config.loadVehicleImageWithMediaServer({isSwap:!1,slot:"inventory_slot_".concat(this.slotData.model,"_").concat(this.slotData.modelPrice),updateSlotImageCallBack:this.updateSlotImage,vehicleData:l,vehicleElm:a})}else{var s=this.createMediaServerImageType(this.slotData);this.config.loadVehicleImagewithImageUrl({image:s,slot:"inventory_slot_".concat(this.slotData.model,"_").concat(this.slotData.modelPrice),updateSlotImageCallBack:this.updateSlotImage,vehicleData:{meta:{altTag:o}},vehicleElm:a})}}},{key:"updateSlotCTA",value:function(){var e=this.config,t=e.doubleCta,i=e.moduleFullName,n=this.slotContainer.querySelector(".".concat(T));n.setAttribute(A,"cta-view-inventory"),t&&this.slotContainer.querySelector(".".concat(E)).setAttribute(A,"primary-cta-".concat(i)),this.attachEvents(n)}},{key:"onDestroy",value:function(){this.dealerFormModal=null,this.carousel=null}},{key:"attachEvents",value:function(e){var t=this.config,i=t.doubleCta,n=t.isInventoryEnabled,o=this.slotContainer.querySelector(".".concat(E));i&&!this.isDSE&&o.addEventListener(h.FP.CLICK,this.triggerDealerForm),n&&e.addEventListener(h.FP.CLICK,this.onInventoryClick)}},{key:"detachEvents",value:function(){var e=this.config,t=e.doubleCta,i=e.isInventoryEnabled,n=this.slotContainer.querySelector(".".concat(E));t&&!this.isDSE&&n.removeEventListener(h.FP.CLICK,this.triggerDealerForm),i&&this.slotContainer.querySelector(".".concat(T)).removeEventListener(h.FP.CLICK,this.onInventoryClick)}},{key:"createAnalytics",value:function(){var e=this.slotData,t=e.bodyStyleId,i=void 0===t?"":t,n=e.classId,o=void 0===n?"":n,a=e.modelId,r=void 0===a?"":a,l=e.msrp,s=void 0===l?0:l,c=e.paint,u=void 0===c?{}:c,h=e.type,d=void 0===h?"":h,_=e.vin,v=void 0===_?"":_,p=e.year,m=void 0===p?0:p;return{blade:this.analyticTileName,vehicle:{body:i,class:o,color:u.id||"",model:r,inventoryType:d,vin:v,year:m},pricingDetails:{price:s}}}},{key:"createPackageOptionList",value:function(){var e=[];return this.slotData.vin?(this.slotData.packages&&(e=(0,n.Z)(this.slotData.packages)),this.slotData.options&&(e=[].concat((0,n.Z)(e),(0,n.Z)(this.slotData.options))),e.length<2?e:e.slice(0,2)):e}},{key:"onInventoryClick",value:function(e){e.preventDefault();var t=this.slotData,i=t.bodyStyleId,n=t.classId,o=t.dealer,a=t.inventoryBodystyleId,r=t.inventoryClassId,l=t.modelId,s=t.vehicleAttributes,c=t.vin,u=this.config.inventoryInterceptor,h={bodyStyle:i,class:n,inventoryBodystyleId:a,inventoryClassId:r,model:l,vin:c},d=o||(null==s?void 0:s.dealer)||this.dealer,_={vehicleInfo:h,callingElementCta:e.currentTarget},v=null;d&&(_.dealerId=d.dealerId||d.id||"",_.name=d.name||"",null!=c&&c.length&&(v=h)),v?u.goToVDP(!0,_,v):u.goTo(!0,_)}},{key:"triggerDealerForm",value:function(e){e.preventDefault();var t=d.wK.FORM_TYPE.REQUEST_QUOTE,i=this.slotContainer.querySelector(".".concat(E));this.createDealerForm(t,i)}},{key:"onDealerFormClose",value:function(){this.dealerFormModal=null}}]),t}(p.Z)},78883:function(e,t,i){i.d(t,{Z:function(){return I}});var n=i(4942),o=i(15671),a=i(43144),r=i(82963),l=i(61120),s=i(60136),c=i(48218),u=i(61156),h=i(90747),d=i(28612),_=i(37170),v=i(16187),p=i(30168),m=i(77498);function y(){var e=(0,p.Z)(['\n    <div class="three-up-module__slot__slot-container three-up-module__registration-slot--recently-viewed">\n\n        <div class="three-up-module__slot__vehicle-visuals three-up-module__slot__vehicle-visuals--last-saved-build">\n            <h3 class="three-up-module__registration-slot__recently-viewed__image-label">\n                ','\n            </h3>\n\n            <div class="three-up-module__slot__vehicle three-up-module__slot__vehicle--last-saved-build">\n                <div class="three-up-module__image-placeholder"></div>\n            </div>\n        </div>\n\n        <div class="three-up-module__slot__vehicle-highlights">\n            <div class="three-up-module__registration-slot__vehicle-highlights__recently-saved">\n\n                ',"\n\n                ","\n\n                ",'\n\n            </div>\n        </div>\n\n        <div class="three-up-module__slot__ctas-container">\n            ','\n            <a href="','" aria-label="','" class="three-up-module__slot__link link link_plain-link">\n                ',"\n            </a>\n        </div>\n    </div>\n"]);return y=function(){return e},e}var g=function(e){var t=e.ctaLink,i=e.eyebrowCopy,n=void 0===i?"":i,o=e.headlineCopy,a=e.linkCopy,r=e.linkUrl,l=e.modelLineName,s=e.modelYearName,c=e.msrpCopy,h=void 0===c?"":c,d=e.msrpValue,_=e.packages,v=e.primaryButtonCopy,p=e.colorLabelCopy,g=e.color,f=e.packagesLabelCopy,I=e.paymentEstimateCopy,C=e.paymentEstimateValue;return(0,u.e2)(y(),n,function(e,t,i){return'\n    <div class="model-info">\n        <p class="three-up-module__registration-slot__vehicle-highlights__recently-saved__vehicle-name">\n            '.concat(e,'\n        </p>\n\n        <p class="three-up-module__registration-slot__vehicle-highlights__recently-saved__model-name">\n            ').concat(t,"\n        </p>\n\n        ").concat(i?'\n            <p class="three-up-module__registration-slot__vehicle-highlights__recently-saved__model-line-name">\n                '.concat(i,"\n            </p>"):"","\n    </div>\n")}(o,s,l),function(e,t,i,n){return'\n    <div class="three-up-module__slot__highlights-container__last-saved-build__prices-container">\n        '.concat((0,u.oX)()||(0,m._g)()?'<div class="three-up-module__slot__highlights-container__last-saved-build__prices-container--msrp-container">\n            <p class="three-up-module__slot__msrp-copy'.concat(t?"":"--no-build-value",'">\n                ').concat(e,"\n            </p>\n\n            ").concat(t?'<p class="three-up-module__slot__msrp three-up-module__slot__msrp-value">\n                    '.concat(t,"\n                </p>"):"","\n        </div>"):"</>","\n\n        ").concat(i?'\n            <div class="three-up-module__slot__highlights-container__last-saved-build__prices-container--estimate-comtainer">\n                <p class="three-up-module__slot__estimate-copy">\n                    '.concat(n,'\n                </p>\n\n                <p class="three-up-module__slot__estimate-value">\n                    ').concat(i,"\n                </p>\n            </div>"):"","\n    </div>\n")}(h,d,C,I),function(e,t,i,n){return'\n    <div class="three-up-module__slot__highlights-container__last-saved-build__options-container">\n        <p>'.concat(t,':</p>\n        <p class="three-up-module__slot__highlights-container__last-saved-build__options-container--option-value">\n            ').concat(e,"\n        </p>\n\n        ").concat(i.length?"\n            <p>".concat(n,':</p>\n            <p class="three-up-module__slot__highlights-container__last-saved-build__options-container--option-value">').concat(i,"</p>\n            "):"","\n    </div>\n")}(g,p,_,f),t?'<a href="'.concat(t,'" class="three-up-module__slot__primary-cta button button_primary button--full-width" aria-label="').concat(s,'">\n                ').concat(v,"\n            </a>"):'<button class="three-up-module__slot__primary-cta button button_primary button--full-width"  aria-label="'.concat(s,'">\n                ').concat(v,"\n            </button>"),r,s,a)},f={DISCLAIMER_LEGEND_CONTAINER:"three-up-module__slot__estimate-value",IMAGE_CONTAINER:"three-up-module__registration-slot__image-container",QUICK_REG_MODAL_LOGIN_LINK:"mbs-quick-registration__login-link",REGISTRATION_CONTAINER:"three-up-module__registration-slot--recently-viewed",SLOT_CTA:"three-up-module__slot__primary-cta",SLOT_LINK:"three-up-module__slot__link",THREE_UP_MODULE_SLOT_MSRP_DISCLAIMER:"three-up-module__slot__disclaimer-legend",THREE_UP_MODULE_SLOT_TOOLTIP_CONTAINER:"three-up-module__slot__msrp-value",VEHICLE_SLOT:"three-up-module__slot__vehicle"},I=function(e){function t(){return(0,o.Z)(this,t),(0,r.Z)(this,(0,l.Z)(t).apply(this,arguments))}return(0,s.Z)(t,e),(0,a.Z)(t,[{key:"initSlot",value:function(){var e,t,i;this.isPreRegistration=this.config.registrationType===this.CONSTANTS.PRE_REGISTRATION,this.registrationConfig=this.config.registrationConfig||{},this.slotCTA=null,this.slotLink=null,this.vehicle=this.config.recentlyViewedVehicle;var o=this.vehicle,a=o.dealer,r=o.isNew,l=o.reservable;this.dealer=a,this.isNew=r,this.reservable=l,this.CLASSES=f,this.ATTRIBUTE_CONSTANTS={ANALYTIC_NAME:(e={},(0,n.Z)(e,this.CONSTANTS.PRE_REGISTRATION,"pre-registration-tile"),(0,n.Z)(e,this.CONSTANTS.POST_REGISTRATION,"post-registration-tile"),e),ANALYTICS_TOOLTIP:"reserve-price-tooltip",CTA:(t={},(0,n.Z)(t,this.CONSTANTS.PRE_REGISTRATION,"cta-save-build"),(0,n.Z)(t,this.CONSTANTS.POST_REGISTRATION,"cta-view-build-details"),t),DATA_ANALYTICS_CONTAINER_ATTRIBUTE:"data-analytics-container",DATA_ANALYTICS_TRIGGER_ATTRIBUTE:"data-analytics-trigger",LINK:(i={},(0,n.Z)(i,this.CONSTANTS.PRE_REGISTRATION,"link-view-similar-inventory"),(0,n.Z)(i,this.CONSTANTS.POST_REGISTRATION,"link-view-similar-inventory"),i)}}},{key:"onDestroy",value:function(){this.slotCTA=null,this.slotLink=null,this.slotContainer.classList.remove(f.REGISTRATION_CONTAINER)}},{key:"setBindings",value:function(){this.createRegistrationModal=this.createRegistrationModal.bind(this)}},{key:"attachEvents",value:function(){this.isPreRegistration&&this.slotCTA.addEventListener(c.FP.CLICK,this.createRegistrationModal)}},{key:"detachEvents",value:function(){this.slotCTA&&this.slotCTA.removeEventListener(c.FP.CLICK,this.createRegistrationModal)}},{key:"updateSlotCTA",value:function(){if(this.slotCTA=this.slotContainer.querySelector(".".concat(f.SLOT_CTA)),this.slotLink=this.slotContainer.querySelector(".".concat(f.SLOT_LINK)),this.slotLink&&this.slotCTA){this.attachEvents();var e=this.ATTRIBUTE_CONSTANTS.CTA[this.config.registrationType];this.slotCTA.setAttribute(this.ATTRIBUTE_CONSTANTS.DATA_ANALYTICS_TRIGGER_ATTRIBUTE,e);var t=this.ATTRIBUTE_CONSTANTS.LINK[this.config.registrationType];this.slotLink.setAttribute(this.ATTRIBUTE_CONSTANTS.DATA_ANALYTICS_TRIGGER_ATTRIBUTE,t)}}},{key:"getVehiclePackages",value:function(){return Object.values(this.vehicle.options).filter((function(e){return e.PACKAGES})).map((function(e){return e.PACKAGES})).flat().map((function(e){return e.name})).join(", ")}},{key:"updateSlotContainer",value:function(){var e,t,i={blade:"last-saved-build-".concat(this.ATTRIBUTE_CONSTANTS.ANALYTIC_NAME[this.config.registrationType]),vehicle:{body:this.vehicle.bodyStyle,class:this.vehicle.class,exteriorColor:this.vehicle.options.exterior.PAINT[0].name,isAMG:this.vehicle.isAMG,model:this.vehicle.model,year:this.vehicle.year,vehicleName:this.vehicle.vehicleName,packages:this.getVehiclePackages()},pricingDetails:{price:this.vehicle.pricing.msrp.price,paymentEstimateType:(null===(e=this.vehicle.paymentEstimate)||void 0===e?void 0:e.paymentType)||"",paymentEstimateValue:(null===(t=this.vehicle.paymentEstimate)||void 0===t?void 0:t.monthlyPaymentEstimate)||""}};this.slotContainer.classList.add(this.CLASSES.REGISTRATION_CONTAINER),this.slotContainer.setAttribute(this.ATTRIBUTE_CONSTANTS.DATA_ANALYTICS_CONTAINER_ATTRIBUTE,JSON.stringify(i))}},{key:"getTemplateDefaultProps",value:function(){var e=this.getVehiclePackages(),t=this.getPriceValueAndCopy(),i=t.msrpCopy,n=t.msrpValue,o={colorLabelCopy:d.Z.I18N.EXTERIOR,color:this.vehicle.options.exterior.PAINT[0].name,packagesLabelCopy:d.Z.I18N.PACKAGES,packages:e,eyebrowCopy:d.Z.I18N.RECENT_BUILD,headlineCopy:d.Z.I18N.KEEP_TABS_ON_YOUR_BUILD,linkCopy:d.Z.I18N.VIEW_SIMILAR_INVENTORY,linkUrl:this.getInventoryUrl(),modelLineName:"".concat(this.vehicle.modelLineName),modelYearName:"".concat(this.vehicle.year," ").concat(this.vehicle.vehicleName),msrpCopy:i,msrpValue:n,primaryButtonCopy:d.Z.I18N.SAVE_MY_BUILD};return this.vehicle.paymentEstimate&&(o.paymentEstimateCopy="".concat(d.Z.I18N.ESTIMATED," ").concat(this.vehicle.paymentEstimate.paymentType),o.paymentEstimateValue=this.vehicle.paymentEstimate.monthlyPaymentEstimate),o}},{key:"createSlotMarkup",value:function(){var e=g,t=this.getTemplateDefaultProps();return t.monolith=this.backgroundImage,this.isPreRegistration||(t.eyebrowCopy=d.Z.I18N.RECENTLY_SAVED_BUILD,t.primaryButtonCopy=d.Z.I18N.VIEW_BUILD_DETAILS,t.ctaLink=(0,u.NR)(this.config.personalizationConfig.buildDetailsUri,{buildId:this.config.lastSavedBuildId})),e(t)({getNode:!0})}},{key:"manageDisclaimers",value:function(){var e,t=_.$I.legend,i=this.slotContainer.querySelector(".".concat(this.CLASSES.DISCLAIMER_LEGEND_CONTAINER));i&&t&&this.disclaimers.push({hook:new h.Z({autoNum:!0,disclaimerLabel:d.Z.I18N.DISCLAIMER,legend:t}),container:i}),null!==(e=this.vehicle.pricing.msrp)&&void 0!==e&&e.priceCurrency&&this.createMSRPDisclaimer(),this.disclaimers.length&&this.renderDisclaimers()}},{key:"renderSlotInContainer",value:function(){var e=this.createSlotMarkup();u.jG.append(e,this.slotContainer);var t=this.slotContainer.querySelector(".three-up-module__image-placeholder"),i={vehicleData:this.vehicle,vehicleElm:t,isSwap:!0,isByo:!0};this.renderMediaServerVehicleImage(i),this.manageDisclaimers()}}]),t}(v.Z)},46301:function(e,t,i){i.d(t,{Z:function(){return _}});var n=i(15671),o=i(43144),a=i(82963),r=i(61120),l=i(60136),s=i(61156),c=i(1530),u=i(28612),h=i(41908),d="image-only-lifestyle-tile",_=function(e){function t(){return(0,n.Z)(this,t),(0,a.Z)(this,(0,r.Z)(t).apply(this,arguments))}return(0,l.Z)(t,e),(0,o.Z)(t,[{key:"initSlot",value:function(){this.analyticTileName=d,this.inventoryFavorites=null,this.textOnly=this.config.textOnly||!this.config.bckgImages.lifestyle,this.dealer=this.config.recommendationsDealer||this.dealer}},{key:"renderSlotInContainer",value:function(){var e=this.createSlotMarkup();s.jG.append(e,this.slotContainer)}},{key:"updateSlotContainer",value:function(){this.slotContainer.setAttribute("data-analytics-container",'{"blade":"'.concat(this.textOnly?"text-only-lifestyle-tile":d,'"}'))}},{key:"createSlotMarkup",value:function(){var e=this.config,t=e.bckgImages,i=e.hasDealer,n=e.isCPO,o=e.showDealer,a={description:n?u.Z.I18N.DEALER_MOST_UP_TO_DATE_CPO_INVENTORY:u.Z.I18N.DEALER_MOST_UP_TO_DATE_INVENTORY,eyebrow:u.Z.I18N.CONTACT_YOUR_DEALER,hasDealer:i&&o,isCPOStyling:!this.textOnly,linkCopy:u.Z.I18N.CONTACT_A_DEALER,mainTitle:n?u.Z.I18N.FIND_THE_PERFECT_CPO_VEHICLE:u.Z.I18N.FIND_THE_PERFECT_VEHICLE,textOnly:this.textOnly};return this.textOnly||(a.monolith=t.lifestyle),(0,h.Z)(a)({getNode:!0})}},{key:"renderSlotImage",value:function(){this.textOnly?this.slotContainer.querySelector(".".concat("three-up-module__slot__vehicle-visuals")).classList.add("hide"):this.slotContainer.querySelector(".".concat("three-up-module__slot__vehicle")).classList.add("".concat(this.config.moduleVersion,"-").concat("module__image-container"))}},{key:"updateSlotCTA",value:function(){this.slotLink=this.slotContainer.querySelector(".".concat("three-up-module__slot__link")),this.slotLink.setAttribute("data-analytics-trigger","cta-contact-dealer"),this.attachEvents()}},{key:"onDestroy",value:function(){this.detachEvents()}}]),t}(c.Z)},80159:function(e,t,i){i.d(t,{Z:function(){return Z}});var n=i(15671),o=i(43144),a=i(82963),r=i(61120),l=i(60136),s=i(4942),c=i(48218),u=i(61156),h=i(29554),d=i(90747),_=i(90921),v=i(14569),p=i(16187),m=i(28612),y=i(30168),g=i(77498),f=i(60691),I=i(96595);function C(){var e=(0,y.Z)(['\n    <div class="three-up-module__slot__slot-container '," three-up-module__registration-slot--recently-viewed ",'">\n\n        ','\n\n        <div class="three-up-module__slot__vehicle-visuals ','">\n            <div class="three-up-module__registration-slot__recently-viewed__image-label three-up-module__registration-slot__recently-viewed__image-label','">\n                ',"\n            </div>\n\n            ","\n        </div>\n\n        ",'\n\n        <div class="three-up-module__slot__vehicle-highlights three-up-module__registration-slot__vehicle-highlights__recently-viewed">\n            <p class="three-up-module__slot\n                three-up-module__registration-slot__vehicle-highlights__recently-viewed__vehicle-name">\n                ','\n            </p>\n\n            <p class="three-up-module__slot\n                three-up-module__registration-slot__vehicle-highlights__recently-viewed__model-name\n                ','"\n            >\n                ',"\n            </p>\n\n            ","\n\n            ",'\n        </div>\n\n        <div class="three-up-module__slot__ctas-container">\n            ','\n\n            <a href="','"\n                aria-label="','"\n                class="three-up-module__slot__link link link_plain-link"\n            >\n                ',"\n            </a>\n        </div>\n    </div>\n"]);return C=function(){return e},e}var T,E,A,N,S,k=function(e){var t=e.dealerName,i=e.distanceToDealer,n=e.eyebrow,o=e.eyebrowCopy,a=void 0===o?"":o,r=e.headlineCopy,l=e.isNew,s=e.isPreRegistration,c=e.linkCopy,h=e.linkUrl,d=e.modelLineName,_=e.modelYearName,v=e.monolith,p=e.msrpCopy,m=void 0===p?"":p,y=e.msrpValue,T=e.primaryButtonCopy,E=e.vdpLinkUrl,A=e.isPostRegistration,N=void 0!==A&&A;return(0,u.e2)(C(),l?"":"three-up-module__slot--cpo",N?"three-up-module__registration-slot--post-registration":"",l?"":(0,f.Z)({dealerName:t,distanceToDealer:i,eyebrow:n,hasDealer:!0,hasVin:!1}),l?"":"three-up-module__slot__vehicle-visuals--cpo-registration",l?"":"--cpo-registration",a,function(e,t){return'\n<div class="three-up-module__slot__vehicle '.concat(e?"":"three-up-module__slot__vehicle--cpo-registration",'"">\n    ').concat(e?'<div class="three-up-module__slot__background-container">\n            <img src="'.concat(t.src,'" class="three-up-module__slot__background-image" alt="" />\n        </div>\n        <div class="three-up-module__registration-slot__image-container three-up-module__registration-slot__image-container--recently-viewed"></div>'):"",'\n\n    <img src="" class="three-up-module__image-placeholder" alt="" />\n</div>')}(l,v),l?(0,I.Z)({dealerName:t,distanceToDealer:i,showFavorite:!1,showEyebrow:!0,eyebrowCopy:a}):"",r,d?"":"three-up-module__registration-slot__vehicle-highlights__recently-viewed__model-name--no-model-line-name",_,d?'\n                <p class="three-up-module__slot three-up-module__registration-slot__vehicle-highlights__model-line-name">\n                    '.concat(d,"\n                </p>"):"",(0,u.oX)()||(0,g._g)()?"".concat(y?'<div class="three-up-module__slot__highlights-container">\n                    <p class="three-up-module__slot__msrp three-up-module__slot__msrp-copy">\n                        '.concat(m,'\n                        <span class="three-up-module__slot__disclaimer-legend"></span>\n                    </p>\n\n                    <p class="three-up-module__slot__msrp three-up-module__slot__msrp-value">\n                        ').concat(y,"\n                    </p>\n                </div>"):"<p>".concat(m,"</p>")):"</>",l?function(e,t,i,n){return"\n    <".concat(e?"button":"a","\n        ").concat(e?"":'href="'.concat(t,'"'),'\n        class="three-up-module__slot__primary-cta button button_primary button--full-width"\n        aria-label="').concat(i,'"\n    >\n        ').concat(n,"\n    </").concat(e?"button":"a"," >\n")}(s,E,_,T):function(e,t){return'\n    <button class="three-up-module__slot__primary-cta button button_primary button--full-width"\n        aria-label="'.concat(e,'"\n    >\n        ').concat(t,"\n    </button>\n")}(_,T),h,_,c)},D=i(37170);function O(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var b="three-up-module__registration-slot--recently-viewed",L=window.location.href,R={BUILD:"build",DEALER_PRICE:"DEALER_PRICE",DEFAULT:"DEFAULT",ONLINE_PRICE:"ONLINE_PRICE",PRE_REGISTRATION:"pre-registration",POST_REGISTRATION:"post-registration",REGISTRATION_BACKGROUND:"registration-background",REGISTRATION_FOREGROUND:"registration-foreground",UNITS:{ca:m.Z.I18N.KILOMETERS,us:m.Z.I18N.MILES},US:"us"},P={ANALYTIC_NAME:(T={},(0,s.Z)(T,R.PRE_REGISTRATION,"pre-registration-tile"),(0,s.Z)(T,R.POST_REGISTRATION,"post-registration-tile"),T),ANALYTICS_TOOLTIP:"reserve-price-tooltip",CTA:(E={},(0,s.Z)(E,R.PRE_REGISTRATION,"cta-save-vehicle"),(0,s.Z)(E,R.POST_REGISTRATION,"cta-view-vehicle-details"),E),CTA_CPO:(A={},(0,s.Z)(A,R.PRE_REGISTRATION,"cta-save-vehicle"),(0,s.Z)(A,R.POST_REGISTRATION,"cta-contact-dealer"),A),DATA_ANALYTICS_CONTAINER_ATTRIBUTE:"data-analytics-container",DATA_ANALYTICS_TRIGGER_ATTRIBUTE:"data-analytics-trigger",LINK:(N={},(0,s.Z)(N,R.PRE_REGISTRATION,"link-view-similar-inventory"),(0,s.Z)(N,R.POST_REGISTRATION,"link-view-similar-inventory"),N),LINK_CPO:(S={},(0,s.Z)(S,R.PRE_REGISTRATION,"link-view-similar-inventory"),(0,s.Z)(S,R.POST_REGISTRATION,"link-vehicle-details"),S)},Z=function(e){function t(){return(0,n.Z)(this,t),(0,a.Z)(this,(0,r.Z)(t).apply(this,arguments))}return(0,l.Z)(t,e),(0,o.Z)(t,[{key:"initSlot",value:function(){this.slotCTA=null,this.slotLink=null,this.registrationConfig=this.config.registrationConfig||{},this.isPreRegistration=this.config.registrationType===R.PRE_REGISTRATION;var e=this.config.bckgImages;this.foregroundImage=e[R.REGISTRATION_FOREGROUND],this.backgroundImage=e[R.REGISTRATION_BACKGROUND],this.vehicle=this.config.recentlyViewedVehicle;var t=this.vehicle,i=t.dealer,n=t.isNew,o=t.reservable,a=t.reservePrice.price;this.dealer=i,this.isNew=n,this.reservable=o,this.reservePriceValue=a,this.goToInventoryCallback=this.config.goToInventoryCallback||u.ZT}},{key:"onDestroy",value:function(){this.slotCTA=null,this.slotLink=null,this.slotContainer.classList.remove(b)}},{key:"setBindings",value:function(){this.createRegistrationModal=this.createRegistrationModal.bind(this),this.createDealerForm=this.createDealerForm.bind(this)}},{key:"updateSlotContainer",value:function(){var e="".concat(this.registrationConfig.tileVersion,"-recently-viewed-").concat(P.ANALYTIC_NAME[this.config.registrationType]),t=this.vehicle,i=t.dsrp,n=t.msrp.price,o=t.reservable,a=t.reservePrice.price,r=JSON.stringify({blade:e,vehicle:{body:this.vehiclebodyStyleId,class:this.vehicle.classId,ePriceEnabled:this.vehicle.ePriceEnabled,model:this.vehicle.modelId,vin:this.vehicle.vin,year:this.vehicle.year},pricingDetails:{price:i||n,discount:o?n-a:"",totalOnlinePrice:o&&a?a:""}});this.slotContainer.classList.add(b),this.slotContainer.setAttribute(P.DATA_ANALYTICS_CONTAINER_ATTRIBUTE,r)}},{key:"renderSlotInContainer",value:function(){var e,t=this.createSlotMarkup();u.jG.append(t,this.slotContainer),this.isNew&&(this.loadForegroundImage(),null!==(e=this.vehicle.msrp)&&void 0!==e&&e.priceCurrency&&this.createMSRPDisclaimer()),this.renderVehicleImage(),!this.isNew&&this.reservable&&this.reservePriceValue&&this.loadCpoDisclaimersAndTooltip(),this.vehicle.contactDealerForPrice||this.renderDisclaimers()}},{key:"loadCpoDisclaimersAndTooltip",value:function(){var e;null!==(e=D.NH.DISCLAIMER_ONLINE_PRICE)&&void 0!==e&&e.disclaimerText&&this.loadCpoOnlinePriceTextDisclaimers();var t=this.slotContainer.querySelector(".".concat("three-up-module__slot__msrp-value"),this.slotContainer);if(t){var i=this.createTooltip();u.jG.append(i.render(),t)}}},{key:"createTooltip",value:function(){var e=u.jG.fromTemplate("<p>".concat(m.Z.I18N.RESERVE_NOW_TOOLTIP,"</p>")),t={analyticsTrigger:P.ANALYTICS_TOOLTIP,direction:v.ToolTip.DIRECTION.UP,size:v.ToolTip.SIZE.DEFAULT};return new v.ToolTip(e,t)}},{key:"loadForegroundImage",value:function(){this.foregroundImage.setAttribute("alt",""),this.slotContainer.querySelector(".".concat("three-up-module__registration-slot__image-container")).appendChild(this.foregroundImage)}},{key:"renderVehicleImage",value:function(){var e="".concat(this.vehicle.year," ").concat(this.vehicle.modelName);this.slotData=this.slotData||{},this.slotData.exteriorBaseImage={desktop:{url:this.vehicle.image.imgL},mobile:{url:this.vehicle.image.imgS}};var t=this.createMediaServerImageType(),i=this.slotContainer.querySelector(".".concat("three-up-module__slot__vehicle"));this.config.loadVehicleImagewithImageUrl({image:t,vehicleData:{meta:{altTag:e}},vehicleElm:i})}},{key:"getVPDLinkUrl",value:function(){var e=this.vehicle,t=e.bodyStyleId,i=e.classId,n=e.modelId,o=e.vin;return(0,u.NR)(this.isNew?this.config.vdpLinkUrl:this.config.cpoVdpLink,{dealerName:this.dealer.name,dealerId:this.dealer.dealerId,classId:i,bodyStyleId:t,modelId:n,vin:o})}},{key:"getDistanceToDealer",value:function(){return this.isNew?this.dealer.distance?this.dealer.distance:"0 ".concat(R.UNITS[m.Z.MBNAFTA_PAGEDATA.COUNTRY]):""}},{key:"getCPOVehiclePriceAndCopy",value:function(){var e=this.vehicle.dsrp,t=R.DEALER_PRICE;return Boolean(this.reservable&&this.reservePriceValue)&&(e=this.reservePriceValue,t=R.ONLINE_PRICE),{price:e,priceType:t}}},{key:"getPriceValues",value:function(){var e=R.DEFAULT;return this.isNew||(e=this.getCPOVehiclePriceAndCopy().priceType),this.getPriceValueAndCopy(e)}},{key:"getTemplateDefaultProps",value:function(){var e=this.vehicle,t=e.contactDealerForPrice,i=e.modelName,n=e.modelLineName,o=e.year,a=this.getVPDLinkUrl(),r=this.getPriceValues(),l=r.msrpCopy,s=r.msrpValue;return{contactDealerForPrice:t,dealerName:this.dealer.dealerName||this.dealer.name,distanceToDealer:this.getDistanceToDealer(),eyebrow:m.Z.I18N.CERTIFIED_PRE_OWNED,eyebrowCopy:m.Z.I18N.VIEWED,doubleCta:this.config.doubleCta,headlineCopy:m.Z.I18N.KEEP_TABS_ON_YOUR_RECENTLY_VIEWED,linkCopy:m.Z.I18N.VIEW_SIMILAR_INVENTORY,linkUrl:this.config.linkUrl,isNew:this.isNew,isPreRegistration:this.isPreRegistration,modelLineName:n,modelYearName:"".concat(o," ").concat(i),noModelLineName:!n,msrpCopy:l,msrpValue:s,priceComingSoon:m.Z.I18N.PRICE_COMING_SOON,primaryButtonCopy:m.Z.I18N.SAVE_THIS_VEHICLE,registrationType:this.config.registrationType,vdpLinkUrl:a}}},{key:"createSlotMarkup",value:function(){var e=k,t=this.getVPDLinkUrl(),i=this.getTemplateDefaultProps();return this.isNew&&(i.monolith=this.backgroundImage),this.isPreRegistration||(i.isPostRegistration=!0,i.eyebrowCopy=m.Z.I18N.RECENTLY_SAVED,i.primaryButtonCopy=m.Z.I18N.VIEW_VEHICLE_DETAILS,this.isNew||(i.linkCopy=m.Z.I18N.VIEW_VEHICLE_DETAILS,i.linkUrl=t,i.primaryButtonCopy=m.Z.I18N.CONTACT_A_DEALER)),e(i)({getNode:!0})}},{key:"updateSlotCTA",value:function(){if(this.slotCTA=this.slotContainer.querySelector(".".concat("three-up-module__slot__primary-cta")),this.slotLink=this.slotContainer.querySelector(".".concat("three-up-module__slot__link")),this.attachEvents(),this.slotCTA){var e=this.isNew?P.CTA[this.config.registrationType]:P.CTA_CPO[this.config.registrationType];this.slotCTA.setAttribute(P.DATA_ANALYTICS_TRIGGER_ATTRIBUTE,e)}if(this.slotLink){var t=this.isNew?P.LINK[this.config.registrationType]:P.LINK_CPO[this.config.registrationType];this.slotLink.setAttribute(P.DATA_ANALYTICS_TRIGGER_ATTRIBUTE,t)}}},{key:"attachEvents",value:function(){this.slotLink&&this.slotLink.addEventListener(c.FP.CLICK,this.goToInventoryCallback),this.slotCTA&&(this.isPreRegistration&&this.slotCTA.addEventListener(c.FP.CLICK,this.createRegistrationModal),this.isPreRegistration||this.isNew||this.slotCTA.addEventListener(c.FP.CLICK,this.createDealerForm))}},{key:"detachEvents",value:function(){this.slotLink&&this.slotLink.removeEventListener(c.FP.CLICK,this.goToInventoryCallback),this.slotCTA&&(this.isPreRegistration&&this.slotCTA.removeEventListener(c.FP.CLICK,this.createRegistrationModal),this.isPreRegistration||this.isNew||this.slotCTA.removeEventListener(c.FP.CLICK,this.createDealerForm))}},{key:"loadCpoOnlinePriceTextDisclaimers",value:function(){this.disclaimers.push({hook:new d.Z({autoNum:!0,disclaimerLabel:m.Z.I18N.DISCLAIMER,legend:_.em.getInstance().addDynamicDisclaimer(D.NH.DISCLAIMER_ONLINE_PRICE)}),container:this.slotContainer.querySelector(".".concat("three-up-module__slot__disclaimer-legend"))}),this.renderDisclaimers()}},{key:"createRegistrationModal",value:function(){var e=this.registrationConfig.content||{},t={onCompleteCallback:function(){},callingContainer:this.slotCTA,onRegistrationCallback:this.config.registrationComplete},i={onLoginCallback:this.config.onLogInLinkClickCallback,redirectURL:L},n=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?O(Object(i),!0).forEach((function(t){(0,s.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):O(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},m.Z.REGISTRATION_SUCCCESS_LOCALIZATION,{},e);new h.Go(t,i,n).open()}}]),t}(p.Z)},2774:function(e,t,i){i.d(t,{Z:function(){return k}});var n,o,a,r=i(15671),l=i(43144),s=i(82963),c=i(61120),u=i(60136),h=i(4942),d=i(48218),_=i(61156),v=i(52597),p=i(29554),m=i(16187),y=i(28612),g=i(37170),f=i(30168);function I(){var e=(0,f.Z)(['\n    <div class="three-up-module__registration-slot__slot-container ','">\n        <div class="three-up-module__registration-slot__image-container"></div>\n\n        <div class="three-up-module__registration-slot__details">\n            <div class="three-up-module__registration-slot__details__eyebrow">\n                <span class="three-up-module__registration-slot__details__eyebrow__text">','</span>\n            </div>\n            <h3 class="three-up-module__registration-slot__details__slot-message">','</h3>\n            <p class="three-up-module__registration-slot__details__summary">','</p>\n        </div>\n\n        <div class="three-up-module__slot__ctas-container">\n            <button class="three-up-module__slot__primary-cta button button_primary button--full-width ','">\n                ',"\n            </button>\n            ","\n        </div>\n    </div>\n"]);return I=function(){return e},e}function C(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function T(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?C(Object(i),!0).forEach((function(t){(0,h.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):C(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var E="three-up-module__registration-slot",A="pre-registration",N="post-registration",S={ANALYTIC_NAME:(n={},(0,h.Z)(n,A,"pre-registration-tile"),(0,h.Z)(n,N,"post-registration-tile"),n),CTA:(o={},(0,h.Z)(o,A,"cta-account-create"),(0,h.Z)(o,N,"cta-view-account"),o),DATA_ANALYTICS_CONTAINER_ATTRIBUTE:"data-analytics-container",DATA_ANALYTICS_TRIGGER_ATTRIBUTE:"data-analytics-trigger",LINK:(a={},(0,h.Z)(a,A,"cta-view-inventory"),(0,h.Z)(a,N,""),a)},k=function(e){function t(){return(0,r.Z)(this,t),(0,s.Z)(this,(0,c.Z)(t).apply(this,arguments))}return(0,u.Z)(t,e),(0,l.Z)(t,[{key:"initSlot",value:function(){var e;this.authAPI=new v.$S,this.bckgImages=null===(e=this.config.bckgImages)||void 0===e?void 0:e.registration,this.slotCTA=null,this.slotLink=null,this.goToInventoryCallback=this.config.goToInventoryCallback||_.ZT,this.isTextOnly=!this.bckgImages,this.registrationConfig=this.config.registrationConfig||{}}},{key:"onDestroy",value:function(){this.slotCTA=null,this.slotLink=null,this.authAPI=null,this.slotContainer.classList.remove(E)}},{key:"setBindings",value:function(){this.gotoInventoryClickHandler=this.goToInventoryCallback.bind(this),this.createRegistrationModal=this.createRegistrationModal.bind(this),this.loginLinkClickHandler=this.loginLinkClickHandler.bind(this)}},{key:"updateSlotContainer",value:function(){var e=this.config.registrationType,t=JSON.stringify({blade:S.ANALYTIC_NAME[e]});this.slotContainer.classList.add(E),this.slotContainer.setAttribute(S.DATA_ANALYTICS_CONTAINER_ATTRIBUTE,t)}},{key:"renderSlotInContainer",value:function(){var e=this.createSlotMarkup();_.jG.append(e,this.slotContainer),this.isTextOnly||this.loadBackgroundImage()}},{key:"loadBackgroundImage",value:function(){this.bckgImages.setAttribute("alt",""),this.slotContainer.querySelector(".".concat("three-up-module__registration-slot__image-container")).appendChild(this.bckgImages)}},{key:"createSlotMarkup",value:function(){var e=this.config,t=e.doubleCta,i=e.linkUrl,n=e.registrationType,o="build"===this.registrationConfig.tileVersion,a={doubleCta:t,eyebrowCopy:y.Z.I18N.ACCOUNT_CREATED,primaryButtonCopy:y.Z.I18N.VIEW_ACCOUNT_CTA,slotHeading:(0,_.NR)(y.Z.I18N.THANKS_NAME,{firstName:this.authAPI.getProfile().accountData.firstName}),slotMessage:o?y.Z.I18N.YOUR_ACCOUNT_CREATED:y.Z.I18N.YOUR_ACCOUNT_CREATED_FAVORITE,textOnly:this.isTextOnly};return n===A&&(a=T({},a,{eyebrowCopy:y.Z.I18N.CREATE_AN_ACCOUNT_UPPERCASE,linkCopy:y.Z.I18N.VIEW_INVENTORY,linkUrl:i,primaryButtonCopy:"us"===y.Z.MBNAFTA_PAGEDATA.COUNTRY?y.Z.I18N.CREATE_AN_ACCOUNT:y.Z.I18N.CREATE_YOUR_ACCOUNT,slotHeading:y.Z.I18N.SAVE_YOUR_FAVORITES,slotMessage:y.Z.I18N.SAVE_BUILDS_AND_INVENTORY})),function(e){var t=e.doubleCta,i=e.eyebrowCopy,n=e.linkCopy,o=e.linkUrl,a=e.primaryButtonCopy,r=e.slotHeading,l=e.slotMessage,s=e.textOnly;return(0,_.e2)(I(),s?"text-only":"",i,r,l,t?"":"three-up-module__slot__primary-cta--standalone",a,t?'<a href="'.concat(o,'"\n                    class="three-up-module__slot__link link link_plain-link">\n                    ').concat(n,"\n                </a>"):"")}(a)({getNode:!0})}},{key:"updateSlotCTA",value:function(){this.slotCTA=this.slotContainer.querySelector(".".concat("three-up-module__slot__primary-cta")),this.slotLink=this.slotContainer.querySelector(".".concat("three-up-module__slot__link")),this.attachEvents(),this.slotLink&&this.slotLink.setAttribute(S.DATA_ANALYTICS_TRIGGER_ATTRIBUTE,S.LINK[this.config.registrationType]),this.slotCTA&&this.slotCTA.setAttribute(S.DATA_ANALYTICS_TRIGGER_ATTRIBUTE,S.CTA[this.config.registrationType])}},{key:"attachEvents",value:function(){var e=this.config.registrationType===A;this.slotLink&&e&&this.slotLink.addEventListener(d.FP.CLICK,this.goToInventoryCallback),this.slotCTA&&this.slotCTA.addEventListener(d.FP.CLICK,e?this.createRegistrationModal:this.loginLinkClickHandler)}},{key:"detachEvents",value:function(){var e=this.config.registrationType===A;this.slotLink&&e&&this.slotLink.removeEventListener(d.FP.CLICK,this.gotoInventoryClickHandler),this.slotCTA&&this.slotCTA.removeEventListener(d.FP.CLICK,e?this.createRegistrationModal:this.loginLinkClickHandler)}},{key:"loginLinkClickHandler",value:function(){this.authAPI.authRedirect(v.$S.AUTH_PAGES.LOGIN,g.ZP.ACCOUNT_URI)}},{key:"createRegistrationModal",value:function(){var e=this.registrationConfig.content||{};new p.Go({onCompleteCallback:function(){},callingContainer:this.slotCTA},{onRegistrationCallback:this.config.registrationComplete},T({},y.Z.REGISTRATION_SUCCCESS_LOCALIZATION,{},e)).open()}}]),t}(m.Z)},38374:function(e,t,i){i.d(t,{Z:function(){return S}});var n=i(42982),o=i(15671),a=i(43144),r=i(82963),l=i(61120),s=i(60136),c=i(61156),u=i(48218),h=i(81995),d=i(90921),_=i(14569),v=i(90747),p=i(16187),m=i(28612),y=i(97128),g=i(30168);function f(){var e=(0,g.Z)(['\n<div id="modal-','" class="three-up-offer__modal-content" aria-hidden="false">\n    <header class="three-up-offer__modal--header">\n        '," "," ",'\n    </header>\n    <div class="three-up-offer__modal--content">\n        ',"\n        ","\n        ","\n        ","\n    </div>\n</div>"]);return f=function(){return e},e}var I=function(e){return e.reduce((function(e,t){return t.disclaimerText&&(e=e.concat(t.disclaimerText)),e}),"")},C=function(e){var t=e.leasePaymentDisclaimer,i=e.leaseRateDisclaimer,n=e.model,o=e.offerCode,a=e.offerType,r=e.optionalHighlightHeader,l=e.secondHighlightDisclaimer,s=e.secondOptionalHighlightHeader,u=e.thirdHighlightDisclaimer;return(0,c.e2)(f(),o,n.year,n.name,m.Z.I18N.OFFER_DETAILS,i?'<h3 class="three-up-offer__modal--heading">'.concat("finance"===a?m.Z.I18N.FINANCE_DISCLAIMER:m.Z.I18N.LEASE_DISCLAIMER,'</h3>\n            <div class="rte">\n                ').concat(I(i),"\n            </div>"):"",t?'<h3 class="three-up-offer__modal--heading">'.concat(m.Z.I18N.LEASE_DISCLAIMER,'</h3>\n            <div class="rte">\n                ').concat(I(t),"\n            </div>"):"",u?'<h3 class="three-up-offer__modal--heading">'.concat(r,'</h3>\n            <div class="rte">\n                ').concat(I(u),"\n            </div>"):"",l?'<h3 class="three-up-offer__modal--heading">'.concat(s,'</h3>\n            <div class="rte">\n                ').concat(I(l),"\n            </div>"):"")},T="three-up-module__singular-offer-slot",E="three-up-module__vehicle-offer-slot",A={ANALYTIC_NAME:{EVENT:"event-offer-tile",SINGULAR:"singular-offer-tile"},DATA_ANALYTICS_CONTAINER_ATTRIBUTE:"data-analytics-container",DATA_ANALYTICS_TRIGGER_ATTRIBUTE:"data-analytics-trigger"},N={BODYSTYLE_LIST:["SDN","HBK","WGN"],G_CLASS:"G",NEW:"NEW",US:"us"},S=function(e){function t(){return(0,o.Z)(this,t),(0,r.Z)(this,(0,l.Z)(t).apply(this,arguments))}return(0,s.Z)(t,e),(0,a.Z)(t,[{key:"initSlot",value:function(){this.dealerFormModal=null}},{key:"onDestroy",value:function(){this.dealerFormModal=null,this.slotContainer.classList.remove(E,T)}},{key:"setBindings",value:function(){this.onOfferDetailsLinkClick=this.onOfferDetailsLinkClick.bind(this),this.onInterestedButtonClick=this.onInterestedButtonClick.bind(this)}},{key:"verifySlotData",value:function(){var e=this.slotData.offerPage;if(!e||!e.offerSummary)throw new Error("no offer Data")}},{key:"updateSlotContainer",value:function(){var e=JSON.stringify(this.createAnalytics());this.slotContainer.classList.add(E,T),this.slotContainer.setAttribute(A.DATA_ANALYTICS_CONTAINER_ATTRIBUTE,e)}},{key:"renderSlotInContainer",value:function(){var e=this.createSlotMarkup(),t=this.createTooltip();if(c.jG.append(e,this.slotContainer),t){var i=document.querySelector(".".concat("three-up-module__vehicle-offer-slot__offer-details__leasing-info__lease-highlight"),this.slotContainer);c.jG.append(t.render(),i)}this.createDisclaimers()}},{key:"createSlotMarkup",value:function(){var e=this.slotData.offerPage.offerSummary,t=e.model,i=e.payValue,n=e.payDescription,o=e.highlightValue,a=void 0===o?"":o,r=e.highlightDescription,l=void 0===r?"":r,s=m.Z.I18N,u=s.IM_INTERESTED,h=s.LEASE_A,d=s.LEASE_A_NEW,_=s.LEASE_FROM,v=s.LEASE_THE_ALL_NEW,p=s.STARTING_AT,g=s.OFFER_DETAILS,f=s.SPECIAL_OFFER,I="".concat(p," ").concat(this.formatMsrp(t.msrp)),C=t&&t.vehicleBodystyle&&t.vehicleClass&&(N.BODYSTYLE_LIST.includes(t.vehicleBodystyle.code)||t.vehicleClass.code===N.G_CLASS),T={hasImage:!1,highlightDescription:l,highlightValue:a,imInterestedCopy:u,leaseFromCopy:_,msrpDisplay:I,offerDetailsCopy:g,payDescription:n,payValue:i,slotMessage:m.Z.MBNAFTA_PAGEDATA.COUNTRY===N.US?(0,c.NR)(v,[t.year,t.name]):(0,c.NR)(C?h:d,[t.year,t.name]),specialOfferCopy:f};return(0,y.Z)(T)({getNode:!0})}},{key:"createTooltip",value:function(){var e=this.slotData.offerPage,t=null;return e.offerSummary.toolTip&&(t=new _.ToolTip(c.jG.fromTemplate(e.offerSummary.toolTip),{size:_.ToolTip.SIZE.CUSTOM,constraint:this.slotContainer})),t}},{key:"updateSlotCTA",value:function(){var e=this.config.moduleFullName;this.slotCTAButton=this.slotContainer.querySelector(".".concat("three-up-module__slot__primary-cta")),this.slotCTALink=this.slotContainer.querySelector(".".concat("three-up-module__slot__link")),this.slotCTAButton.setAttribute(A.DATA_ANALYTICS_TRIGGER_ATTRIBUTE,"cta-".concat(e)),this.slotCTALink.setAttribute(A.DATA_ANALYTICS_TRIGGER_ATTRIBUTE,"cta-".concat(e)),this.attachEvents()}},{key:"attachEvents",value:function(){this.config.isInventoryEnabled&&(this.slotCTAButton.addEventListener(u.FP.CLICK,this.onInterestedButtonClick),this.slotCTALink.addEventListener(u.FP.CLICK,this.onOfferDetailsLinkClick))}},{key:"detachEvents",value:function(){this.config.isInventoryEnabled&&(this.slotCTAButton.removeEventListener(u.FP.CLICK,this.onInterestedButtonClick),this.slotCTALink.removeEventListener(u.FP.CLICK,this.onOfferDetailsLinkClick))}},{key:"createAnalytics",value:function(){var e=this.slotData.offerType;return{blade:A.ANALYTIC_NAME[e],vehicle:{class:this.slotData.offerPage.offerSummary.model.vehicleClass.code||"",body:this.slotData.offerPage.offerSummary.model.vehicleBodystyle.code||"",model:this.slotData.offerPage.offerSummary.model.code||"",year:this.slotData.offerPage.offerSummary.model.year||"",color:"",vin:""}}}},{key:"createDisclaimers",value:function(){var e=this.slotData.offerPage.offerSummary.leasePaymentDisclaimer,t=[],i=this.slotContainer.querySelector(".".concat("three-up-module__vehicle-offer-slot__offer-details__leasing-info__disclaimer-legend"));e&&e.length&&(t=e.map((function(e){var t=d.em.getInstance().addDynamicDisclaimer(e);return{hook:new v.Z({autoNum:e.autoNum,disclaimerLabel:m.Z.I18N.DISCLAIMER,legend:t}),container:i}}))),this.disclaimers=[].concat((0,n.Z)(this.disclaimers),(0,n.Z)(t)),this.createMSRPDisclaimer(),this.renderDisclaimers()}},{key:"onInterestedButtonClick",value:function(){this.triggerDealerForm()}},{key:"onOfferDetailsLinkClick",value:function(){var e,t=this.slotData.offerPage,i=t.offerCode,n=t.offerSummary,o={leasePaymentDisclaimer:n.leasePaymentDisclaimer,leaseRateDisclaimer:n.leaseRateDisclaimer,model:n.model,offerCode:i,offerType:n.offerType,optionalHighlightHeader:n.optionalHighlightHeader,secondHighlightDisclaimer:n.secondHighlightDisclaimer,secondOptionalHighlightHeader:n.secondOptionalHighlightHeader,thirdHighlightDisclaimer:n.thirdHighlightDisclaimer};(e=new _.Modal(void 0,{modalContent:C(o)({getNode:!0}),sizeSmall:_.Modal.SIZES.FULLSCREEN,callbacks:{beforeClose:function(){e.destroy(),e=null}}})).open({callingContainer:this.slotCTALink})}},{key:"triggerDealerForm",value:function(){this.createDealerForm(h.wK.FORM_TYPE.SPECIAL_OFFER,this.slotCTAButton)}},{key:"getDealerModalVehicleInfo",value:function(){var e,t,i=(null===(e=this.slotData)||void 0===e||null===(t=e.offerPage)||void 0===t?void 0:t.offerSummary).model,n=(i=void 0===i?{}:i).code,o=i.modelTileImage,a=i.name,r=i.vehicleBodystyle,l=i.vehicleClass,s=i.year;return{bodyStyle:null==r?void 0:r.code,exteriorBaseImage:{desktop:{url:o},mobile:{url:o}},modelId:n,modelName:a,type:N.NEW,vehicleClass:l,year:s}}}]),t}(p.Z)},83102:function(e,t,i){i.d(t,{Z:function(){return I}});var n=i(4942),o=i(15671),a=i(43144),r=i(82963),l=i(11752),s=i(61120),c=i(60136),u=i(48218),h=i(61156),d=i(44356),_=i(37170),v=i(28612),p=i(49272);function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var y="three-up-module__slot__link",g={DATA_ANALYTICS_TRIGGER_ATTRIBUTE:"data-analytics-trigger",NBA_CTA_ANALYTICS:{BUILD:"build",COMPARE:"compare-models",INVENTORY:"view-inventory",MODELS:"build",PAYMENT:"estimate-payment"},NBA_TILE_ANALYTICS:{BUILD:"build-tile",COMPARE:"compare-tile",INVENTORY:"inventory-no-vin-tile",MODELS:"build-tile",PAYMENT:"payment-tile"}},f={DEFAULT:"DEFAULT",ICONS_CLASS:{BUILD:"build",COMPARE:"compare",MODELS:"build",PAYMENT:"payment"},NBA_CONSTANTS:{BUILD:"BUILD",COMPARE:"COMPARE",INVENTORY:"INVENTORY",MODELS:"MODELS",PAYMENT:"PAYMENT"}},I=function(e){function t(){return(0,o.Z)(this,t),(0,r.Z)(this,(0,s.Z)(t).apply(this,arguments))}return(0,c.Z)(t,e),(0,a.Z)(t,[{key:"initSlot",value:function(){(0,l.Z)((0,s.Z)(t.prototype),"initSlot",this).call(this),this.analyticTileName=g.NBA_TILE_ANALYTICS[this.config.type]}},{key:"setBindings",value:function(){this.onInventoryClick=this.onInventoryClick.bind(this)}},{key:"getCompareModelsLink",value:function(){var e=_.ZP.MODEL_COMPARE_BASE_URL,t=this.slotData.compareData,i=this.config.slotIndex;if(i>0){var n=t.splice(i,1).pop();t.unshift(n)}var o=t.map((function(e){return"".concat(e.year,"-").concat(e.classId,"-").concat(e.modelId)})).join("/").toLowerCase();return e.includes(".html")?e.replace(".html","/").concat(o,".html"):e.concat("/",o)}},{key:"getEstimatePaymentLink",value:function(){var e=this.slotData,t=e.classId,i=e.modelId,n=e.modelPrice,o=e.year;return(0,h.op)(_.ZP.PAYMENT_ESTIMATOR_URL,{year:o,class:t,model:i,msrp:n})}},{key:"createSlotMarkup",value:function(){var e=this.config,t=e.doubleCta,i=e.personalizationConfig,o=e.type,a=this.slotData,r=a.amg,l=a.contactDealerForPrice,s=a.modelBuildPageUrl,c=a.modelName,u=a.year;this.vehicle=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},this.slotData);var h="".concat(u," ").concat(c),d=this.getPriceValueAndCopy(),_=d.msrpCopy,y=d.msrpValue,g=!1,I=v.Z.I18N.VIEW_INVENTORY,C=i.inventoryUrl,T=f.NBA_CONSTANTS,E=T.BUILD,A=T.COMPARE,N=T.MODELS,S=T.PAYMENT;return o!==E&&o!==N||(g=!0,I=v.Z.I18N.BUILD_CTA,C=s||i.allVehiclesURI),o===A&&(I=v.Z.I18N.COMPARE_MODELS_CTA,C=this.getCompareModelsLink()),o!==S||l||(I=v.Z.I18N.ESTIMATE_PAYMENT_CTA,C=this.getEstimatePaymentLink()),(0,p.Z)({contactDealerForPrice:l,doubleCta:t,hasVin:!1,includePackages:v.Z.I18N.INCLUDE_PACKAGES,iconClass:o===S&&l?"":f.ICONS_CLASS[o],isAMG:r,isAvailableNow:!1,isColorPicker:g,isHybrid:!0,linkCopy:I,linkUrl:C,modelYearName:h,monolith:null,msrpCopy:_,msrpValue:y,packageOptionList:[],primaryButtonCopy:v.Z.I18N.UNLOCK_EPRICE,standardFeatures:v.Z.I18N.STANDARD_FEATURES})({getNode:!0})}},{key:"renderSlotImage",value:function(){var e=this.slotData,t=e.modelName,i=e.year,n=this.createMediaServerImageType(this.slotData),o="".concat(i," ").concat(t),a=this.slotContainer.querySelector(".".concat("three-up-module__slot__vehicle"));this.config.loadVehicleImagewithImageUrl({image:n,vehicleData:{meta:{altTag:o}},vehicleElm:a})}},{key:"loadDisclaimers",value:function(){this.slotData.contactDealerForPrice||this.slotData.modelPrice===u.at.NO_MSRP_PRICE||(this.createMSRPDisclaimer(),this.renderDisclaimers())}},{key:"updateSlotCTA",value:function(){var e=this.config.type,t=this.slotContainer.querySelector(".".concat(y));t.setAttribute(g.DATA_ANALYTICS_TRIGGER_ATTRIBUTE,"cta-".concat(g.NBA_CTA_ANALYTICS[e]));var i=f.NBA_CONSTANTS,n=i.INVENTORY,o=i.PAYMENT,a=this.slotData.contactDealerForPrice;(e===n&&this.config.isInventoryEnabled||e===o&&a)&&this.attachEvents(t)}},{key:"onDestroy",value:function(){this.dealerFormModal=null}},{key:"attachEvents",value:function(e){e.addEventListener(u.FP.CLICK,this.onInventoryClick)}},{key:"detachEvents",value:function(){var e=this.config,t=e.isInventoryEnabled;(e.type===f.NBA_CONSTANTS.PAYMENT&&this.slotData.contactDealerForPrice||t)&&this.slotContainer.querySelector(".".concat(y)).removeEventListener(u.FP.CLICK,this.onInventoryClick)}}]),t}(d.Z)},78618:function(e,t,i){var n=i(15671),o=i(43144),a=i(55005),r=i(58735),l=new(function(){function e(){return(0,n.Z)(this,e),e.instance||(this.appState=(0,a.MI)(),this.appState.reducerRegistry.register({inventoryPreferenceReducer:r.Z}),e.instance=this),e.instance}return(0,o.Z)(e,[{key:"destroy",value:function(){this.appState.reducerRegistry.unregister({inventoryPreferenceReducer:r.Z}),this.appState.reducerRegistry.register({inventoryPreferenceReducer:r.Z})}},{key:"dispatch",value:function(e){return this.appState.store.dispatch(e)}},{key:"getStore",value:function(){return this.appState.store.getState().inventoryPreferenceReducer}}]),e}());t.Z=l},96595:function(e,t){t.Z=function(e){var t=e.dealerName,i=void 0===t?"":t,n=e.distanceToDealer,o=void 0===n?"":n,a=e.showFavorite,r=void 0===a||a;return'<div class="three-up-module__slot__overhead-dealer">\n        '.concat(i.length?'<div class="three-up-module__slot__overhead-dealer-info '.concat(o.length?"":"three-up-module__slot__overhead-dealer-info--no-distance",'">\n                <span class="three-up-module__slot__overhead-dealer-name">').concat(i,"</span>\n                ").concat(o.length?'<span class="three-up-module__slot__overhead-dealer-distance">('.concat(o,")</span>"):"","\n            </div>"):"","\n        ").concat(r?'<div class="three-up-module__slot__vehicle__favorites"></div>':"","\n    </div>\n")}},41908:function(e,t,i){var n=i(30168),o=i(61156),a=i(75875),r=i(60691);function l(){var e=(0,n.Z)(['\n    <div class="three-up-module__slot__slot-container three-up-module__slot--null-state',"",'">\n        ',"\n\n        ",'\n\n        <div class="three-up-module__slot__vehicle-specifics">\n            <div class="three-up-module__slot__general-copy-container">\n                ',"\n                ",'\n                <p class="three-up-module__slot__general-copy three-up-module__slot__general-copy--description">','</p>\n            </div>\n\n            <div class="three-up-module__slot__ctas-container">\n                <','\n                    class="three-up-module__slot__link link link_plain-link three-up-module__slot__link--standalone"\n                    aria-label="',", ","",' "\n                >\n                    ',"\n                </",">\n            </div>\n        </div>\n    </div>\n"]);return l=function(){return e},e}t.Z=function(e){var t=e.dealerName,i=void 0===t?"":t,n=e.description,s=void 0===n?"":n,c=e.eyebrow,u=void 0===c?"":c,h=e.hasDealer,d=void 0===h||h,_=e.isCPOStyling,v=void 0!==_&&_,p=e.linkCopy,m=void 0===p?"":p,y=e.linkUrl,g=void 0===y?"":y,f=e.mainTitle,I=void 0===f?"":f,C=e.monolith,T=e.subheader,E=void 0===T?"":T,A=e.textOnly,N=void 0!==A&&A,S=e.vehicleName,k=void 0===S?"":S;return(0,o.e2)(l(),N?" three-up-module__slot--text-only":"",v?" three-up-module__slot--cpo":"",(0,r.Z)({eyebrow:u,hasDealer:d,hasTitle:!I.length,hasVin:!1}),(0,a.Z)({hasVin:!1,monolith:C}),I.length?'<h3 class="three-up-module__slot__general-copy three-up-module__slot__general-copy--main-title">\n                        '.concat(I,"\n                    </h3>"):"",E.length?'<p class="three-up-module__slot__general-copy three-up-module__slot__general-copy--title '.concat(I.length?"":"three-up-module__slot__general-copy--title--standalone",'">\n                        ').concat(E,"\n                    </p>"):"",s,g.length?'a href="'.concat(g,'"'):"button",m,k.length?", ".concat(k):"",i.length?", ".concat(i):"",m,g.length?"a":"button")}},29549:function(e,t,i){var n=i(30168),o=i(61156);function a(){var e=(0,n.Z)(['\n<section class="three-up-module__container">\n    <div class="three-up-module__header-container">\n        <h2 class="three-up-module__header">','</h2>\n        <div class="three-up-module__dealer-info" aria-label="','">\n            <div class="three-up-module__dealer-info__inner"></div>\n            <div class="three-up-module__search-bar">\n                <div class="three-up-module__search-bar__inner">\n                    <div class="three-up-module__search-bar__container"></div>\n                    <div class="three-up-module__search-bar__error-container"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="three-up-module__tabs-container"></div>\n    <div class="three-up-module__slots-container three-up-module__slots-container--primary" aria-label="','">\n        <div class="three-up-module__slots-container__inner"></div>\n    </div>\n    <div class="three-up-module__slots-container three-up-module__slots-container--secondary" aria-label="','">\n        <div class="three-up-module__slots-container__inner"></div>\n    </div>\n</section>\n']);return a=function(){return e},e}t.Z=function(e){var t=e.containerCopy,i=e.vehiclesAreLoading;return(0,o.e2)(a(),t,i,i,i)}},89048:function(e,t,i){var n=i(30168),o=i(61156);function a(){var e=(0,n.Z)(['\n    <div class="three-up-module__dealer-info__wrapper">\n        <div class="three-up-module__dealer-info__container">\n            ','\n            <p class="three-up-module__dealer-info__address" ',"></p>\n            ",'\n            <button class="three-up-module__dealer-info__change-cta link link_plain-link" aria-describedby="dealer-location"></a>\n        </div>\n    </div>\n']);return a=function(){return e},e}t.Z=function(e){var t=e.noDealerSubHeader,i=e.isLocation;return(0,o.e2)(a(),i?"":'<p class="three-up-module__dealer-info__name" id="dealer-location"></p>',i?'id="dealer-location"':"",i?"":'<p class="three-up-module__dealer-info__sub-header">'.concat(t,"</p>"))}},49272:function(e,t,i){i.d(t,{Z:function(){return c}});var n=i(30168),o=i(61156),a=i(24436),r=i(96595),l=i(75875);function s(){var e=(0,n.Z)(['\n    <div class="three-up-module__slot__slot-container','">\n        ',"\n        ","\n        ","\n        ","\n    </div>\n"]);return s=function(){return e},e}var c=function(e){var t=e.contactDealerForPrice,i=void 0!==t&&t,n=e.dealerName,c=e.distanceToDealer,u=e.doubleCta,h=e.hasVin,d=e.iconClass,_=void 0===d?"":d,v=e.includePackages,p=e.isColorPicker,m=void 0!==p&&p,y=e.isHybrid,g=void 0!==y&&y,f=e.linkCopy,I=e.linkUrl,C=e.modelLineName,T=void 0===C?null:C,E=e.modelYearName,A=e.monolith,N=e.msrpCopy,S=void 0===N?"":N,k=e.msrpValue,D=e.packageOptionList,O=e.primaryButtonLink,b=e.primaryButtonCopy,L=e.standardFeatures,R=e.vin,P=void 0===R?"":R;return(0,o.e2)(s(),g?" three-up-module__slot__slot-container--hybrid":"",h?(0,r.Z)({dealerName:n,distanceToDealer:c}):"",(0,l.Z)({hasVin:h,monolith:A}),(0,a.Z)({contactDealerForPrice:i,hasVin:h,isColorPicker:m,modelLineName:T,modelYearName:E,msrpCopy:S,msrpValue:k,vin:P}),function(e){var t=e.doubleCta,i=e.iconClass,n=e.isColorPicker,o=e.linkCopy,a=e.linkUrl,r=e.modelYearName,l=e.packageOptionList,s=e.primaryButtonLink,c=e.primaryButtonCopy,u=e.standardFeatures;return'\n    <div class="three-up-module__slot__vehicle-specifics">\n        <div class="three-up-module__slot__vehicle-package__container">\n            '.concat(void 0!==n&&n?"":'<p class="three-up-module__slot__vehicle-package__eyebrow">'.concat(e.includePackages,"</p>\n                ").concat(function(e,t){var i="";return e.length?e.forEach((function(e){i+='<p class="three-up-module__slot__vehicle-package">'.concat(e.name,"</p>")})):i+='<p class="three-up-module__slot__vehicle-package">'.concat(t,"</p>"),i}(l,u)),"\n        </div>\n        ").concat(function(e){var t=e.doubleCta,i=e.iconClass,n=void 0===i?"":i,o=e.linkCopy,a=e.linkUrl,r=void 0===a?"":a,l=e.modelYearName,s=e.primaryButtonCopy,c=e.primaryButtonLink,u=void 0===c?"":c;return'<div class="three-up-module__slot__ctas-container">\n        '.concat(t?"<".concat(u.length?'a href="'.concat(u,'"'):"button",'\n                class="three-up-module__slot__primary-cta button button_primary button--full-width"\n                aria-label="').concat(s,", ").concat(l,'">\n                ').concat(s,"\n            </").concat(u.length?"a":"button",">"):"","\n        <").concat(r.length?'a href="'.concat(r,'"'):"button",'\n            class="three-up-module__slot__link link link_plain-link ').concat(t?"":"three-up-module__slot__link--standalone"," ").concat(n.length?"three-up-module__slot__link--".concat(n):"",'"\n            aria-label="').concat(o,", ").concat(l,'">\n            ').concat(o,"\n        </").concat(r.length?"a":"button",">\n    </div>")}({doubleCta:t,iconClass:i,linkCopy:o,linkUrl:a,modelYearName:r,primaryButtonLink:s,primaryButtonCopy:c}),"\n    </div>")}({doubleCta:u,iconClass:_,includePackages:v,isColorPicker:m,linkCopy:f,linkUrl:I,modelYearName:E,packageOptionList:D,primaryButtonLink:O,primaryButtonCopy:b,standardFeatures:L}))}},20971:function(e,t,i){var n=i(30168),o=i(61156);function a(){var e=(0,n.Z)(['\n<div class="three-up-module__slot-wrapper"></div>']);return a=function(){return e},e}t.Z=function(){return(0,o.e2)(a())}},97128:function(e,t,i){var n=i(30168),o=i(61156),a=i(75875);function r(){var e=(0,n.Z)(['\n<div class="three-up-module__vehicle-offer-slot__slot-container ','">\n    ','\n    <div class="three-up-module__vehicle-offer-slot__offer-details">\n        ','\n        <h3 class="three-up-module__vehicle-offer-slot__offer-details__slot-message">','</h3>\n        <p class="three-up-module__slot__msrp three-up-module__vehicle-offer-slot__offer-details__msrp">','</p>\n        <p class="three-up-module__vehicle-offer-slot__offer-details__leasing-info">\n            <span class="three-up-module__vehicle-offer-slot__offer-details__leasing-info__label">','</span>\n            <span class="three-up-module__vehicle-offer-slot__offer-details__leasing-info__value">$','</span>\n            <span class="three-up-module__vehicle-offer-slot__offer-details__leasing-info__disclaimer-legend"></span>\n            <span class="three-up-module__vehicle-offer-slot__offer-details__leasing-info__details">\n                <span class="three-up-module__vehicle-offer-slot__offer-details__leasing-info__value-description"> ','</span>\n                <span class="three-up-module__vehicle-offer-slot__offer-details__leasing-info__lease-highlight">\n                    '," ",'\n                </span>\n            </span>\n        </p>\n    </div>\n    <div class="three-up-module__slot__ctas-container">\n        <button class="three-up-module__slot__primary-cta button button_primary button--full-width">','</button>\n        <button class="three-up-module__slot__link link link_plain-link">',"</button>\n    </div>\n</div>\n"]);return r=function(){return e},e}t.Z=function(e){var t=e.bgImage,i=e.hasImage,n=e.highlightDescription,l=e.highlightValue,s=e.imInterestedCopy,c=e.leaseFromCopy,u=e.msrpDisplay,h=e.offerDetailsCopy,d=e.payDescription,_=e.payValue,v=e.slotMessage,p=e.specialOfferCopy;return(0,o.e2)(r(),i?"three-up-module__vehicle-offer-slot__slot-container--has-image":"",i?(0,a.Z)({hasVin:!1,monolith:t}):"",i?"":function(e){return""+'<div class="three-up-module__vehicle-offer-slot__offer-details__special-offers">\n            <span class="three-up-module__vehicle-offer-slot__offer-details__special-offers__icon icon-mb icon-mb-dealer-location"></span>\n            <span class="three-up-module__vehicle-offer-slot__offer-details__special-offers__text">'.concat(e,"</span>\n        </div>")}(p),v,u,c,_,d,l,n,s,h)}},24436:function(e,t,i){var n=i(61156),o=i(77498);t.Z=function(e){var t=e.hasVin,i=void 0!==t&&t,a=e.highlightPrice,r=void 0!==a&&a,l=e.isColorPicker,s=void 0!==l&&l,c=e.modelLineName,u=e.modelYearName,h=e.msrpCopy,d=void 0===h?"":h,_=e.msrpValue,v=e.vin,p=void 0===v?"":v,m="three-up-module__slot__msrp",y="".concat(m),g="".concat(m);return r&&(y="".concat(m," ").concat(m,"--highlight"),g="".concat(m," ").concat(m,"--highlight")),_||(y="".concat(m," ").concat(m,"--coming-soon")),'\n        <div class="three-up-module__slot__vehicle-highlights'.concat(r?" three-up-module__slot__vehicle-highlights--overflow":"",'">\n            <h3 ').concat(i?'id="vehicle-'.concat(p,'"'):"",'\n                class="three-up-module__slot__vehicle-name ').concat(c?"":"three-up-module__slot__vehicle-name--no-model-line-name",'"\n            >\n                ').concat(u,"\n            </h3>\n\n            ").concat(c?'\n                <p class="three-up-module__slot__vehicle-highlights three-up-module__slot__model-line-name">\n                    '.concat(c,"\n                </p>"):"","\n\n            ").concat((0,n.oX)()||(0,o._g)()?'<div class="three-up-module__slot__highlights-container">\n                '.concat(_?'<p class="'.concat(y,'">\n                        ').concat(d,"\n                        ").concat(r?'<span class="three-up-module__slot__disclaimer-legend"></span>':"",'\n                    </p>\n                    <p class="').concat(g,' three-up-module__slot__msrp-value">\n                        ').concat(_,"\n                    </p>"):'<p class="three-up-module__slot__msrp-copy--no-value">'.concat(d,"</p>"),"\n\n                ").concat(s?'<div class="three-up-module__slot__vehicle-color-picker__container"></div>':"","\n            </div>"):"</>","\n        </div>\n    ")}},60691:function(e,t){t.Z=function(e){var t=e.dealerName,i=void 0===t?"":t,n=e.distanceToDealer,o=void 0===n?"":n,a=e.eyebrow,r=void 0===a?"":a,l=e.hasDealer,s=void 0!==l&&l,c=e.hasTitle,u=void 0!==c&&c,h=e.hasVin,d=void 0!==h&&h;return'<div class="three-up-module__slot__overhead">\n        '.concat(r.length?"".concat(u?'<h3 class="three-up-module__slot__eyebrow">'.concat(r,"</h3>"):'<p class="three-up-module__slot__eyebrow">'.concat(r,"</p>")):"","\n        ").concat(d?'<div class="three-up-module__slot__vehicle__favorites"></div>':"","\n        ").concat(s?'<div class="three-up-module__slot__dealer-info">\n                '.concat(i.length?'<p class="three-up-module__slot__dealer-info__copy three-up-module__slot__dealer-info__dealer-name">'.concat(i,'</p>\n                    <p class="three-up-module__slot__dealer-info__copy three-up-module__slot__dealer-info__distance">').concat(o,"</p>"):"","\n            </div>"):"","\n    </div>\n")}},75875:function(e,t,i){i.d(t,{Q:function(){return l}});var n=i(30168),o=i(61156);function a(){var e=(0,n.Z)(['\n    <div class="three-up-module__slot__vehicle__wrapper">\n        ','\n        <p class="three-up-module__slot__vehicle__description three-up-module__slot__vehicle__description--exterior">\n            ','\n        </p>\n    </div>\n    <div class="three-up-module__slot____wrapper">\n        <div class="three-up-module__slot__background-container--interior">\n            <div class="three-up-module__slot__background-image-wrapper">\n            </div>\n        </div>\n        <p class="three-up-module__slot__vehicle__description three-up-module__slot__vehicle__description--interior">\n            ',"\n        </p>\n    </div>"]);return a=function(){return e},e}var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return'\n<div class="three-up-module__slot__vehicle">\n    '.concat(e?'<div class="three-up-module__slot__background-container">\n                <img src="'.concat(e.src,'"\n                    class="three-up-module__slot__background-image').concat(t?" three-up-module__slot__background-image--carousel":"",'"\n                    alt="" />\n        </div>'):"",'\n    <img src="" class="three-up-module__image-placeholder" alt="" />\n</div>')},l=function(e){var t=e.exteriorDescriptionText,i=e.interiorDescriptionText,n=e.vehicleMonolith;return(0,o.e2)(a(),r(n,!0),t,i)};t.Z=function(e){var t=e.hasVin,i=void 0!==t&&t,n=e.monolith;return'\n<div class="three-up-module__slot__vehicle-visuals'.concat(i?" three-up-module__slot__vehicle-visuals--carousel":"",'">\n    ').concat(i?'<div class="three-up-module__slot__vehicle__carousel"></div>':r(n),"\n</div>")}}}]);
//# sourceMappingURL=544.js.map