"use strict";(self.webpackChunk_mbusa_now_aem=self.webpackChunk_mbusa_now_aem||[]).push([[8243],{1945:function(t,e,i){i.d(e,{Z:function(){return c}});var n=i(15671),s=i(43144),a=i(48218),o=i(61156),c=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,n.Z)(this,t),this.element=e,this.offsetOption=i,this.scrollId=this.element.getAttribute("href")||this.element.dataset("scroll-button"),this.scrollElement=this.getScrollElement(),this.onClickHandler=this.onClickHandler.bind(this),this.attachEvents()}return(0,s.Z)(t,[{key:"attachEvents",value:function(){this.element.addEventListener(a.FP.CLICK,this.onClickHandler)}},{key:"detachEvents",value:function(){this.element.removeEventListener(a.FP.CLICK,this.onClickHandler)}},{key:"destroy",value:function(){this.detachEvents()}},{key:"onClickHandler",value:function(t){t.preventDefault(),this.initScroll()}},{key:"getScrollElement",value:function(){try{return document.querySelector(this.scrollId)}catch(t){return console.warn("ScrollToButton: The attribute ".concat(this.scrollId," is not a valid ID selector")),null}}},{key:"getOffset",value:function(){return this.offsetOption&&!isNaN(this.offsetOption)?this.offsetOption:this.offsetOption&&this.offsetOption.tagName?o.MB.getHeight(this.offsetOption):"function"==typeof this.offsetOption?this.offsetOption():0}},{key:"initScroll",value:function(){this.scrollElement&&(this.scrollToPosition(!0).then(this.setFocus.bind(this)),this.updateHistory())}},{key:"scrollToPosition",value:function(t){var e=o.MB.get(this.scrollElement).offset,i=Math.ceil(e.top-this.getOffset()),n=t?a.O3.DELAY_500MS:0;return(0,o.X5)(i,n)}},{key:"setFocus",value:function(){var t=document.querySelector("".concat(this.scrollId," [data-focus-element='true']"))||this.scrollElement;t.setAttribute("tabindex","-1"),t.focus(),this.scrollToPosition()}},{key:"updateHistory",value:function(){window.history.pushState({},document.title,"".concat(this.scrollId))}},{key:"emulateClick",value:function(){this.initScroll()}}]),t}()},10852:function(t,e,i){i.d(e,{Z:function(){return h}});var n=i(15671),s=i(43144),a=i(61156),o=i(48218),c={ID:""},l=new(function(){function t(){(0,n.Z)(this,t),this.waypoints=[],this.offsetOption=null,this.assumedSticky=!1,this.init()}return(0,s.Z)(t,[{key:"init",value:function(){this.cacheDOM(),this.attachEvents()}},{key:"cacheDOM",value:function(){this.offsetElements=document.querySelectorAll("[".concat("data-waypoint-offset","]"))}},{key:"addWaypoint",value:function(t){this.waypoints.push(t)}},{key:"setOffset",value:function(t){this.offsetOption=t}},{key:"assumeSticky",value:function(t){this.assumedSticky=t}},{key:"attachEvents",value:function(){window.addEventListener(o.FP.SCROLL,(0,a.Ds)(this.onScroll.bind(this),10))}},{key:"onScroll",value:function(){var t=this.findTriggeredWaypoint();t&&t.callback&&c.ID!==t.ID?(t.callback(),c=Object.assign({},t)):1===this.waypoints.length&&!t&&c.callback?(c.callback(),delete c.callback,delete c.ID):!t&&c.inactiveCallback&&(c.inactiveCallback(),delete c.callback,delete c.ID)}},{key:"getOffset",value:function(){var t=this,e=0;return[].slice.call(this.offsetElements).forEach((function(i){(t.assumedSticky||(0,a.hx)(i))&&(e=t.offsetOption()||a.MB.getHeight(i))})),e}},{key:"findTriggeredWaypoint",value:function(){var t=this,e=null;return this.waypoints.forEach((function(i){(0,a.io)(i.element,t.getOffset())&&(e=i)})),e}}]),t}()),r=function(){},h=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=i.callback,o=void 0===s?r:s,c=i.inactiveCallback,h=void 0===c?r:c,u=arguments.length>2?arguments[2]:void 0,v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r,d=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,n.Z)(this,t),!e)throw new Error("No element passed to Waypoint");this.element=e,this.callback=o.bind(this,this.element),this.inactiveCallback=h.bind(this,this.element),this.ID=(0,a.fV)(),this.init(),u&&l.cacheDOM(),d&&l.assumeSticky(!0),"function"==typeof v&&l.setOffset(v.bind(this,this.element))}return(0,s.Z)(t,[{key:"init",value:function(){l.addWaypoint(this)}}]),t}()},98243:function(t,e,i){i.r(e),i.d(e,{ScrollToSticky:function(){return s.Z},StickyNav:function(){return a.Z},stickyNavTemplate:function(){return n.Z}});var n=i(99329),s=i(54326),a=i(8193)},99329:function(t,e,i){var n=i(30168),s=i(61156);function a(){var t=(0,n.Z)(['\n    <div class="sticky-nav__container">\n        <div class="wrapper sticky-nav__wrapper">\n            <button class="sticky-nav__nav-toggle" \n                    aria-label="','"\n                    aria-controls="sticky-nav-links-','"\n                    aria-expanded="false">\n                <span class="sticky-nav__nav-toggle-label">','</span>\n            </button>\n            <ul class="sticky-nav__items-list" id="sticky-nav-links-','">\n                ',"                \n            </ul>\n        </div>\n    </div>\n"]);return a=function(){return t},t}e.Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,i=e.SKIP_TO,n=void 0===i?"":i,o=e.MENU,c=void 0===o?"":o,l=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return(0,s.dy)(a(),c,l,n,l,t.map((function(t,e){return'\n                    <li class="sticky-nav__item'.concat(e===r?" sticky-nav__item--active":"").concat("true"===t.excludeSection?" hide-large":"").concat(!0===t.isLastVisibleItem?" sticky-nav__item--last-visible":"",'">\n                        <a class="sticky-nav__item-link"\n                        href="#').concat(t.deepLink,'" data-analytics-trigger="page-nav-').concat(t.deepLink,'"><span class="sticky-nav__item-link-label">').concat(t.navigationLabel,"</span></a>\n                    </li>\n                ")})).join("")).trim()}},54326:function(t,e,i){i.d(e,{Z:function(){return u}});var n=i(4942),s=i(15671),a=i(43144),o=i(48218),c=i(61156);function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}var r={SMALL:61,XLARGE:81},h={offsetElement:null,disableBorder:!1,absoluteAtFooter:!1,absoluteAtFooterTop:!0,isWaypointNav:!1,stickyNavBottom:!1,navContainer:null,watchGlobalNav:!0},u=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;(0,s.Z)(this,t),this.options=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach((function(e){(0,n.Z)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},h,{},i),this.element=e,this.stuck=!1,this.peeking=!1,this.init()}return(0,a.Z)(t,[{key:"init",value:function(){this.setBindings(),this.cacheDOMElements(),this.setTheme(),this.attachEvents()}},{key:"setBindings",value:function(){this.attachViewportObserverEvents=this.attachViewportObserverEvents.bind(this),this.onGlobalNavPeek=this.onGlobalNavPeek.bind(this),this.onViewportObserver=this.onViewportObserver.bind(this),this.getStuckStatus=this.getStuckStatus.bind(this)}},{key:"destroy",value:function(){this.detachEvents()}},{key:"cacheDOMElements",value:function(){this.stickyElement=this.options.navContainer||this.element}},{key:"setTheme",value:function(){this.options.disableBorder&&this.stickyElement.classList.add("borderless"),this.options.isWaypointNav&&(this.stickyElement.style.background="transparent")}},{key:"attachEvents",value:function(){this.options.watchGlobalNav&&c.Jw.addEventListener(o.fD.GLOBAL_NAV_PEEK,this.onGlobalNavPeek),this.attachViewportObserverEvents()}},{key:"detachEvents",value:function(){c.Jw.removeEventListener(o.fD.GLOBAL_NAV_PEEK,this.onGlobalNavPeek),this.detachViewportObserverEvents()}},{key:"attachViewportObserverEvents",value:function(){var t=r[c.sp.gte(c.sp.SIZES.XLARGE)?"XLARGE":"SMALL"];this.vObserver=c.sw.addObserver(this.element,this.onViewportObserver,{threshold:1,rootMargin:this.peeking?"-".concat(t,"px 0px 1000px"):"-1px 0px 2000px"})}},{key:"detachViewportObserverEvents",value:function(){c.sw.removeObserver(this.vObserver)}},{key:"onViewportObserver",value:function(t){var e=t[0].isIntersecting;this.element.classList[e?"remove":"add"]("stuck"),this.stuck=!e,c.Jw.dispatchEvent(c.Jw.createCustomEvent(o.fD.STICKY_NAV,{detail:{isIntersecting:e}}))}},{key:"onGlobalNavPeek",value:function(t){this.peeking=t.detail.peeking,this.detachViewportObserverEvents(),this.element.classList[this.peeking?"add":"remove"]("peeking"),this.peeking?this.attachViewportObserverEvents():setTimeout(this.attachViewportObserverEvents,500)}},{key:"getStuckStatus",value:function(){return this.stuck}},{key:"getOffset",value:function(){return this.options.offsetElement?this.options.offsetElement.getBoundingClientRect().height:0}}]),t}()},8193:function(t,e,i){i.d(e,{Z:function(){return L}});var n=i(15671),s=i(43144),a=i(48218),o=i(61156),c=i(1945),l=i(10852),r=i(54326),h=i(99329),u="sticky-nav__item--active",v="sticky-nav--expanded",d="sticky-nav__item-link",k="sticky-nav__container",y={offset:0,waypointSection:"data-waypoint",waypointDataset:"waypoint",stickyNavState:"data-page-level-sticky-nav-state",maxItemsDesktop:5,stickyElementClass:null,stickyNavTargetElementClass:null,stickyNavTheme:!1,pageTitle:"",watchGlobalNav:!0},f="aria-expanded",p="aria-hidden",b="aria-label",g={SMALL:61,XLARGE:81},m=window.mbNafta.ns("pageData").localization||{MENU:"Menu",SKIP_TO:"Skip to"},S=m.MENU,N=m.SKIP_TO,E=!1,L=function(){function t(e,i){(0,n.Z)(this,t),this.element=e,this.stickyNavItemList=null,this.stickyNavLinks=null,this.stickyNavToggle=null,this.stickyNavContainer=null,this.clickOutsideEventHandler=null,this.options=i?Object.assign({},y,i):y,this.currentScreenState=o.sp.getState(),this.isScreenXLarge=o.sp.gte(o.sp.SIZES.XLARGE),this.numVisibleSections=0,this.firstActiveSectionIndex=0,this.scrollToButtons=null,this.domObserver=null,this.id=(0,o.fV)(),this.tabbables=null,this.currentScrollPosition=0,this.onScroll=(0,o.P2)(this.onScroll.bind(this),10),this.onBreakpointCross=this.onBreakpointCross.bind(this),this.stickyNavOutsideClickHandler=this.stickyNavOutsideClickHandler.bind(this),this.stickyNavToggleHandler=this.stickyNavToggleHandler.bind(this),this.stickyNavTriggerHandlerBound=this.stickyNavTriggerHandler.bind(this),this.waypointCallback=this.waypointCallback.bind(this),this.inactiveWaypointCallback=this.inactiveWaypointCallback.bind(this),this.getStickyNavOffset=this.getStickyNavOffset.bind(this),this.onKeydownHandler=this.onKeydownHandler.bind(this),this.init.bind(this)()}return(0,s.Z)(t,[{key:"init",value:function(){this.cacheDOM(),this.populateTemplate(),this.waypointSections.length>0&&(this.attachEvents(),this.initStickyScroll(),this.initScrollToButtons(),this.initWaypoints(),this.setInitialState(),this.checkforLoadedAnchor())}},{key:"destroy",value:function(){this.waypointSections.length>0&&this.detachEvents()}},{key:"cacheDOM",value:function(){this.waypointSections=document.querySelectorAll("[".concat(this.options.waypointSection,"]")),this.stickyNavTargetElement=this.options.stickyNavTargetElementClass?this.element.querySelector(".".concat(this.options.stickyNavTargetElementClass)):this.element}},{key:"populateTemplate",value:function(){var t=this,e=Array.prototype.slice.call(this.waypointSections),i=-1;e=e.reduce((function(e,n,s,a){var o={};return o.deepLink=n.dataset[t.options.waypointDataset],o.navigationLabel=n.dataset.waypointLabel,o.excludeSection=n.dataset.excludeSection,o.excludeSection&&"false"!==o.excludeSection||(i=s,t.numVisibleSections+=1),t.currentScreenState.small||"true"!==o.excludeSection||t.firstActiveSectionIndex!==s||(t.firstActiveSectionIndex+=1),s===a.length-1&&"true"===o.excludeSection&&-1!==i&&(e[i].isLastVisibleItem=!0),e.push(o),e}),[]),this.stickyNavStateIsDropdown()?this.stickyNavTargetElement.insertAdjacentHTML("beforeEnd",(0,h.Z)(e,{MENU:S,SKIP_TO:N},this.id,this.firstActiveSectionIndex)):this.stickyNavTargetElement.insertAdjacentHTML("beforeEnd",(0,h.Z)(e,{MENU:S,SKIP_TO:N},this.id))}},{key:"attachEvents",value:function(){this.stickyNavItemList=this.element.querySelector(".".concat("sticky-nav__items-list")),this.stickyNavLinks=[].slice.call(this.element.querySelectorAll(".".concat(d))),this.stickyNavToggle=this.element.querySelector(".".concat("sticky-nav__nav-toggle")),this.stickyNavToggleLabel=this.element.querySelector(".".concat("sticky-nav__nav-toggle-label")),this.stickyNavContainer=this.element.querySelector(".".concat(k));var t=this.options.stickyElementClass||k;this.stickyElement=this.element.querySelector(".".concat(t)),this.domObserver=new MutationObserver(this.observeDOMChanges.bind(this)),this.domObserver.observe(document.body,{childList:!0,subtree:!0}),this.clickOutsideEventHandler=new o.Lp(this.stickyNavContainer,this.stickyNavToggleHandler,this.stickyNavOutsideClickHandler),o.Jw.addEventListener(a.fD.STICKY_NAV_TRIGGER,this.stickyNavTriggerHandlerBound),o.sp.addBreakpointListener(this.onBreakpointCross)}},{key:"detachEvents",value:function(){this.domObserver.disconnect(),this.clickOutsideEventHandler.destroy(),o.Jw.removeEventListener(a.fD.STICKY_NAV_TRIGGER,this.stickyNavTriggerHandlerBound),document.body.removeEventListener(a.FP.KEYDOWN,this.onKeydownHandler),o.sp.removeResizeListener(this.onScreenResize),this.detachScrollEvents()}},{key:"attachScrollEvents",value:function(){this.currentScrollPosition=this.getScrollPosition(),window.addEventListener(a.FP.SCROLL,this.onScroll)}},{key:"detachScrollEvents",value:function(){window.removeEventListener(a.FP.SCROLL,this.onScroll)}},{key:"updateScrollHandler",value:function(){E?this.attachScrollEvents():this.detachScrollEvents()}},{key:"initStickyScroll",value:function(){var t={watchGlobalNav:this.options.watchGlobalNav};return this.stickyElement&&(t.navContainer=this.stickyElement),new r.Z(this.element,t)}},{key:"initScrollToButtons",value:function(){var t=this;return this.scrollToButtons=this.stickyNavLinks.map((function(e){return new c.Z(e,t.getStickyNavOffset)})),this.scrollToButtons}},{key:"initWaypoints",value:function(){var t=this;return[].slice.call(this.waypointSections).map((function(e){var i=new l.Z(e,{callback:t.waypointCallback,inactiveCallback:t.inactiveWaypointCallback},!0,t.getStickyNavOffset,!0);return Object.assign(e,{WAYPOINT:i})}))}},{key:"observeDOMChanges",value:function(t){var e=this;[].slice.call(t).filter((function(t){return"BODY"===t.target.tagName&&[].slice.call(t.addedNodes).filter((function(t){return t.className===(e.options.stickyElementClass||k)}))}))&&setTimeout((function(){e.stickyNavStateIsDropdown()&&((e.stickyElement||document.querySelector(".".concat(k))).setAttribute(e.options.stickyNavState,E?"expanded":"collapsed"),e.element.classList[E?"add":"remove"](v))}),5)}},{key:"stickyNavStateIsDropdown",value:function(){return this.currentScreenState.small||this.numVisibleSections>this.getMaxItemCount()}},{key:"setInitialState",value:function(){if(this.stickyNavStateIsDropdown()){var t=this.stickyElement||this.stickyNavContainer;this.tabbables=new o.cs(t),t.setAttribute(this.options.stickyNavState,"collapsed"),this.element.classList.remove(v),this.setToggleButtonValue(),this.disableLinkFocus()}}},{key:"checkforLoadedAnchor",value:function(){var t=window.location.hash;t&&this.emulateHashNavigation(t)}},{key:"emulateHashNavigation",value:function(t){var e=[].slice.call(this.scrollToButtons).filter((function(e){return e.scrollId===t})).pop();e?e.emulateClick():window.location.hash=t}},{key:"getStickyNavOffset",value:function(){var t=this.stickyNavStateIsDropdown()?this.stickyNavToggle:this.element,e=g[o.sp.gte(o.sp.SIZES.XLARGE)?"XLARGE":"SMALL"];return o.MB.getHeight(t)+e-this.options.offset}},{key:"getMaxItemCount",value:function(){return this.isScreenXLarge?this.options.maxItemsDesktop:4}},{key:"onScroll",value:function(){var t=this.getScrollPosition();this.stickyNavStateIsDropdown()&&E&&(t>this.currentScrollPosition+100||t<this.currentScrollPosition-100)&&(E=!1,this.updateScrollHandler(),this.setToggleButtonValue(),this.updateAttributes())}},{key:"getScrollPosition",value:function(){return window.pageYOffset||document.documentElement.scrollTop}},{key:"onBreakpointCross",value:function(){this.currentScreenState=o.sp.getState(),this.isScreenXLarge=o.sp.gte(o.sp.SIZES.XLARGE),this.stickyNavStateIsDropdown()?(this.tabbables=new o.cs(this.stickyNavContainer),(this.stickyElement||this.stickyNavContainer).setAttribute(this.options.stickyNavState,"collapsed"),this.element.classList.remove(v),E&&(this.stickyNavContainer.setAttribute(this.options.stickyNavState,"expanded"),this.element.classList.add(v))):(this.stickyNavContainer.removeAttribute(this.options.stickyNavState),this.element.classList.remove(v),E=!1),this.updateScrollHandler(),this.updateAttributes(),this.triggerWaypointRefresh()}},{key:"disableLinkFocus",value:function(){this.stickyNavLinks.forEach((function(t){t.setAttribute("tabindex","-1")})),document.body.removeEventListener(a.FP.KEYDOWN,this.onKeydownHandler)}},{key:"enableLinkFocus",value:function(){this.stickyNavLinks.forEach((function(t){t.removeAttribute("tabindex")})),document.body.addEventListener(a.FP.KEYDOWN,this.onKeydownHandler)}},{key:"onKeydownHandler",value:function(t){var e=this.tabbables?this.tabbables.allTabbables:[];t.keyCode===a.sd.TAB&&e.indexOf(t.target)>=0&&(t.shiftKey?t.target===e[0]&&(e[e.length-1].focus(),t.preventDefault()):t.target===e[e.length-1]&&(e[0].focus(),t.preventDefault()))}},{key:"updateAttributes",value:function(){this.stickyNavStateIsDropdown()?E?(this.stickyNavToggle.setAttribute(f,"true"),this.stickyNavItemList.setAttribute(p,"false"),this.enableLinkFocus(),this.stickyNavToggle.focus()):(this.stickyNavToggle.setAttribute(f,"false"),this.stickyNavItemList.setAttribute(p,"true"),this.disableLinkFocus(),this.stickyNavItemList.focus()):(this.stickyNavItemList.setAttribute(p,"false"),this.enableLinkFocus())}},{key:"setToggleButtonValue",value:function(){if(!E||this.options.stickyNavTheme&&!o.sp.gte(o.sp.SIZES.LARGE)){var t=this.stickyNavLinks.find((function(t){return t.parentNode.classList.contains(u)}))||this.stickyNavLinks[this.firstActiveSectionIndex];this.stickyNavToggleLabel.innerText=t.textContent,this.stickyNavToggle.setAttribute(b,"".concat(this.options.pageTitle," ").concat(t.textContent," ").concat(S))}else this.stickyNavToggleLabel.innerText=N,this.stickyNavToggle.setAttribute(b,"".concat(N))}},{key:"stickyNavTriggerHandler",value:function(t){this.emulateHashNavigation(t.detail.hash)}},{key:"stickyNavToggleHandler",value:function(t){return this.stickyNavStateIsDropdown()&&(t.preventDefault(),t.target.classList.contains(d)&&!t.target.parentNode.classList.contains(u)&&(this.stickyNavLinks.forEach((function(t){t.parentNode.classList.remove(u)})),t.target.parentNode.classList.add(u)),this.currentScreenState.small||((this.stickyElement||this.stickyNavContainer).setAttribute(this.options.stickyNavState,E?"collapsed":"expanded"),this.element.classList[E?"remove":"add"](v)),E=!E,this.updateScrollHandler(),this.setToggleButtonValue(),this.updateAttributes()),this}},{key:"stickyNavOutsideClickHandler",value:function(){this.stickyNavStateIsDropdown()&&E&&((this.stickyElement||this.stickyNavContainer).setAttribute(this.options.stickyNavState,"collapsed"),this.element.classList.remove(v),E=!1,this.updateScrollHandler(),this.setToggleButtonValue(),this.updateAttributes())}},{key:"triggerWaypointRefresh",value:function(){var t=this,e=[].slice.call(this.waypointSections).filter((function(e){return(0,o.io)(e,t.getStickyNavOffset())})).sort((function(t,e){return t.getBoundingClientRect().top-e.getBoundingClientRect().top})).pop();e&&this.waypointCallback(e)}},{key:"waypointCallback",value:function(t){var e=this;this.stickyNavLinks.map((function(t){return t.parentNode.classList.remove(u),t})).filter((function(i){return decodeURIComponent(i.hash.replace("#",""))===t.dataset[e.options.waypointDataset]})).map((function(t){if(!e.currentScreenState.small&&t.parentNode.classList.contains("hide-large")){for(var i=t.parentNode.parentNode.firstChild,n=null;i!==t.parentNode;i=i.nextSibling)1!==i.nodeType||i.classList.contains("hide-large")||(n=i);var s=0;if(e.stickyNavLinks.map((function(t,e){return t.parentNode===n&&(s=e),t})),s<e.firstActiveSectionIndex)if(e.numVisibleSections>e.getMaxItemCount()){var a=e.firstActiveSectionIndex;e.stickyNavLinks[a].parentNode.classList.add(u)}else t.parentNode.classList.add(u);else n&&n.classList.add(u)}else t.parentNode.classList.add(u);return e.stickyNavStateIsDropdown()&&!E&&(e.stickyNavToggleLabel.innerText=t.textContent),t}))}},{key:"inactiveWaypointCallback",value:function(){this.stickyNavLinks.map((function(t){return t.parentNode.classList.remove(u),t}))}}]),t}()}}]);
//# sourceMappingURL=77e180516a200b177753.bundle.js.map