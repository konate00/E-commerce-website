"use strict";(self.webpackChunk_mbusa_now_aem=self.webpackChunk_mbusa_now_aem||[]).push([[8044],{75253:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(15671),o=n(43144),a=n(4942),r=n(61156),l=function(){function e(t){if((0,i.Z)(this,e),!t)throw this.api={setVar:r.ZT,track:r.ZT},new Error(e.CONSTANTS.SATELLITE_API_ERROR_UNDEFINED);this.api=t}return(0,o.Z)(e,[{key:"logEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(n).forEach((function(e){t.api.setVar(e,n[e])})),this.track(e,n)}},{key:"track",value:function(e,t){this.api.track(e,t)}}]),e}();(0,a.Z)(l,"CONSTANTS",{SATELLITE_API_ERROR_UNDEFINED:"SatelliteApi Error: No analytics api defined."});var s={test:"value",getValues:function(){var e,t,n,i,o,a,r,l,s,c,h,d,u,v,f,g,p,y,D,m,b=window,w=b.mbNafta,S=b.mbDSDataLayer;return{site:{country:null===(e=w.pageData)||void 0===e?void 0:e.country,currencyCode:null===(t=w.pageData)||void 0===t?void 0:t.currency,isProduction:null===(n=S.src)||void 0===n?void 0:n.isProduction,language:null===(i=w.pageData)||void 0===i?void 0:i.language},page:{location:window.location,type:null===(o=S.src)||void 0===o?void 0:o.type,variantInfo:{isVariant:null===(a=w.pageData)||void 0===a?void 0:a.isVariant,isOnDisplay:null===(r=w.pageData)||void 0===r?void 0:r.isOnDisplay,isOnDisplayDis:null===(l=w.pageData)||void 0===l?void 0:l.isOnDisplayDis,isDealer:null===(s=w.pageData)||void 0===s?void 0:s.isDealer,isWheelstand:null===(c=w.pageData)||void 0===c?void 0:c.isWheelstand,isLargeFormat:null===(h=w.pageData)||void 0===h?void 0:h.isLargeFormat,isPopup:null===(d=w.pageData)||void 0===d?void 0:d.isPopup,isDDTVariant:null===(u=w.pageData)||void 0===u?void 0:u.isDDTVariant},vehicle:{"build-your-own":null===(v=w.pageData)||void 0===v||null===(f=v.byo)||void 0===f?void 0:f.config.vehicle,"byo-model-line-selector":null===(g=w.pageData)||void 0===g||null===(p=g.modelLines)||void 0===p?void 0:p.config.vehicle,"model-page":null===(y=w.pageData)||void 0===y?void 0:y.vehicle,"class-page":null===(D=w.pageData)||void 0===D?void 0:D.vehicle,default:null===(m=w.pageData)||void 0===m?void 0:m.vehicle}}}}},c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:null,provider:null};if((0,i.Z)(this,e),this.api={logEvent:r.ZT},(t.type||t)===e.CONSTANTS.SATELLITE){t.provider||console.warn("Pass window._satellite as provider argument.");var n=(window||{})._satellite;try{this.api=new l(t.provider||n)}catch(e){console.error(e)}}else console.info("No analytics type defined")}return(0,o.Z)(e,[{key:"logEvent",value:function(e,t){this.api.logEvent(e,t)}},{key:"logScreenSize",value:function(){this.logEvent("screenSize",{screenSize:r.sp.getCurrentState()}),console.info("screenSize",r.sp.getCurrentState())}},{key:"getMappedValue",value:function(){return s.getValues()}},{key:"get",value:function(e){for(var t=null==e?void 0:e.split("."),n=this.getMappedValue();t.length;){var i;if(!(n=null===(i=n)||void 0===i?void 0:i[t.shift()]))break}return n}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.split("."),i=n.pop(),o=window.mbDSDataLayer;if(!o)return console.warn("'mbDSDataLayer' not found"),!1;for(;n.length;){var a,l=n.shift();if(null!==(a=o)&&void 0!==a&&a[l]||(o[l]={}),o=o[l],!r.Gu.isObject(o))return console.info("Target node '".concat(l,"' is not an object.")),!1}return o[i]=t,o[i]}}]),e}();(0,a.Z)(c,"CONSTANTS",{SATELLITE:"satellite"})},73334:function(e,t,n){n.d(t,{Ss:function(){return x},N8:function(){return q},O2:function(){return X}});var i=n(87757),o=n.n(i),a=n(15861),r=n(15671),l=n(43144),s=n(4942),c=n(70816),h=n(39688),d=n(61156),u=Object.assign({changeDealer:"Change Dealer",changeLocation:"Change Location",closestDealers:"These are the closest dealers based on your search.",continueLabel:"Continue",dealerSelectorFindTitle:"Find Local Inventory",enterYourLocation:"Enter your location to view vehicles at a dealer near you.",findDealer:"Find Dealer",locationSearchErrorMessage:"Invalid ZIP Code or City, State",locationSearchErrorMessageUS:"Invalid ZIP Code",searchInputLabel:"Enter ZIP Code, City, or State",searchInputLabelUS:"Enter ZIP Code",selectDealer:"Select the dealer whose inventory you'd like to see.",theseAreDealersNear:"These are the dealers near {searchTerms}.",viewAtDealer:"View Inventory at {dealerName}."},window.mbNafta.ns("pageData").dealerSelectorLocalization),v={changeDealer:u.changeDealer,changeLocation:u.changeLocation,closestDealers:u.closestDealers,continueLabel:u.continueLabel,dealerSelectorFindTitle:u.dealerSelectorFindTitle,enterYourLocation:u.enterYourLocation,findDealer:u.findDealer,locationSearchErrorMessage:u.locationSearchErrorMessage,locationSearchErrorMessageUS:u.locationSearchErrorMessageUS,searchInputLabel:u.searchInputLabel,searchInputLabelUS:u.searchInputLabelUS,selectDealer:u.selectDealer,theseAreDealersNear:u.theseAreDealersNear,viewAtDealer:u.viewAtDealer},f=Object.assign({moduleHeading:"Find Local Inventory",searchInputLabel:"Enter ZIP Code or City, State",searchInputLabelUS:"Enter ZIP Code ",searchCTA:"Search",hideMapCTA:"Hide Map",showMapCTA:"Show Map",searchErrorMessage:"Invalid ZIP Code or City, State",searchErrorMessageUS:"Invalid ZIP Code",suggestedDealer:"Suggested",next:"Next",previous:"Previous",defaultSubheading:"Enter your location to view vehicles at a dealer near you.",resultsSubheading:"Select the dealer whose inventory you'd like to see.",subtext:"These are the dealers near {searchTerms}.",changeLocationCTA:"Change Location",preferredDealer:"Your Preferred Dealer",noResultsFound:"No Results Found",noResultsToView:"There are no dealerships to view. Try entering a different ZIP code.",resetFilters:"Reset Your Filters",serviceDownFirst:"Weâ€™re sorry, an error has occurred.",serviceDownSecond:"We were unable to process your request. Please try again."},window.mbNafta.ns("pageData","dealerLocatorPlugin").localization),g={moduleHeading:f.moduleHeading,searchInputLabel:f.searchInputLabel,searchInputLabelUS:f.searchInputLabelUS,searchCTA:f.searchCTA,hideMapCTA:f.hideMapCTA,showMapCTA:f.showMapCTA,searchErrorMessage:f.searchErrorMessage,suggestedDealer:f.suggestedDealer,next:f.next,previous:f.previous,defaultSubheading:f.defaultSubheading,resultsSubheading:f.resultsSubheading,subtext:f.subtext,changeLocationCTA:f.changeLocationCTA,preferredDealer:f.preferredDealer,noResultsFound:f.noResultsFound,noResultsToView:f.noResultsToView,resetFilters:f.resetFilters,serviceDownFirst:f.serviceDownFirst,serviceDownSecond:f.serviceDownSecond},p=Object.assign({inlinePreferredDealer:!0,showArrowIndicator:!1,showBrowseState:!1,showChangeLocation:!0,showDealerHours:!1,showDealerResultInfoLabel:!1,showDistance:!1,showFilterBar:!1,showFullAddress:!1,showHeadingChangeCta:!1,showInlinePreferredDealerAlways:!1,showLoadMore:!0,showLocationOnChange:!0,showModuleHeading:!0,showNearbyLocations:!1,showPhoneNumbers:!1,showResultSubheading:!0,showSearchContainer:!0,showSecondaryCTA:!1,showSubheading:!0,usePrimaryCTA:!1},window.mbNafta.ns("pageData","dealerLocatorPlugin","config").featureFlags),y={inlinePreferredDealer:p.inlinePreferredDealer,showArrowIndicator:p.showArrowIndicator,showBrowseState:p.showBrowseState,showChangeLocation:p.showChangeLocation,showDealerHours:p.showDealerHours,showDealerResultInfoLabel:p.showDealerResultInfoLabel,showDistance:p.showDistance,showFilterBar:p.showFilterBar,showFullAddress:p.showFullAddress,showHeadingChangeCta:p.showHeadingChangeCta,showInlinePreferredDealerAlways:p.showInlinePreferredDealerAlways,showLoadMore:p.showLoadMore,showLocationOnChange:p.showLocationOnChange,showModuleHeading:p.showModuleHeading,showNearbyLocations:p.showNearbyLocations,showPhoneNumbers:p.showPhoneNumbers,showResultSubheading:p.showResultSubheading,showSearchContainer:p.showSearchContainer,showSecondaryCTA:p.showSecondaryCTA,showSubheading:p.showSubheading,usePrimaryCTA:p.usePrimaryCTA},D=window.mbNafta.ns("pageData").country,m=window.mbNafta.ns("pageData").language,b=window.mbNafta.ns("pageData").variantInfo,w=n(48218),S=n(30168),I=n(12641);function T(){var e=(0,S.Z)(['\n    <div class="dealer-selector-active-dealer" data-analytics-container="{ dealer-card: \'',"', preferred: ",'}">\n        <h1 class="dealer-selector__title">','</h1>\n        <address class="dealer-selector-active-dealer__address">\n            <div class="dealer-selector-active-dealer__address-street">','</div>\n            <div class="dealer-selector-active-dealer__address-main">',", ",", ","</div>\n            <div>\n            ",'\n            </div>\n        </address>\n        <button class="dealer-selector-active-dealer__button button button_primary button--wide ','"\n                data-analytics-trigger="cta-inventory"\n                data-continue-cta>\n            ','\n        </button>\n        <div class="dealer-selector-active-dealer__cta">\n            <button class="','"\n                    data-analytics-trigger="','"\n                    data-change-location-cta>\n                    ',"\n            </button>\n        </div>\n    </div>\n"]);return T=function(){return e},e}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E={changeBtnAnalyticsTrigger:"cta",changeBtnCssClass:"link link_secondary",changeBtnLabel:null,hideContinueBtn:!1,isDealerNameOnly:!1,phoneAnalyticsTrigger:""},O=function(){function e(t){var n=t.dealer,i=void 0===n?{}:n,o=t.isPreferred,a=void 0!==o&&o,l=t.content,s=void 0===l?{}:l,c=t.country,h=t.onDealerContinue,u=t.onLocationChange,v=t.templateConfig,f=void 0===v?{}:v;(0,r.Z)(this,e),this.dealer=i,this.content=s,this.onDealerContinue=h,this.onLocationChange=u,this.onChange=this.onChange.bind(this),this.onContinue=this.onContinue.bind(this),this.element=function(e){var t,n,i=e.dealer,o=void 0===i?{}:i,a=e.isPreferred,r=void 0!==a&&a,l=e.content,s=void 0===l?{}:l,c=e.country,h=e.activeDealerConfig;return(0,d.e2)(T(),o.name,r,h.isDealerNameOnly?o.name:(t=s.viewAtDealer,n=o.name,(0,d.S9)(t,/\{dealerName\}/gi,[n])),o.address,o.city,o.state,o.zip,c===I.Z.COUNTRIES.US?'<a class="dealer-selector-active-dealer__phone-number"\n            data-analytics-trigger="'.concat(h.phoneAnalyticsTrigger,'"\n            href="tel:').concat(o.phone,'">\n                ').concat(o.phoneFormatted,"\n            </a>"):"",h.hideContinueBtn?"hide":"",s.continueLabel,h.changeBtnCssClass,h.changeBtnAnalyticsTrigger,(null==h?void 0:h.changeBtnLabel)||s.changeLocation)}({dealer:i,isPreferred:a,content:s,country:c,activeDealerConfig:C({},E,{},f)})({getNode:!0}),this.init()}return(0,l.Z)(e,[{key:"init",value:function(){this.cacheDOM(),this.attachEvents()}},{key:"cacheDOM",value:function(){this.continueCta=this.element.querySelector("[".concat("data-continue-cta","]")),this.changeLocationCta=this.element.querySelector("[".concat("data-change-location-cta","]"))}},{key:"attachEvents",value:function(){this.continueCta&&this.continueCta.addEventListener(w.FP.CLICK,this.onContinue),this.changeLocationCta.addEventListener(w.FP.CLICK,this.onChange)}},{key:"detachEvents",value:function(){this.continueCta&&this.continueCta.removeEventListener(w.FP.CLICK,this.onContinue),this.changeLocationCta.removeEventListener(w.FP.CLICK,this.onChange)}},{key:"onContinue",value:function(){this.onDealerContinue(this.dealer)}},{key:"onChange",value:function(){this.onLocationChange(this.dealer)}},{key:"destroy",value:function(){this.detachEvents(),this.element.remove()}},{key:"render",value:function(){return this.element}}]),e}(),P=n(87491),k=n(83224),N=n(85032),A=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.onDealerSelect,o=void 0===i?d.ZT:i,a=n.onDealerHover,l=void 0===a?d.ZT:a;(0,r.Z)(this,e),this.dealers=t,this.onDealerSelect=o,this.onDealerHover=l,this.resultsList=[],this.element=d.jG.fromTemplate('<div class="dealer-selector-list__results-list-container"></div>'),this.hoverDealer=this.hoverDealer.bind(this),this.selectDealer=this.selectDealer.bind(this),this.createDealerList()}var t;return(0,l.Z)(e,[{key:"createDealerList",value:(t=(0,a.Z)(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.s.getInstance();case 2:this.dealerLocationPrioritization=e.sent,this.dealers&&this.dealers.length>0&&this.dealers.forEach((function(e){var n=new N.QD({dealer:e,isPreferred:t.isPreferredDealer(e),onSelectDealer:t.selectDealer,onHoverDealer:t.hoverDealer});t.resultsList.push(n),t.element.appendChild(n.render())}));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"isPreferredDealer",value:function(e){var t,n=null===(t=this.dealerLocationPrioritization.get("DEFAULT"))||void 0===t?void 0:t.data;return(null==n?void 0:n.dealerId)===e.dealerId&&(null==n?void 0:n.zip)===e.zip}},{key:"selectDealer",value:function(e){this.onDealerSelect(e)}},{key:"hoverDealer",value:function(e){this.onDealerHover(e)}},{key:"destroy",value:function(){this.resultsList.forEach((function(e){return e.destroy()})),this.element.remove()}},{key:"render",value:function(){return this.element}}]),e}(),_=n(80662),F=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.ZT;(0,r.Z)(this,e),this.dealers=i,this.config=t,this.element=n,this.onDealerSelect=o,this.map=null,this.init()}var t;return(0,l.Z)(e,[{key:"init",value:(t=(0,a.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.s.getInstance();case 2:this.dealerLocationPrioritization=e.sent,this.createMap();case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"createMap",value:function(){this.map=new _.b6({element:this.element,onMapCreatedCallback:this.addDataToMap.bind(this),markerClickCallback:this.selectDealer.bind(this)})}},{key:"addDataToMap",value:function(){var e=this;this.dealers&&(this.dealers=this.dealers.map((function(t){return t.icon=e.isPreferredDealer(t)?_.UZ.preferredDealer:_.UZ.dealers,t})),this.map.addMarkers(this.dealers,!1))}},{key:"isPreferredDealer",value:function(e){var t,n=null===(t=this.dealerLocationPrioritization.get("DEFAULT"))||void 0===t?void 0:t.data;return(null==n?void 0:n.dealerId)===e.dealerId&&(null==n?void 0:n.zip)===e.zip}},{key:"selectDealer",value:function(e){this.onDealerSelect(e)}},{key:"hoverDealer",value:function(e){this.map.markerMouseOverHandlerById(e.id)}},{key:"destroy",value:function(){this.map&&this.map.destroyMap(),this.map=null}}]),e}();function Z(){var e=(0,S.Z)(['\n    <div class="dealer-selector-dealer-search">\n        <h1 class="dealer-selector__title">','</h1>\n        <p class="dealer-selector__desc">',"</p>\n        <div data-dealer-search-content></div>\n    </div>\n"]);return Z=function(){return e},e}function M(){var e=(0,S.Z)(['\n    <div class="dealer-selector-dealer-search__content">\n        <div class="dealer-selector-dealer-search__list-container">\n            <div class="dealer-selector-list">\n                <div class="dealer-selector-list__header">\n                    <p class="dealer-selector-list__header-label" data-dealer-results-desc></p>\n                    <div class="dealer-selector-list__cta">\n                        <button class="link link_plain-link" data-analytics-trigger="cta" data-change-location-cta>','</button>\n                    </div>\n                </div>\n                <div class="dealer-selector-list__results-list" data-analytics-container="dealer-list" data-results-list></div>\n            </div>\n        </div>\n        <div class="dealer-selector-dealer-search__map" data-dealer-list-map></div>\n    </div>\n']);return M=function(){return e},e}function j(){var e=(0,S.Z)(["\n    ","\n"]);return j=function(){return e},e}var R=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=o.onLocationChange,l=void 0===a?d.ZT:a,s=o.onDealerSelect,c=void 0===s?d.ZT:s;(0,r.Z)(this,e),this.config=t,this.location=n,this.onLocationChange=l,this.onDealerSelect=c,this.content=i,this.element=function(e){var t=e.content,n=void 0===t?{}:t;return(0,d.e2)(Z(),n.dealerSelectorFindTitle,n.selectDealer)}({content:this.content})({getNode:!0}),this.dealerSearchContentElm=this.element.querySelector("[".concat("data-dealer-search-content","]")),this.init()}return(0,l.Z)(e,[{key:"init",value:function(){var e=this;this.setLoadingSpinner(),this.getDealers().then((function(t){d.jG.insert(function(e){var t=e.content,n=void 0===t?{}:t;return(0,d.e2)(M(),n.changeLocation)}({content:e.content})({getNode:!0}),e.dealerSearchContentElm),e.cacheDOM(),e.attachEvents(),e.renderResultsDescription(t),e.renderDealerList(t),e.renderDealerMap(t)}))}},{key:"cacheDOM",value:function(){this.changeLocationCta=this.element.querySelector("[".concat("data-change-location-cta","]")),this.resultsListElement=this.element.querySelector("[".concat("data-results-list","]")),this.mapElement=this.element.querySelector("[".concat("data-dealer-list-map","]")),this.resultsDescriptionElm=this.element.querySelector("[".concat("data-dealer-results-desc","]"))}},{key:"attachEvents",value:function(){this.changeLocationCta.addEventListener(w.FP.CLICK,this.onLocationChange)}},{key:"detachEvents",value:function(){this.changeLocationCta.removeEventListener(w.FP.CLICK,this.onLocationChange)}},{key:"setLoadingSpinner",value:function(){var e=new k.T;d.jG.insert(e.render(),this.dealerSearchContentElm)}},{key:"getDealers",value:function(){var e={radius:"all",searchType:P.a.TYPES.dealers,country:this.config.country,language:this.config.language,limit:"step",searchByType:this.location.searchByType,searchLocation:this.location.searchLocation,filterBy:this.config.filterBy,isNew:this.config.isNewInventory};return P.a.getDealers(e)}},{key:"hoverDealer",value:function(e){this.map.hoverDealer(e)}},{key:"renderResultsDescription",value:function(e){if(e&&e.length>0){var t=parseFloat(e[0].distance.split(" "))<=25,n={dealerResultHeading:this.content.theseAreDealersNear,closestDealersHeading:this.content.closestDealers,searchString:this.location.searchString,hasNearbyDistance:t};d.jG.insert((o=(i=n).dealerResultHeading,a=i.closestDealersHeading,r=i.searchString,l=i.hasNearbyDistance,(0,d.e2)(j(),l?function(e,t){return(0,d.NR)(e,{searchTerms:t})}(o,r):a))({getNode:!0}),this.resultsDescriptionElm)}var i,o,a,r,l}},{key:"renderDealerList",value:function(e){this.dealerSelectorDealerList=new A(e,{onDealerSelect:this.onDealerSelect.bind(this),onDealerHover:this.hoverDealer.bind(this)}),this.resultsListElement.appendChild(this.dealerSelectorDealerList.render())}},{key:"renderDealerMap",value:function(e){this.map=new F(this.config,this.mapElement,e,this.onDealerSelect.bind(this))}},{key:"destroy",value:function(){this.detachEvents(),this.dealerSelectorDealerList.destroy(),this.element.remove()}},{key:"render",value:function(){return this.element}}]),e}();function U(){var e=(0,S.Z)(['\n    <div data-dealer-selector class="dealer-selector dealer-locator-container dealer-locator_in-page" data-analytics-container="{\'blade\': \'dealer-selector\'}" >\n        <div class="content-loader">\n            <div class="content-loader__spinner">\n                <div class="loading-spinner loading-spinner--large"></div>\n            </div>\n        </div>\n    </div>\n']);return U=function(){return e},e}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,s.Z)(R,"FILTER_TYPES",P.a.FILTER_TYPES);var H={content:null,dealer:null,displaySelectedDealer:!0,enableSelectedDealer:!0,filterBy:"",isNewInventory:!0,location:null,onDealerContinue:d.ZT,onDealerSelect:d.ZT,showSmallViewOnly:!1,mapModalToggleDisabled:!1},x=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,e),this.config=B({},H,{},t),this.element=(0,d.e2)(U())({getNode:!0}),this.locationSearchView=null,this.defaultLocation=null,this.onLocationSelect=this.onLocationSelect.bind(this),this.onLocationChange=this.onLocationChange.bind(this),this.onDealerContinue=this.onDealerContinue.bind(this),this.onDealerSelect=this.onDealerSelect.bind(this),this.init()}var t;return(0,l.Z)(e,[{key:"init",value:(t=(0,a.Z)(o().mark((function e(){var t,n,i,a,r,l,s,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.s.getInstance();case 2:this.dealerLocationPrioritization=e.sent,n=null===(t=this.dealerLocationPrioritization.get("DEFAULT"))||void 0===t?void 0:t.data,i=this.config,a=i.dealer,r=i.enableSelectedDealer,l=i.location,(s=a||n)&&!l?this.setDefaultLocation("zip",s.zip):l&&(h=l.shouldRenderDealerList||!1,this.setDefaultLocation(l.type,l.value,h)),a&&r?this.renderActiveDealer(a,!1):n&&r&&!l?this.renderActiveDealer(n,!0):this.renderSearch();case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"setDefaultLocation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.defaultLocation={searchLocation:t,searchByType:e,searchString:t,shouldRenderDealerList:n}}},{key:"onDealerContinue",value:function(e){this.config.onDealerContinue(e)}},{key:"onDealerSelect",value:function(e,t){this.destroySearch(),this.config.onDealerSelect(e,t),this.config.displaySelectedDealer&&this.renderActiveDealer(e)}},{key:"onLocationSelect",value:function(e){this.destroySearch(),this.destroyActiveDealer(),this.defaultLocation=e,this.renderResults(e)}},{key:"onLocationChange",value:function(){var e,t;this.destroyResults(),this.destroyActiveDealer(),null!==(e=this.config)&&void 0!==e&&null!==(t=e.dlFlags)&&void 0!==t&&t.showLocationOnChange||(this.defaultLocation=null),this.renderSearch()}},{key:"renderSearch",value:function(){var e,t,n,i,o,a,r,l,s,c,d,u,v={country:D,language:m,isURLParamUsed:!1,isFullPageLayout:!1,filterBy:this.config.filterBy,filter:"mbDealer",showSmallViewOnly:this.config.showSmallViewOnly,mapModalToggleDisabled:this.config.mapModalToggleDisabled},f=this.config.isNewInventory?"NEW_INVENTORY":"";this.dealerLocatorPlugin=new h.Z(this.element,B({},v,{featureFlags:B({},y,{},this.config.dlFlags),onDealerSelect:this.onDealerSelect,theme:h.Z.THEME.MEDIUM_SIZE,defaultLocation:this.defaultLocation,variantInfo:b}),B({},g,{dealerResultInfoLabel:(null===(e=this.config)||void 0===e||null===(t=e.content)||void 0===t?void 0:t.dealerResultInfoLabel)||g.dealerResultInfoLabel,defaultSubheading:(null===(n=this.config)||void 0===n||null===(i=n.content)||void 0===i?void 0:i.defaultSubheading)||g.defaultSubheading,moduleHeading:(null===(o=this.config)||void 0===o||null===(a=o.content)||void 0===a?void 0:a.moduleHeading)||g.moduleHeading,resultsSubheading:(null===(r=this.config)||void 0===r||null===(l=r.content)||void 0===l?void 0:l.resultsSubheading)||g.resultsSubheading,searchCTA:(null===(s=this.config)||void 0===s||null===(c=s.content)||void 0===c?void 0:c.searchCTA)||g.searchCTA,subtext:(null===(d=this.config)||void 0===d||null===(u=d.content)||void 0===u?void 0:u.subtext)||g.subtext}),f)}},{key:"destroySearch",value:function(){this.dealerLocatorPlugin&&(this.dealerLocatorPlugin.destroy(),this.dealerLocatorPlugin=null)}},{key:"renderActiveDealer",value:function(e,t){this.activeDealerView=new O({dealer:e,isPreferred:t,content:v,country:window.mbNafta.pageData.country,onDealerContinue:this.onDealerContinue,onLocationChange:this.onLocationChange,templateConfig:this.config.activeDealerTemplateConfig}),d.jG.insert(this.activeDealerView.render(),this.element)}},{key:"destroyActiveDealer",value:function(){this.activeDealerView&&(this.activeDealerView.destroy(),this.activeDealerView=null)}},{key:"renderResults",value:function(e){this.dealerSelectorDealerSearchView=new R({country:D,language:m,filterBy:this.config.filterBy,isNewInventory:this.config.isNewInventory},e,v,{onLocationChange:this.onLocationChange,onDealerSelect:this.onDealerSelect}),d.jG.insert(this.dealerSelectorDealerSearchView.render(),this.element)}},{key:"destroyResults",value:function(){this.dealerSelectorDealerSearchView&&(this.dealerSelectorDealerSearchView.destroy(),this.dealerSelectorDealerSearchView=null)}},{key:"destroy",value:function(){this.destroySearch(),this.destroyResults(),this.destroyActiveDealer()}},{key:"render",value:function(){return this.element}}]),e}();(0,s.Z)(x,"FILTER_TYPES",B({},R.FILTER_TYPES));var z=n(16266);function Y(){var e=(0,S.Z)(['\n    <div class="dealer-selector-location-search">\n        <h1 class="dealer-selector__title">','</h1>\n        <p class="dealer-selector__desc">','</p>\n        <div class="dealer-selector-location-search__bar" data-dealer-search-bar></div>\n    </div>']);return Y=function(){return e},e}var q=function(){function e(t){var n=t.content,i=void 0===n?{}:n,o=t.config,a=void 0===o?{}:o,l=t.onLocationSelect;(0,r.Z)(this,e),this.content=i,this.config=a,this.onLocationSelect=l,this.element=function(e){return(0,d.e2)(Y(),e.dealerSelectorFindTitle,e.enterYourLocation)}(this.content)({getNode:!0}),this.cacheDOM(),this.renderLocationSearchBar()}return(0,l.Z)(e,[{key:"cacheDOM",value:function(){this.dealerSearchBarElm=this.element.querySelector("[".concat("data-dealer-search-bar","]"))}},{key:"renderLocationSearchBar",value:function(){this.searchBar=new z.D({autoSubmitLocation:!1,buttonStyle:"button button_primary button--wide dealer-selector-location-search__button",country:this.config.country,ctaLabel:this.content.findDealer,dealerSearchErrorMessage:this.content.locationSearchErrorMessage,defaultLocation:this.config.defaultLocation,onSubmit:this.onSubmit.bind(this),searchInputLabel:this.content.searchInputLabel,searchInputLabelUS:this.content.searchInputLabelUS}),d.jG.insert(this.searchBar.render(),this.dealerSearchBarElm)}},{key:"onSubmit",value:function(e){this.onLocationSelect(e)}},{key:"destroy",value:function(){this.searchBar.destroy(),this.element.remove()}},{key:"render",value:function(){return this.element}}]),e}(),K=n(14569);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q={content:null,dealer:null,displaySelectedDealer:!0,callingElementCta:null,enableSelectedDealer:!0,filterBy:"",isNewInventory:!0,onClose:d.ZT,onDealerContinue:d.ZT,onDealerSelect:d.ZT},X=function(){function e(t){(0,r.Z)(this,e),this.config=G({},Q,{},t),this.dealerSelector=null,this.createDealerSelector(),this.createModal()}return(0,l.Z)(e,[{key:"createDealerSelector",value:function(){this.dealerSelectorElm=d.jG.fromTemplate('<div class="dealer-selector-modal"></div>'),this.dealerSelector=new x({content:this.config.content,dealer:this.config.dealer,displaySelectedDealer:this.config.displaySelectedDealer,enableSelectedDealer:this.config.enableSelectedDealer,filterBy:this.config.filterBy,isNewInventory:this.config.isNewInventory,onDealerContinue:this.config.onDealerContinue,onDealerSelect:this.config.onDealerSelect,location:this.config.location,mapModalToggleDisabled:!0}),this.dealerSelectorElm.appendChild(this.dealerSelector.render())}},{key:"createModal",value:function(){this.modal=new K.Modal(void 0,{modalContent:this.dealerSelectorElm,callbacks:{beforeClose:this.config.onClose.bind(this)},sizeSmall:K.Modal.SIZES.FULLSCREEN,sizeLarge:K.Modal.SIZES.DEFAULT,theme:K.Modal.THEMES.DISABLE_OVERFLOW})}},{key:"destroy",value:function(){this.modal.destroy(),this.dealerSelector.destroy(),this.modal=null,this.dealerSelector=null}},{key:"open",value:function(){this.modal.open({callingContainer:this.config.callingElementCta})}},{key:"close",value:function(){this.modal.close()}}]),e}();(0,s.Z)(X,"FILTER_TYPES",G({},x.FILTER_TYPES))},85032:function(e,t,n){n.d(t,{XL:function(){return a.Z},QD:function(){return v}});var i=n(48218),o=(n(92059),(window.mbNafta.ns("pageData").localization||{certifiedLabel:"Elite Aluminum Structural Certification"}).certifiedLabel,n(61156));window.mbNafta.ns("pageData","dealerLocator").config,n(87757),n(87491),n(70816),n(22209),o.ZT,o.ZT,o.ZT,n(31673);var a=n(20716);(0,o.fV)(),window.mbNafta.ns("pageData","dealerLocator").config;var r=n(4942),l=n(15671),s=n(43144),c=n(30168);function h(){var e=(0,c.Z)(['\n    <div class="dealer-info dealer-info--slim" data-is-preferred="','" data-analytics-trigger="cta"\n    data-analytics-container="{ \'dealer-card\': \'',"', 'preferred': ",'}">\n        <address class="dealer-info__address-container-dealer" tabindex="0">\n            <div class="dealer-info__dealer-name">','</div>\n            <div class="dealer-info__address dealer-info__address--main">',", ",", ","</div>\n            ","\n        </address>\n    </div>\n"]);return h=function(){return e},e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var u={dealer:null,isPreferred:!1,onSelectDealer:o.ZT,onHoverDealer:o.ZT},v=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.Z)(this,e),this.config=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},u,{},t),this.element=null,this.onSelectDealer=this.onSelectDealer.bind(this),this.onHoverDealer=this.onHoverDealer.bind(this),this.renderDealerTemplate()}return(0,s.Z)(e,[{key:"renderDealerTemplate",value:function(){var e,t;this.element=(e=this.config.dealer,t=this.config.isPreferred,(0,o.e2)(h(),t,e.name,t,e.name,e.city,e.state,e.zip,function(e){var t="";return e.isAmg&&(t+='<i class="dealer-info__icon icon-AMG_logo-performance-center"></i>'),e.isAmgElite&&(t+='<i class="dealer-info__icon icon-AMG_logo-performance-center-elite"></i>'),t}(e)))({getNode:!0}),this.attachEvents()}},{key:"attachEvents",value:function(){this.element.addEventListener(i.FP.MOUSEENTER,this.onHoverDealer),this.element.addEventListener(i.FP.KEYUP,this.onHoverDealer),this.element.addEventListener(i.FP.CLICK,this.onSelectDealer),this.element.addEventListener(i.FP.KEYDOWN,this.onSelectDealer)}},{key:"detachEvents",value:function(){this.element.removeEventListener(i.FP.MOUSEENTER,this.onHoverDealer),this.element.removeEventListener(i.FP.KEYUP,this.onHoverDealer),this.element.removeEventListener(i.FP.CLICK,this.onSelectDealer),this.element.removeEventListener(i.FP.KEYDOWN,this.onSelectDealer)}},{key:"onSelectDealer",value:function(e){var t=e.keyCode;e.type!==i.FP.CLICK&&13!==t||this.config.onSelectDealer(this.config.dealer)}},{key:"onHoverDealer",value:function(e){var t=e.keyCode;e.type!==i.FP.MOUSEENTER&&9!==t||this.config.onHoverDealer(this.config.dealer)}},{key:"destroy",value:function(){this.detachEvents(),this.element.remove()}},{key:"render",value:function(){return this.element}}]),e}()},60173:function(e,t,n){n.d(t,{r:function(){return b}});var i=n(4942),o=n(15671),a=n(43144),r=n(82963),l=n(61120),s=n(97326),c=n(60136),h=n(67294),d=n(45697),u=n.n(d),v=n(52597),f=n(29554),g=n(61156),p=n(48218),y=n(81252);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var m=function(e){function t(e){var n;return(0,o.Z)(this,t),(n=(0,r.Z)(this,(0,l.Z)(t).call(this,e))).authApi=new v.$S,n.quickRegModal=null,n.toolTip=null,n.flyoutCTAElm=null,n.state={showFlyout:!1,targetElm:null,toolTipsDisabled:!1,hasToolTipUpdated:!1,saveBtnDisabled:!1,hasInventoryFavorites:null},n.onFavoriteClick=n.onFavoriteClick.bind((0,s.Z)(n)),n.openToolTip=n.openToolTip.bind((0,s.Z)(n)),n.onToolTipClose=n.onToolTipClose.bind((0,s.Z)(n)),n.onToolTipKeyDown=n.onToolTipKeyDown.bind((0,s.Z)(n)),n.registrationComplete=n.registrationComplete.bind((0,s.Z)(n)),n}return(0,c.Z)(t,e),(0,a.Z)(t,[{key:"componentDidMount",value:function(){this.props.hasFlyout&&this.setState({showFlyout:!0,targetElm:this.buttonElm})}},{key:"componentDidUpdate",value:function(){if(this.state.showFlyout&&!this.state.hasToolTipUpdated){var e="".concat(this.props.vehicle.vin,"-toggle-favorites"),t=document.getElementById(e);this.flyoutCTAElm=t.querySelector(".".concat("toggle-favorites__flyout-cta")),this.setState({hasToolTipUpdated:!0})}}},{key:"componentWillUnmount",value:function(){this.quickRegModal&&this.quickRegModal.destroy()}},{key:"onToolTipKeyDown",value:function(e){e.keyCode!==p.sd.TAB&&e.keyCode!==p.sd.ESC||this.toolTip.close()}},{key:"onFavoriteClick",value:function(){var e=this.props,t=e.content,n=e.inventoryFavoritesList,o=e.onFavorite,a=e.onUnfavorite,r=e.vehicle,l=n&&n.some((function(e){return e===r.vin})),s=new Date,c=(0,g.NR)(t.favoriteVehicleHeader,[r.year,r.modelName]);this.setState({hasInventoryFavorites:l}),!this.authApi.isLoggedIn()||this.authApi.isPartiallyLoggedIn()?(g.tO.localStorage.create(p.I.VEHICLE_FAVORITE,{vin:r.vin,dealerId:r.dealerId},new Date(s.setDate(s.getDate()+60))),this.quickRegModal&&this.quickRegModal.destroy(),this.quickRegModal=new f.Go({callingContainer:this.state.targetElm,onRegistrationCallback:this.registrationComplete},null,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.quickRegistration,{confirmationHeader:c}),this.authApi.isPartiallyLoggedIn()),this.toolTip&&this.toolTip.disable(!0),this.setState({toolTipsDisabled:!0}),this.quickRegModal.open()):!l||this.state.toolTipsDisabled||this.state.saveBtnDisabled?this.state.toolTipsDisabled||this.state.saveBtnDisabled||(this.setState({saveBtnDisabled:!0}),o(r,this.openToolTip)):(this.setState({saveBtnDisabled:!0}),a(r,this.openToolTip))}},{key:"openToolTip",value:function(){var e,t,n=this.props.content,i=n.savedToYourAccount,o=n.removedFromYourAccount,a=this.state.hasInventoryFavorites,r=a?o:i;this.setState({confirmationMsg:r,saveBtnDisabled:!1}),null===(e=this.toolTip)||void 0===e||e.open(),this.toolTip&&null!==(t=this.toolTip.toolTip)&&void 0!==t&&t.isActive&&(this.toolTip.getToolTipInstance().lastElementChild.classList[a?"remove":"add"]("tool-tip__flyout--favorites-remove"),this.flyoutCTAElm.focus(),this.flyoutCTAElm.addEventListener(p.FP.KEYDOWN,this.onToolTipKeyDown))}},{key:"onToolTipClose",value:function(){this.flyoutCTAElm.removeEventListener(p.FP.KEYDOWN,this.onToolTipKeyDown)}},{key:"registrationComplete",value:function(){var e=this.props,t=e.onFavorite,n=e.vehicle;this.authApi.isPartiallyLoggedIn()&&(this.toolTip&&this.toolTip.disable(!1),this.setState({toolTipsDisabled:!1}),t(n,this.openToolTip(!0)))}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,i=t.endpoints.savedVehiclesUri,o=t.flyoutLink,a=t.flyoutModifier,r=t.inventoryFavoritesList,l=t.tooltipPosition,s=t.vehicle,c=t.vehicleInfoTitleId,d=this.state,u=d.targetElm,v=d.confirmationMsg,f=d.showFlyout,g=r&&r.some((function(e){return e===s.vin}));return h.createElement("div",{className:"toggle-favorites__container"},h.createElement("button",{className:"toggle-favorites ".concat(g?"toggle-favorites--active":"toggle-favorites--inactive"),"aria-label":"".concat(g?n.removeFromMySavedVehicles:n.saveThisVehicleToMyAccount),"aria-describedby":c||"vehicle-".concat(s.vin),onClick:this.onFavoriteClick,"data-analytics-trigger":"cta-favorites-save",ref:function(t){e.buttonElm=t}},g?n.saved:n.save),f&&h.createElement(y.I,{position:l,customTargetElm:u,flyoutModifier:a,onClose:this.onToolTipClose,ref:function(t){e.toolTip=t}},h.createElement("div",{id:"".concat(s.vin,"-toggle-favorites"),className:"toggle-favorites__flyout"},o?h.createElement("a",{href:i,className:"toggle-favorites__flyout-cta","data-analytics-trigger":"cta-favorites-view-saved-vehicles"},h.createElement("p",null,v),n.viewSavedVehicles):h.createElement("div",{className:"toggle-favorites__flyout-cta",tabIndex:-1},h.createElement("p",null,v)))))}}]),t}(h.Component);m.propTypes={content:u().object.isRequired,endpoints:u().object,flyoutLink:u().bool,flyoutModifier:u().string,hasFlyout:u().bool,inventoryFavoritesList:u().array,onFavorite:u().func,onUnfavorite:u().func,tooltipPosition:u().string,vehicle:u().object.isRequired,vehicleInfoTitleId:u().string},m.defaultProps={flyoutLink:!0,flyoutModifier:"favorites",onFavorite:g.ZT,onUnfavorite:g.ZT,tooltipPosition:y.I.POSITION.CENTER};var b=m},54127:function(e,t,n){n.d(t,{a:function(){return y}});var i=n(87757),o=n.n(i),a=n(15861),r=n(4942),l=n(15671),s=n(43144),c=n(87491),h=n(70816),d=n(61156);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=window.mbNafta.ns("applicationProperties").inventoryConfig||{cpoInventoryUrl:null,cpoReserveUrl:null,cpoVdpUrl:null,inventoryUrl:null,isInventoryEnabled:!0,isDDTVariant:!1,vdpUrl:null},g=window.mbNafta.ns("pageData").language,p=window.mbNafta.ns("pageData").country,y=function(){function e(t){(0,l.Z)(this,e),this.config=v({},f,{},t),this.dealerSelectorModal=null,this.isNewInventory=!0,this.vehicleInfo=null,this.goToInventoryApp=this.goToInventoryApp.bind(this),this.init()}var t,n,i;return(0,s.Z)(e,[{key:"init",value:(i=(0,a.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.s.getInstance();case 2:this.dealerLocationPrioritization=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getInventoryUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=this.config,r=a.cpoInventoryUrl,l=a.inventoryUrl,s=n&&n.name?d.Uw.hyphenate(d.Uw.toAlphaNumeric(n.name)):null,c=v({},t);i&&i.class&&(c.class="".concat(null==i?void 0:i.class,":").concat(i.bodyStyle)),i&&i.model&&(c.model=i.model),o&&o.type?c[o.type]=o.value:n&&n.zip&&(c.zip=n.zip);var h=s?"".concat(l.split(".")[0],"/").concat(s,"/").concat(n.dealerId):l,u=void 0!==e?e:this.isNewInventory,f="".concat(r).concat((0,d.HD)(c));return u?"".concat(h).concat((0,d.HD)(c)):f}},{key:"getVDPUrl",value:function(){var e=this.config,t=e.cpoVdpUrl,n=e.vdpUrl;return this.isNewInventory?n:t}},{key:"getNewInventoryUrl",value:(n=(0,a.Z)(o().mark((function e(){var t,n,i,a,r=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(t=r.length>0&&void 0!==r[0]?r[0]:{}).vehicleInfo,i=t.dealer,this.vehicleInfo=n,this.isNewInventory=!0,e.t0=this.dealerLocationPrioritization,e.t0){e.next=10;break}return e.next=9,h.s.getInstance();case 9:e.t0=e.sent;case 10:return this.dealerLocationPrioritization=e.t0,a=this.dealerLocationPrioritization.get("NEW_INVENTORY"),i||"dealer"!==(null==a?void 0:a.type)||(i=a.data),e.abrupt("return",this.getUrlInventoryApp(i));case 14:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"goTo",value:(t=(0,a.Z)(o().mark((function e(t){var n,i,a,r,l,s,u,v,f,y,D=this,m=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(n=m.length>1&&void 0!==m[1]?m[1]:{}).includeReserveOnly,a=n.searchLocation,r=n.useSearchLocation,l=n.vehicleInfo,s=n.dealer,this.vehicleInfo=l,this.isNewInventory=t,u=d.pR.getCookie("_dealerID"),v=""!==u?u:n.dealerId,e.t0=this.dealerLocationPrioritization,e.t0){e.next=12;break}return e.next=11,h.s.getInstance();case 11:e.t0=e.sent;case 12:this.dealerLocationPrioritization=e.t0,f=this.dealerLocationPrioritization.get("NEW_INVENTORY"),this.config.isDDTVariant?(y=this.dealerLocationPrioritization.get("DEFAULT"),s=y.data):t&&!s&&"dealer"===(null==f?void 0:f.type)&&(s=f.data),t?this.config.isDDTVariant&&this.config.isInventoryEnabled&&""!==v||t&&v&&""!==v?c.a.getDealer({country:p,id:v,language:g,type:"dealers"}).then((function(e){return D.goToInventoryApp(e)})):r&&a?this.goToInventoryApp(null,a):t&&s||this.config.isInventoryEnabled?this.goToInventoryApp(s):this.goToInventoryUrl():this.goToCPOInventoryApp(a,i);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"goToVDP",value:function(e,t,n){var i,o=this;e&&"string"==typeof t?c.a.getDealer({country:p,id:t,language:g,type:"dealers"}).then((function(t){i=o.getFullVDPUrl(e,t,n),window.location=i})):(i=this.getFullVDPUrl(e,t,n),window.location=i)}},{key:"getFullVDPUrl",value:function(e,t,n){var i=n.bodyStyle,o=n.bodyStyleId,a=n.classId,r=n.model,l=n.modelId,s=n.vin,c=t.dealerId,h=t.name,u=d.Uw.hyphenate(d.Uw.toAlphaNumeric(h));this.isNewInventory=e;var v=this.getVDPUrl().split(".")[0],f=(0,d.kT)(),g=(0,d.NR)(v,{dealerName:u,dealerId:c,classId:n.class||a,bodyStyleId:i||o,modelId:r||l,vin:s});return"".concat(g).concat(f)}},{key:"goToInventoryApp",value:function(e,t){window.location=this.getUrlInventoryApp(e,t)}},{key:"getUrlInventoryApp",value:function(e,t){var n,i;e&&(i=d.Uw.hyphenate(d.Uw.toAlphaNumeric(e.name)),n=e.dealerId);var o=this.getInventoryUrl().split(".")[0],a=(0,d.kT)(),r={};if(this.vehicleInfo){if(this.vehicleInfo.class&&this.vehicleInfo.bodyStyle||this.vehicleInfo.inventoryClassId&&this.vehicleInfo.inventoryBodystyleId){var l=this.vehicleInfo.inventoryClassId||this.vehicleInfo.class,s=this.vehicleInfo.inventoryBodystyleId||this.vehicleInfo.bodyStyle;r.class="".concat(l,":").concat(s)}this.vehicleInfo.model&&(r.model=this.vehicleInfo.model),this.vehicleInfo.year&&(r.year=this.vehicleInfo.year),this.vehicleInfo.exteriorColor&&(r.exteriorColor=this.vehicleInfo.exteriorColor),this.vehicleInfo.interiorColor&&(r.interiorColor=this.vehicleInfo.interiorColor),this.vehicleInfo.trim&&(r.trim=this.vehicleInfo.trim),this.vehicleInfo.wheel&&(r.wheel=this.vehicleInfo.wheel),this.vehicleInfo.price&&(r.price=this.vehicleInfo.price),this.vehicleInfo.mappedFeatures&&(r.packagesOptions=this.vehicleInfo.mappedFeatures),this.vehicleInfo.notMappedFeatures&&(r.byoOptions=this.vehicleInfo.notMappedFeatures),this.vehicleInfo.sortModel&&(r.sortModel=this.vehicleInfo.sortModel)}var c=["zip","place"].indexOf(null==t?void 0:t.type)>-1,h=null==t?void 0:t.value;c&&h&&(r[t.type]=h);var u="".concat(o).concat(n&&i?"/".concat(i):"").concat(n?"/".concat(n):"");return"".concat(u).concat(a).concat((0,d.HD)(r))}},{key:"goToCPOInventoryApp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.isNewInventory=!1;var n=this.getInventoryUrl().split(".")[0],i=(0,d.kT)(),o={},a=e&&("zip"===e.type||"place"===e.type),r=e&&e.value;if(this.vehicleInfo){if(this.vehicleInfo.class&&this.vehicleInfo.bodyStyle){var l=this.vehicleInfo.class,s=this.vehicleInfo.bodyStyle;o.class="".concat(l,":").concat(s)}this.vehicleInfo.model&&(o.model=this.vehicleInfo.model),this.vehicleInfo.year&&(o.year="".concat(this.vehicleInfo.year-=1,",").concat(this.vehicleInfo.year+=2)),this.vehicleInfo.exteriorColor&&(o.exteriorColor=this.vehicleInfo.exteriorColor),this.vehicleInfo.driveTrain&&(o.driveTrain=this.vehicleInfo.driveTrain),this.vehicleInfo.fuelType&&(o.fuelType=this.vehicleInfo.fuelType)}e&&a&&r&&(o[e.type]=e.value),t&&(o.includeReserveOnly=!0),window.location="".concat(n).concat(i).concat((0,d.HD)(o))}},{key:"goToInventoryUrl",value:function(){var e=this.getInventoryUrl();this.vehicleInfo&&(this.vehicleInfo.year&&(e="".concat(e,"/year-").concat(this.vehicleInfo.year)),this.vehicleInfo.class&&this.vehicleInfo.bodyStyle&&(e="".concat(e,"/class-").concat(this.vehicleInfo.class,":").concat(this.vehicleInfo.bodyStyle)),this.vehicleInfo.model&&(e="".concat(e,"/model-").concat(this.vehicleInfo.model)),this.vehicleInfo.exteriorColor&&(e="".concat(e,"/exteriorColor-").concat(this.vehicleInfo.exteriorColor)),this.vehicleInfo.interiorColor&&(e="".concat(e,"/interiorColor-").concat(this.vehicleInfo.interiorColor))),window.location=e}},{key:"getReservePath",value:function(e,t,n,i){var o,a=(0,d.kT)(),l=void 0!==i?i:this.isNewInventory,s=v({},e,{dealerName:d.Uw.hyphenate(d.Uw.toAlphaNumeric(e.dealerName))});o=l?this.config.newReserveUrl.replace(a,"").replace(/\.html/g,""):this.config.cpoReserveUrl.replace(a,"").replace(/\.html/g,""),o="".concat(o,"/{dealerName}/{dealerId}/{class}/{bodyStyle}/{model}/{vin}").concat(a),o=(0,d.NR)(o,s);var c={};return t&&(c=v({},c,(0,r.Z)({},t.type,t.value))),n&&(c=v({},c,{resvId:n})),Object.keys(c).length>0&&(o="".concat(o).concat((0,d.HD)(c))),o}},{key:"goToReserve",value:function(e,t,n,i){var o=this;this.isNewInventory&&!e.dealerName?c.a.getDealer({country:p,id:e.dealerId,language:g,type:"dealers"}).then((function(a){var r=v({},e,{dealerName:a.name});window.location=encodeURI(o.getReservePath(r,t,n,i))})):window.location=encodeURI(this.getReservePath(e,t,n,i))}}]),e}()},55005:function(e,t,n){n.d(t,{AW:function(){return i.reducerConnect},MI:function(){return i.createAppState},OV:function(){return i.ReducerProvider}});var i=n(23825)}}]);
//# sourceMappingURL=b21e3ef89532ecf2ee74.bundle.js.map