"use strict";(self.webpackChunk_mbusa_now_aem=self.webpackChunk_mbusa_now_aem||[]).push([[2991],{37816:function(e,t,n){n.d(t,{Z:function(){return u}});var a=n(4942),r=n(15671),i=n(39688);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var o=window.mbNafta.pageData.dealerLocator,l=o.config,c=o.localization,d=window.mbNafta.ns("applicationProperties").distance,h=void 0===d?{}:d,u=function e(t){(0,r.Z)(this,e),this.dealerLocatorPlugin=new i.Z(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},l,{},h),c,"DEALER_LOCATOR_PAGE")}},53968:function(e,t,n){n.d(t,{Z:function(){return ne}});var a=n(87757),r=n.n(a),i=n(4942),s=n(15861),o=n(15671),l=n(43144),c=n(61156),d=window.mbNafta.ns("pageData","recalls","config"),h=n(48218),u=n(30168);function m(){var e=(0,u.Z)(['\n    <div class="recalls-landing">\n        <div class="recalls-hero">\n            <div class="recalls-hero__wrapper wrapper">\n                <div class="recalls-hero__content" data-analytics-container="{\'blade\': \'recalls-heading\'}">\n                    <div class="recalls-hero__heading">\n                        <h1 class="recalls-hero__title">','</h1>\n                        <div class="recalls-hero__body">','</div>\n                        <a href="','" class="recalls-hero__link link link_plain-link" data-analytics-trigger="cta">',"</a>\n                        ",'\n                    </div>\n                    <div class="recalls-hero__search-module">\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="recalls-body">\n            <div class="recalls-body__wrapper wrapper">\n                <div class="recalls-body__content">\n                    ','\n                    \n                    <div class="recalls ','">\n                        ',"\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n"]);return m=function(){return e},e}var f=n(47755),p=n(13629),g=n(85879);function v(){var e=(0,u.Z)(['\n    <div class="recalls-vin">\n        <div class="recalls-vin__form">\n            <div class="recalls-vin__input"></div>\n            ','\n            <button class="recalls-vin__cta button button_primary button--full-width" data-analytics-trigger="cta-recall-landing-vin-submit">','</button>\n            <div class="recalls-vin__error"></div>\n        </div>\n    </div>\n']);return v=function(){return e},e}var _="No VIN",y="Service Error";function b(e,t){return fetch(e,{method:"POST",headers:{"Content-Type":"application/json","Referrer-Policy":"origin"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){if(200!==e.status.code)throw y;return e}))}function E(e,t){return fetch(e,{method:"POST",headers:{"Content-Type":"application/json","Referrer-Policy":"origin"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){if(200!==e.status.code)throw y;return e}))}var I="recallsVIN",T=function(){function e(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4?arguments[4]:void 0;(0,o.Z)(this,e),this.content=t,this.endpoint=n,this.onSubmitCallback=a,this.vinInput=r,this.element=function(e,t){return(0,c.e2)(v(),"warranty"!==t?'<div class="recalls-vin__disclaimer">'.concat(e.disclaimer,"</div>"):"",e.cta)}(t.vin,i)({getNode:!0}),this.onSubmit=this.onSubmit.bind(this),this.onSubmitError=this.onSubmitError.bind(this),this.cacheDOM(),this.renderInputs(),this.createForm(),"warranty"!==i&&this.renderUpdatedDate(),this.pageType=i}return(0,l.Z)(e,[{key:"cacheDOM",value:function(){this.vinInputElm=this.element.querySelector(".".concat("recalls-vin__input")),this.formContainer=this.element.querySelector(".".concat("recalls-vin__form")),this.serverErrorElm=this.element.querySelector(".".concat("recalls-vin__error")),this.disclaimerElm=this.element.querySelector(".".concat("recalls-vin__disclaimer"))}},{key:"createForm",value:function(){var e={element:this.formContainer,id:I,onSubmit:this.onSubmit};this.form=new g.NI(e),this.form.register(this.inputs.vin),this.form.register(this.inputs.recaptcha),this.element.appendChild(this.form.render())}},{key:"renderInputs",value:function(){this.inputs={vin:new f.O8({type:"text",id:"vin",formId:I,required:!0,labelText:this.content.vin.label,maxLength:17,minLength:17,valueText:this.vinInput,validation:[{type:f.O8.VALIDATION_TYPE.REQUIRED,errorMessage:this.content.vin.error},{type:f.O8.VALIDATION_TYPE.MIN_LENGTH,errorMessage:this.content.vin.error}],restrictions:[f.O8.RESTRICTION_TYPE.ALPHA_NUMERIC]}),recaptcha:new p.bj({formId:I,errorMessage:this.content.vin.recaptchaError})},c.jG.append(this.inputs.vin.render(),this.vinInputElm),c.jG.append(this.inputs.recaptcha.render(),this.vinInputElm)}},{key:"renderUpdatedDate",value:function(){var e=new Date;e.setDate((new Date).getDate()-1);var t=(0,c.NR)(this.content.vin.disclaimer,[e.toDateString().substring(3,10),e.toDateString().substring(11)]);this.disclaimerElm.innerHTML=t}},{key:"onSubmitError",value:function(e){this.serverError=_===e?new g.Xq({title:this.content.vin.serverErrorTitle,description:this.content.vin.vinErrorDesc}):new g.Xq({title:this.content.vin.serverErrorTitle,description:this.content.vin.serverErrorDesc}),c.jG.insert(this.serverError.render(),this.serverErrorElm)}},{key:"onSubmit",value:function(){var e=this,t={vin:this.inputs.vin.getValue(),recaptchaResponse:this.inputs.recaptcha.getValue()};this.serverError&&(this.serverErrorElm.innerHTML="");var n={};(function(e,t){var n="".concat(t).concat((0,c.HD)({"g-recaptcha-response":e.recaptchaResponse}));return fetch(n,{method:"POST",headers:{"Content-Type":"application/json","Referrer-Policy":"origin"},body:JSON.stringify({vin:e.vin})}).then((function(e){return e.json()})).then((function(e){if("vinError"===e.result.page.status)throw _;if(200!==e.status.code)throw y;return e}))})(t,this.endpoint.vinSearch).then((function(e){n.recallsDetail=e})).then((function(){return"warranty"===e.pageType?function(e,t){var n=t,a={modelYear:e.recallsDetail.result.page.year,modelCode:e.recallsDetail.result.page.model};return fetch("".concat(n,"/").concat(a.modelYear,"/").concat(a.modelCode),{method:"GET",headers:{"Content-Type":"application/json","Referrer-Policy":"origin"}}).then((function(e){return e.json()})).then((function(e){if(200!==e.status.code)throw y;return e.result.payload}))}(n,e.endpoint.warrantyBooklet):{}})).then((function(e){return n.warrantyDetail=e,n.vin=t.vin,n})).then(this.onSubmitCallback).catch(this.onSubmitError).finally((function(){e.inputs.recaptcha.reset()}))}},{key:"render",value:function(){return this.element}}]),e}(),M=n(14569),S=n(4788),k=n(68551);function O(){var e=(0,u.Z)(['\n    <div class="recalls-stay-informed__success">\n        <header class="recalls-stay-informed__header">\n            <div class="recalls-stay-informed__success-icon"></div>\n            <h2 class="recalls-info__title">','</h2>\n            <p class="recalls-info__heading-copy">','</p>\n            <address class="recalls-stay-informed__contact-address">\n                '," <br />\n                "," <br />\n                "," <br />\n                ",' <br />\n            </address>\n            <a class="link link_plain-link" href="tel:','">',"</a>\n        </header>\n    </div>\n"]);return O=function(){return e},e}function C(){var e=(0,u.Z)(['\n    <div class="recalls-stay-informed">\n        <div class="recalls-stay-informed__container" data-analytics-container="{\'blade\': \'stay-informed-form\'}">\n            <header class="recalls-stay-informed__header">\n                <h2 class="recalls-info__title">','</h2>\n                <p class="recalls-info__heading-copy">','</p>\n                <strong class="recalls-info__subhead">',": ",'</strong>\n            </header>\n            <div class="recalls-stay-informed__form-container">\n                <div class="recalls-stay-informed__form">\n                    <div class="recalls-stay-informed__fields-container">\n                    </div>\n                    <div class="recalls-stay-informed__cta-container">\n                        <button class="button button_primary button--wide" type="submit" data-analytics-container="cta-recall-stay-informed-form-submit">','</button>\n                    </div>\n                    <div class="recalls-stay-informed__error-container">\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n']);return C=function(){return e},e}var N=function(){function e(t,n,a,r){(0,o.Z)(this,e),this.content=t,this.config=n,this.vin=a,this.recalls=r,this.element=function(e,t){return(0,c.e2)(C(),e.heading.title,e.heading.copy,e.heading.vin,t,e.submit.label)}(t,a)({getNode:!0}),this.serverError=null,this.validationError=null,this.isPosting=!1,this.onSubmit=this.onSubmit.bind(this),this.onSubmitSuccess=this.onSubmitSuccess.bind(this),this.onSubmitError=this.onSubmitError.bind(this),this.onValidationError=this.onValidationError.bind(this),this.cacheDOM(),this.createInputs(),this.createForm()}return(0,l.Z)(e,[{key:"cacheDOM",value:function(){this.errorContainerElm=this.element.querySelector(".".concat("recalls-stay-informed__error-container")),this.formContainerElm=this.element.querySelector(".".concat("recalls-stay-informed__form-container")),this.formElm=this.element.querySelector(".".concat("recalls-stay-informed__form")),this.fieldsContainerElm=this.element.querySelector(".".concat("recalls-stay-informed__fields-container")),this.mainContainerElm=this.element.querySelector(".".concat("recalls-stay-informed__container"))}},{key:"createForm",value:function(){var e={element:this.formElm,onSubmit:this.onSubmit,onInvalid:this.onValidationError};this.form=new g.NI(e),this.form.register(this.firstNameInput),this.form.register(this.lastNameInput),this.form.register(this.emailInput),this.form.register(this.mobilePhoneInput),this.form.register(this.addressInput),this.form.register(this.cityInput),this.form.register(this.stateInput),this.form.register(this.zipInput),this.form.register(this.preferredContactMethod),this.formContainerElm.appendChild(this.form.render())}},{key:"createInputs",value:function(){this.firstNameInput=new f.O8({type:"text",required:!0,labelText:this.content.firstName.label,maxLength:50,validation:[{type:f.O8.VALIDATION_TYPE.REQUIRED,errorMessage:this.content.firstName.error},{type:f.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.firstName.error}],restrictions:[f.O8.RESTRICTION_TYPE.NUMERIC]}),this.lastNameInput=new f.O8({type:"text",required:!0,labelText:this.content.lastName.label,maxLength:50,validation:[{type:f.O8.VALIDATION_TYPE.REQUIRED,errorMessage:this.content.lastName.error},{type:f.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.lastName.error}],restrictions:[f.O8.RESTRICTION_TYPE.NUMERIC]}),this.emailInput=new f.O8({type:"text",required:!0,labelText:this.content.email.label,maxLength:50,validation:[{type:f.O8.VALIDATION_TYPE.REQUIRED,errorMessage:this.content.email.error},{type:f.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.email.error},{type:f.O8.VALIDATION_TYPE.EMAIL,errorMessage:this.content.email.error}],restrictions:[f.O8.RESTRICTION_TYPE.EMAIL_SPECIAL_CHARS]}),this.mobilePhoneInput=new f.O8({type:"tel",required:!0,labelText:this.content.phone.label,maxLength:14,validation:[{type:f.O8.VALIDATION_TYPE.REQUIRED,errorMessage:this.content.phone.error},{type:f.O8.VALIDATION_TYPE.PHONE_FORMATTED,errorMessage:this.content.phone.error}],formatting:[{type:f.O8.FORMAT_TYPE.PHONE}],restrictions:[f.O8.RESTRICTION_TYPE.PHONE_NUMBER]}),this.addressInput=new f.O8({type:"text",required:!1,labelText:this.content.address.label,maxLength:150,validation:[{type:f.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.address.error}],errorMessage:this.content.address.error}),this.cityInput=new f.O8({type:"text",required:!1,labelText:this.content.city.label,maxLength:25,validation:[{type:f.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.city.error}],restrictions:[f.O8.RESTRICTION_TYPE.NUMERIC],errorMessage:this.content.city.error}),this.stateInput=new k.Yw(this.content.states.values,{cssClass:"recalls-stay-informed__state-select",errorMessage:this.content.states.error,labelSuppressed:!0,labelText:this.content.states.label}),this.zipInput=new f.O8({type:"text",inputClassNames:["recalls-stay-informed__zip-input"],required:!0,labelText:this.content.zip.label,maxLength:5,validation:[{type:f.O8.VALIDATION_TYPE.REQUIRED,errorMessage:this.content.zip.error},{type:f.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.zip.error}],errorMessage:this.content.zip.error}),this.preferredContactMethod=new f.f9({name:"recalls-stay-informed__preferred-contact",inputClassNames:["recalls-stay-informed__preferred-contact"],label:this.content.preferredContact.label,options:[{config:{checked:!0,valueText:"email",labelText:this.content.preferredContact.email.label,inputClassNames:["recalls-stay-informed__radio-option"]}},{config:{valueText:"phone",labelText:this.content.preferredContact.mobile.label,inputClassNames:["recalls-stay-informed__radio-option"]}}]}),this.fieldsContainerElm.appendChild(this.firstNameInput.render()),this.fieldsContainerElm.appendChild(this.lastNameInput.render()),this.fieldsContainerElm.appendChild(this.emailInput.render()),this.fieldsContainerElm.appendChild(this.mobilePhoneInput.render()),this.fieldsContainerElm.appendChild(this.addressInput.render()),this.fieldsContainerElm.appendChild(this.cityInput.render());var e=c.jG.fromTemplate('<div class="recalls-stay-informed__input-row"></div>');e.appendChild(this.stateInput.render()),e.appendChild(this.zipInput.render()),this.fieldsContainerElm.appendChild(e),this.fieldsContainerElm.appendChild(this.preferredContactMethod.render())}},{key:"getRequestObject",value:function(){return{prospect:{id:[{source:"recall",id:"mbusa.com"}],requestdate:(new Date).toISOString(),vehicle:[{vin:this.vin,recallData:this.recalls.map((function(e){return{status:e.status,recallNumber:e.nhtsaRecallNumber,recallStartDate:e.startDate}}))}],customer:{contact:{firstName:this.firstNameInput.getValue(),lastName:this.lastNameInput.getValue(),email:{emailAddress:this.emailInput.getValue()},address:{street:{line1:this.addressInput.getValue()},city:this.cityInput.getValue(),state:this.stateInput.getValue(),postalCode:this.zipInput.getValue()},phone:[{phoneNumber:this.mobilePhoneInput.getValue()}]}}}}}},{key:"onSubmit",value:function(){var e=this;this.validationError&&this.hideValidationError(),this.isPosting||(this.isPosting=!0,Promise.resolve(this.getRequestObject()).then(b.bind(null,this.config.endpoints.takataContactForm)).then(this.onSubmitSuccess).catch((function(t){console.error(t),e.onSubmitError()})))}},{key:"onSubmitSuccess",value:function(){var e;c.jG.insert((e=this.content.stayInformedSuccess,(0,c.e2)(O(),e.heading.title,e.heading.copy,e.address.line1,e.address.line2,e.address.line3,e.address.line4,e.phone,e.phone))({getNode:!0}),this.mainContainerElm),this.isPosting=!1}},{key:"onSubmitError",value:function(){this.isPosting=!1,this.showServerError()}},{key:"onValidationError",value:function(){this.serverError&&this.hideServerError(),this.showValidationError()}},{key:"showServerError",value:function(){this.serverError||(this.serverError=new g.Xq({description:this.content.submissionError})),this.serverError.show(this.errorContainerElm)}},{key:"hideServerError",value:function(){this.serverError.hide()}},{key:"showValidationError",value:function(){this.validationError||(this.validationError=new g.Xq({description:this.content.validationError})),this.validationError.show(this.errorContainerElm)}},{key:"hideValidationError",value:function(){this.validationError.hide()}},{key:"render",value:function(){return this.element}}]),e}();function w(){var e=(0,u.Z)(['\n    <div class="recalls-info__takata">\n        <div class="recalls-info__takata-info">\n            <div class="recalls-info__takata-header">','</div>\n            <div class="recalls-info__takata-desc">','</div>\n            <a href="','" class="recalls-detail__cta button button_primary button--wide" data-analytics-trigger="cta-recall-takata-more-info">',"</a>\n        </div>\n    </div>\n"]);return w=function(){return e},e}function D(){var e=(0,u.Z)(["\n    <div data-accordion>\n        ","\n    </div>\n"]);return D=function(){return e},e}function A(){var e=(0,u.Z)(['\n    <div class="recalls-info" data-analytics-container="{\'blade\': \'recall-details\'}">\n        <header class="recalls-info__header">\n            <h2 class="recalls-info__title">Recalls</h2>\n            <strong class="recalls-info__subhead">',": ",'</strong>\n            <p class="recalls-info__heading-copy">','</p>\n        </header>\n        <div class="recalls-info__container"></div>\n        <div class="recalls-info__takata-container"></div>\n    </div>\n']);return A=function(){return e},e}var L=function(e,t,n){return(0,c.e2)(D(),t.map((function(t,a){return'\n            <div data-accordion-item data-expand-accordion-pane="'.concat(0===a,'">\n                <h4 data-accordion-title>\n                    <button data-accordion-button class="accordion__button">\n                        ').concat(e.title,": ").concat(t.mbusaId,'\n                    </button>\n                </h4>\n                <div data-accordion-pane>\n                    <div class="recalls-detail" data-analytics-container="{\'blade\': \'recall-details-content\'}">\n                        <div class="recalls-detail__meta-info-list">\n                            <div class="recalls-detail__meta-info">\n                                <dl>\n                                    <dt class="recalls-detail__meta-info-title">').concat(e.vehicleStatus,"</dt>\n                                    <dd>").concat(t.startDate?t.mfrRecallStatusDesc:e.recallPending,'</dd>\n                                </dl>\n                            </div>\n                            <div class="recalls-detail__meta-info">\n                                <dl>\n                                    <dt class="recalls-detail__meta-info-title">').concat(e.campaignNumber,"</dt>\n                                    <dd>").concat(t.mbusaId,"</dd>\n                                </dl>\n                            </div>\n                            ").concat(n.subFeature.hideNhtsaRecallNumberFlag?"":'<div class="recalls-detail__meta-info">\n                            <dl>\n                                <dt class="recalls-detail__meta-info-title">'.concat(e.recallNumber,"</dt>\n                                <dd>").concat(t.nhtsaRecallNumber,"</dd>\n                            </dl>\n                        </div>"),'\n                            <div class="recalls-detail__meta-info">\n                                <dl>\n                                    <dt class="recalls-detail__meta-info-title">').concat(e.recallStartDate,"</dt>\n                                    <dd>").concat(t.startDate?c.p6.toMonthDayYear(t.startDate,n.language):e.recallPending,'</dd>\n                                </dl>\n                            </div>\n                            <div class="recalls-detail__meta-info">\n                                <dl>\n                                    <dt class="recalls-detail__meta-info-title">').concat(e.recallReportedDate,"</dt>\n                                    <dd>").concat(t.recallDate?c.p6.toMonthDayYear(t.recallDate,n.language):t.recallDate,'</dd>\n                                </dl>\n                            </div>\n                            <div class="recalls-detail__meta-info">\n                                <dl>\n                                    <dt class="recalls-detail__meta-info-title">').concat(e.component,"</dt>\n                                    <dd>").concat(t.component,'</dd>\n                                </dl>\n                            </div>\n                        </div>\n                        <div class="recalls-detail__description">\n                            <div class="recalls-detail__meta-info">\n                                <dl>\n                                    <dt class="recalls-detail__meta-info-title">').concat(e.summary,"</dt>\n                                    <dd>").concat(t.recallDescription,'</dd>\n                                </dl>\n                            </div>\n                            <div class="recalls-detail__meta-info">\n                            ').concat(n.subFeature.hideConsequencesFlag?"":'<dl>\n                                <dt class="recalls-detail__meta-info-title">'.concat(e.consequence,"</dt>\n                                <dd>").concat(t.safetyRiskDescription,"</dd>\n                            </dl>"),"\n                            ").concat(n.subFeature.hideCustomerLetterLinkFlag?"":'<a class="recalls-detail__customer-letter link link_plain-link" href="/content/dam/mb-nafta/us/customer-letters/'.concat(t.mbusaId,'.pdf">').concat(e.customerLetter,"</a>")," \n                        </div>\n                        ").concat(n.subFeature.hideRemedySectionsFlag?"":'<div class="recalls-detail__meta-info">\n                            <dl>\n                                <dt class="recalls-detail__meta-info-title">'.concat(e.remedy,"</dt>\n                                <dd>").concat(t.remedyDescription,"</dd>\n                            </dl>\n                        </div>"),'\n                            <a href="').concat(n.dealerLocatorPage,'" class="recalls-detail__cta button button_primary button--wide" data-analytics-trigger="cta">').concat(e.findDealer,"</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ")})).join(""))};function R(){var e=(0,u.Z)(['\n    <div class="recalls-customer-info__success">\n        <header class="recalls-customer-info__header">\n            <div class="recalls-customer-info__success-icon"></div>\n            <h2 class="recalls-info__title">','</h2>\n            <p class="recalls-info__heading-copy">','</p>\n            <address class="recalls-customer-info__contact-address">\n                '," <br />\n                "," <br />\n                "," <br />\n                ",' <br />\n            </address>\n            <a class="link link_plain-link" href="tel:','">',"</a>\n        </header>\n    </div>\n"]);return R=function(){return e},e}function P(){var e=(0,u.Z)(['\n    <div class="recalls-customer-info">\n        <div class="recalls-customer-info__container" data-analytics-container="{\'blade\': \'customer-letter-form\'}">\n            <header class="recalls-customer-info__header">\n                <h2 class="recalls-info__title">','</h2>\n                <h3 class="recalls-info__sub-header">','</h3>\n            </header>\n            <div class="recalls-customer-info-option-toggle">\n            </div>\n            <div class="recalls-customer-info__form-usage-radio">\n            </div>\n            <h3 class="recalls-info__sub-title">','</h3>\n            <div class="recalls-customer-info__form-container">\n                <div class="recalls-customer-info__form">\n                    <div class="recalls-customer-info__fields-container">\n                    </div>\n                    <div class="recalls-customer-info__cta-container">\n                        <button class="button button_primary button--wide" type="submit" data-analytics-container="cta-recall-customer-letter-form-submit">','</button>\n                    </div>\n                    <div class="recalls-customer-info__error-container">\n                    </div>    \n                </div>\n            </div>\n            <footer class="recalls-customer-info__footer">\n                <h3 class="recalls-info__footer">',"</h3>\n            </footer>\n        </div>\n    </div>\n"]);return P=function(){return e},e}function V(){var e=(0,u.Z)(['\n<fieldset class="recalls-customer-info-option-toggle__options-group">\n<legend class="offscreen">{selectPaymentOption}</legend>\n<div class="recalls-customer-info-option-toggle__options">\n    ',"\n</div>\n</fieldset>\n"]);return V=function(){return e},e}var q="recalls-customer-info-option-toggle__button--active",x=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;(0,o.Z)(this,e),this.options=t,this.notifyCallback=a,this.element=function(e,t){return(0,c.e2)(V(),e.map((function(e){return'\n        <label class="recalls-customer-info-option-toggle__button\n                    recalls-customer-info-option-toggle__option\n                    '.concat(t&&"yes"===e.id||!t&&"no"===e.id?"recalls-customer-info-option-toggle__button--active":"",'\n                    "\n               key=').concat(e.id,'\n        >\n            <input\n                class="recalls-customer-info-option-toggle__radio"\n                type="radio"\n                name="notify-type"\n                value=').concat(e.id,"\n                data-analytics-trigger={'tab-payment-options-").concat(e.id,'\'}\n            />\n                <div>\n                    <p class="recalls-customer-info-option-toggle__button-title">\n                        ').concat(e.name,"\n                    </p>\n                </div>\n        </label>\n    ").trim()})).join(""))}(t,n)({getNode:!0}),this.cacheDOM(),this.attachEvents()}return(0,l.Z)(e,[{key:"cacheDOM",value:function(){this.toggleBtns=this.element.querySelectorAll(".".concat("recalls-customer-info-option-toggle__button"))}},{key:"attachEvents",value:function(){var e=this;this.toggleBtns.length&&this.toggleBtns.forEach((function(t){t.addEventListener(h.FP.CLICK,(function(){t.classList.contains(q)||(e.removeOtherToggleActive(t),t.classList.add(q),t.firstElementChild&&e.notifyCallback("yes"===t.firstElementChild.value))}))}))}},{key:"removeOtherToggleActive",value:function(e){this.toggleBtns.forEach((function(t){e!==t&&t.classList.remove(q)}))}},{key:"render",value:function(){return this.element}}]),e}(),Y="form__input",j=function(){function e(t,n,a){(0,o.Z)(this,e),this.content=t,this.config=n,this.vin=a,this.notifyStatus=!0,this.element=function(e){return(0,c.e2)(P(),e.heading,e.description,e.subHeading,e.submit,e.disclaimer)}(t)({getNode:!0}),this.serverError=null,this.validationError=null,this.isPosting=!1,this.onSubmit=this.onSubmit.bind(this),this.onSubmitSuccess=this.onSubmitSuccess.bind(this),this.onSubmitError=this.onSubmitError.bind(this),this.onValidationError=this.onValidationError.bind(this),this.setNotifyStatus=this.setNotifyStatus.bind(this),this.cacheDOM(),this.createInputs(),this.renderInputs(),this.createForm()}return(0,l.Z)(e,[{key:"cacheDOM",value:function(){this.errorContainerElm=this.element.querySelector(".".concat("recalls-customer-info__error-container")),this.formContainerElm=this.element.querySelector(".".concat("recalls-customer-info__form-container")),this.formElm=this.element.querySelector(".".concat("recalls-customer-info__form")),this.fieldsContainerElm=this.element.querySelector(".".concat("recalls-customer-info__fields-container")),this.mainContainerElm=this.element.querySelector(".".concat("recalls-customer-info__container")),this.toggleContainerElm=this.element.querySelector(".".concat("recalls-customer-info-option-toggle")),this.formUsageRadioContainerElm=this.element.querySelector(".".concat("recalls-customer-info__form-usage-radio")),this.subTitleElm=this.element.querySelector(".".concat("recalls-info__sub-title"))}},{key:"createForm",value:function(){var e={element:this.formElm,onSubmit:this.onSubmit,onInvalid:this.onValidationError};this.form=new g.NI(e),this.notifyStatus?this.form.register(this.preferredContactMethod):this.form.register(this.formUsageReasonRadio),this.form.register(this.firstNameInput),this.form.register(this.lastNameInput),this.form.register(this.emailInput),this.form.register(this.mobilePhoneInput),this.form.register(this.addressInput),this.form.register(this.cityInput),this.form.register(this.stateInput),this.form.register(this.zipInput),this.formContainerElm.appendChild(this.form.render())}},{key:"setNotifyStatus",value:function(e){this.notifyStatus=e,this.emptyContainers(),this.createInputs(),this.renderInputs(),this.createForm(),this.serverError&&this.hideServerError()}},{key:"createInputs",value:function(){this.notifyRadio=new x(this.content.notifyFormsRadio,this.notifyStatus,this.setNotifyStatus),this.firstNameInput=new f.O8({type:"text",required:this.notifyStatus,labelText:this.content.firstName.label,maxLength:50,validation:this.notifyStatus?[{type:f.O8.VALIDATION_TYPE.REQUIRED,errorMessage:this.content.firstName.errorMessage},{type:f.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.firstName.errorMessage}]:[{type:f.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.firstName.errorMessage}],restrictions:[f.O8.RESTRICTION_TYPE.NUMERIC]}),this.lastNameInput=new f.O8({type:"text",required:this.notifyStatus,labelText:this.content.lastName.label,maxLength:50,validation:this.notifyStatus?[{type:f.O8.VALIDATION_TYPE.REQUIRED,errorMessage:this.content.lastName.errorMessage},{type:f.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.lastName.errorMessage}]:[{type:f.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.lastName.errorMessage}],restrictions:[f.O8.RESTRICTION_TYPE.NUMERIC]}),this.emailInput=new f.O8({type:"text",required:this.notifyStatus,labelText:this.content.email.label,maxLength:50,validation:this.notifyStatus?[{type:f.O8.VALIDATION_TYPE.REQUIRED,errorMessage:this.content.email.errorMessage},{type:f.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.email.errorMessage},{type:f.O8.VALIDATION_TYPE.EMAIL,errorMessage:this.content.email.errorMessage}]:[{type:f.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.email.errorMessage},{type:f.O8.VALIDATION_TYPE.EMAIL,errorMessage:this.content.email.errorMessage}],restrictions:[f.O8.RESTRICTION_TYPE.EMAIL_SPECIAL_CHARS]}),this.mobilePhoneInput=new f.O8({type:"tel",required:this.notifyStatus,labelText:this.content.phoneNumber.label,maxLength:14,validation:this.notifyStatus?[{type:f.O8.VALIDATION_TYPE.REQUIRED,errorMessage:this.content.phoneNumber.errorMessage},{type:f.O8.VALIDATION_TYPE.PHONE_FORMATTED,errorMessage:this.content.phoneNumber.errorMessage}]:[{type:f.O8.VALIDATION_TYPE.PHONE_FORMATTED,errorMessage:this.content.phoneNumber.errorMessage}],formatting:[{type:f.O8.FORMAT_TYPE.PHONE}],restrictions:[f.O8.RESTRICTION_TYPE.PHONE_NUMBER]}),this.addressInput=new f.O8({type:"text",required:this.notifyStatus,labelText:this.content.address.label,maxLength:150,validation:this.notifyStatus?[{type:f.O8.VALIDATION_TYPE.REQUIRED,errorMessage:this.content.address.errorMessage},{type:f.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.address.errorMessage}]:[{type:f.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.address.errorMessage}],errorMessage:this.content.address.errorMessage}),this.cityInput=new f.O8({type:"text",required:this.notifyStatus,labelText:this.content.city.label,maxLength:25,validation:this.notifyStatus?[{type:f.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.city.errorMessage},{type:f.O8.VALIDATION_TYPE.REQUIRED,errorMessage:this.content.city.errorMessage}]:[{type:f.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.city.errorMessage}],restrictions:[f.O8.RESTRICTION_TYPE.NUMERIC],errorMessage:this.content.city.errorMessage}),this.stateInput=new k.Yw(this.content.states.stateList.map((function(e){return{label:e,value:e}})),{cssClass:"recalls-customer-info__state-select",errorMessage:this.content.states.errorMessage,labelSuppressed:!0,labelText:this.content.states.label,ariaLabelText:this.content.states.label,required:this.notifyStatus}),this.zipInput=new f.O8({type:"text",inputClassNames:["recalls-customer-info__zip-input"],required:this.notifyStatus,labelText:this.content.zip.label,maxLength:5,validation:this.notifyStatus?[{type:f.O8.VALIDATION_TYPE.REQUIRED,errorMessage:this.content.zip.errorMessage},{type:f.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.zip.errorMessage},{type:f.O8.VALIDATION_TYPE.ZIP_CODE,errorMessage:this.content.zip.errorMessage}]:[{type:f.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.zip.errorMessage}],restrictions:[f.O8.RESTRICTION_TYPE.DIGIT],errorMessage:this.content.zip.errorMessage}),this.formUsageReasonRadio=new f.f9({name:"form-usage-reasons-group",inputClassNames:["recalls-customer-info__form-usage-reasons"],label:this.content.formUsageReason.label,required:!0,errorMessage:this.content.formUsageReason.errorMessage,onChangeCallback:this.enableFormUsageReasonInput.bind(this),options:[{config:{valueText:"Returned Lease",labelText:this.content.formUsageReason.returnedLease,inputClassNames:["recalls-customer-info__form-usage-reasons-option"]}},{config:{valueText:"Sold",labelText:this.content.formUsageReason.sold,inputClassNames:["recalls-customer-info__form-usage-reasons-option"]}},{config:{valueText:"Other",labelText:this.content.formUsageReason.other,inputClassNames:["recalls-customer-info__form-usage-reasons-option"]}}]}),this.preferredContactMethod=new f.f9({name:"form-usage-reasons-group",inputClassNames:["recalls-customer-info__preferred-contact-methods"],label:this.content.preferredContactMethod.label,required:!0,errorMessage:this.content.preferredContactMethod.errorMessage,options:[{config:{valueText:"email",labelText:this.content.preferredContactMethod.email,inputClassNames:["recalls-customer-info__preferred-contact-methods-option"]}},{config:{valueText:"mobile",labelText:this.content.preferredContactMethod.mobile,inputClassNames:["recalls-customer-info__preferred-contact-methods-option"]}}]}),this.formUsageReasonInput=new f.O8({type:"text",required:!0,labelText:this.content.other.label,validation:[{type:f.O8.VALIDATION_TYPE.REQUIRED,errorMessage:this.content.other.errorMessage},{type:f.O8.VALIDATION_TYPE.MAX_LENGTH,errorMessage:this.content.other.errorMessage}]})}},{key:"renderInputs",value:function(){this.notifyStatus?this.formUsageRadioContainerElm.hasChildNodes()&&c.jG.empty(this.formUsageRadioContainerElm):this.formUsageRadioContainerElm.appendChild(this.formUsageReasonRadio.render()),this.toggleContainerElm.appendChild(this.notifyRadio.render()),this.fieldsContainerElm.appendChild(this.firstNameInput.render()),this.fieldsContainerElm.appendChild(this.lastNameInput.render()),this.fieldsContainerElm.appendChild(this.emailInput.render()),this.fieldsContainerElm.appendChild(this.mobilePhoneInput.render()),this.fieldsContainerElm.appendChild(this.addressInput.render()),this.fieldsContainerElm.appendChild(this.cityInput.render());var e=c.jG.fromTemplate('<div class="recalls-customer-info__input-row"></div>');if(e.appendChild(this.stateInput.render()),e.appendChild(this.zipInput.render()),this.fieldsContainerElm.appendChild(e),this.notifyStatus)this.subTitleElm.innerHTML=this.content.updatesSubHeading,this.fieldsContainerElm.appendChild(this.preferredContactMethod.render());else{this.subTitleElm.innerHTML=this.content.noUpdatesSubHeading;var t=this.fieldsContainerElm.querySelector(".".concat("recalls-customer-info__preferred-contact-methods"));t&&this.fieldsContainerElm.removeChild(t)}}},{key:"emptyContainers",value:function(){c.jG.empty(this.fieldsContainerElm),c.jG.empty(this.formUsageRadioContainerElm),c.jG.empty(this.toggleContainerElm)}},{key:"enableFormUsageReasonInput",value:function(e){"other"===e.toLowerCase()?(this.form.register(this.formUsageReasonInput),this.formUsageRadioContainerElm.appendChild(this.formUsageReasonInput.render())):(this.form.unregister(this.formUsageReasonInput),this.formUsageRadioContainerElm.querySelector(".".concat(Y))&&this.formUsageRadioContainerElm.removeChild(this.formUsageRadioContainerElm.querySelector(".".concat(Y))))}},{key:"getRequestObject",value:function(){var e={vin:this.vin,firstName:this.firstNameInput.getValue(),lastName:this.lastNameInput.getValue(),emailAddress:this.emailInput.getValue(),mobileNumber:c.uf.toNumber(this.mobilePhoneInput.getValue()),address:this.addressInput.getValue(),city:this.cityInput.getValue(),state:this.stateInput.getValue(),zipCode:this.zipInput.getValue(),notificationIndicator:this.notifyStatus};return this.notifyStatus?(e.methodOfContact=this.preferredContactMethod.getValue(),e.reasonOfNoNotification=""):(e.methodOfContact="",e.reasonOfNoNotification=this.formUsageReasonRadio.getValue(),"other"===this.formUsageReasonRadio.getValue().toLowerCase()&&(e.reasonOfNoNotificationDesc=this.formUsageReasonInput.getValue())),e}},{key:"onSubmit",value:function(){var e=this;this.validationError&&this.hideValidationError(),this.isPosting||(this.isPosting=!0,Promise.resolve(this.getRequestObject()).then(E.bind(null,this.config.endpoints.customerInfoForm)).then(this.onSubmitSuccess).catch((function(t){console.error(t),e.onSubmitError()})))}},{key:"onSubmitSuccess",value:function(){var e;c.jG.insert((e=this.content.submissionSuccess,(0,c.e2)(R(),e.heading.title,e.heading.copy,e.address.line1,e.address.line2,e.address.line3,e.address.line4,e.phone,e.phone))({getNode:!0}),this.mainContainerElm),(0,c.X5)(this.mainContainerElm.offsetTop),this.isPosting=!1}},{key:"onSubmitError",value:function(){this.isPosting=!1,this.showServerError()}},{key:"onValidationError",value:function(){this.serverError&&this.hideServerError(),this.showValidationError()}},{key:"showServerError",value:function(){this.serverError||(this.serverError=new g.Xq({description:this.content.submissionError})),this.serverError.show(this.errorContainerElm)}},{key:"hideServerError",value:function(){this.serverError.hide()}},{key:"showValidationError",value:function(){this.validationError||(this.validationError=new g.Xq({description:this.content.validationError})),this.validationError.show(this.errorContainerElm)}},{key:"hideValidationError",value:function(){this.validationError.hide()}},{key:"render",value:function(){return this.element}}]),e}(),F=["16V081","16V363","17V017","18V043","19V010"],H=function(){function e(t,n,a){(0,o.Z)(this,e),this.content=t,this.config=n,this.recallInfo=a,this.element=function(e,t){return(0,c.e2)(A(),e.heading.vin,t.vin,e.heading.copy)}(t,a)({getNode:!0}),this.cacheDOM(),a.recallsAvailable?this.renderTabs():this.recallHeadingElm.innerHTML=t.heading.noRecalls,a.recalls.some((function(e){return F.includes(e.nhtsaRecallNumber)}))&&(this.config.subFeature.hideTakataLeadFormFlag||this.renderTakataInfo(),t.stayInformed.isEnabled&&this.config.subFeature.hideCustomerInfoFormFlag&&this.renderTakataStayInformedForm()),this.config.subFeature.hideCustomerInfoFormFlag||this.renderCustomerInfoForm()}return(0,l.Z)(e,[{key:"cacheDOM",value:function(){this.recallDetailContainerElm=this.element.querySelector(".".concat("recalls-info__container")),this.recallHeadingElm=this.element.querySelector(".".concat("recalls-info__heading-copy")),this.recallTakataContainer=this.element.querySelector(".".concat("recalls-info__takata-container"))}},{key:"destroy",value:function(){}},{key:"renderTabs",value:function(){var e=this,t=[];[].forEach.call(this.content.tabList.headings,(function(n){e.config.subFeature.hideClosedOtherCampaignsFlag&&"closedOtherCampaigns"===n.type||e.config.subFeature.hideOpenOtherCampaignsFlag&&"openOtherCampaigns"===n.type||e.config.subFeature.hideClosedRecallCampaignsFlag&&"closedRecalls"===n.type||t.push({tabLabel:"".concat(n.label," (").concat(e.recallInfo[n.type].length,")"),tabPanel:e.renderTabPanel(e.recallInfo[n.type],n.label)})})),t.length<=2?this.tabList=new M.Tabs(t,{tabDisplayClass:"tab-list--space-around"}):this.tabList=new M.Tabs(t,{}),c.jG.insert(this.tabList.render(),this.recallDetailContainerElm)}},{key:"renderTabPanel",value:function(e,t){return e.length?S.accordionParser.createAccordion({element:L(this.content.tabList.campaign,e,this.config)({getNode:!0})}).render():c.jG.fromTemplate('<div class="recalls-detail__no-campaign">\n                    <div class="recalls-detail__no-campaign-header">\n                        '.concat((0,c.NR)(this.content.tabList.campaign.noRecallMessage,[t.toLowerCase()]),'\n                    </div>\n                    <div class="recalls-detail__no-campign-desc">\n                        ').concat((0,c.NR)(this.content.tabList.campaign.noRecallDesc,[t.toLowerCase()]),"\n                    </div>\n                </div>"))}},{key:"renderTakataInfo",value:function(){this.takataInfoElm=function(e,t){return(0,c.e2)(w(),e.takata.takataHeader,e.takata.takataDesc,t.takataPage,e.takata.learnMore.label)}(this.content,this.config)({getNode:!0}),this.recallTakataContainer.appendChild(this.takataInfoElm)}},{key:"renderTakataStayInformedForm",value:function(){this.stayInformedForm=new N(this.content.stayInformed,this.config,this.recallInfo.vin,this.recallInfo.recalls),this.recallTakataContainer.appendChild(this.stayInformedForm.render())}},{key:"renderCustomerInfoForm",value:function(){this.customerInfoForm=new j(this.content.customerInfo,this.config,this.recallInfo.vin),this.recallTakataContainer.appendChild(this.customerInfoForm.render())}},{key:"render",value:function(){return this.element}}]),e}();function U(){var e=(0,u.Z)(['\n    <div class="warranty__container" data-analytics-container="{\'blade\': \'recall-details\'}">\n        <header class="warranty__header">\n            <h2 class="warranty__title">'," ",'</h2>\n            <strong class="warranty__subhead">',": ",'</strong>\n        </header>\n        <div class="warranty__content">\n            <div class="warranty__content-child">\n                <div class="warranty__manuals">\n                    <h2 class="warranty__title"> '," </h2>\n                    ",'\n                </div>\n                <div class="warranty__campaigns">\n                    <h2 class="warranty__campaigns-title"> '," </h2>\n                    ",' <a class="link link_plain-link" href="',"#",'" target="_blank" rel="noopener noreferrer">',"</a> ",'\n                </div>\n            </div>\n            <div class="warranty__coverage">\n                <h2 class="warranty__coverage-title"> '," </h2>\n                ","\n            </div>\n        </div>\n    </div>\n"]);return U=function(){return e},e}var Z=function(){function e(t,n,a){(0,o.Z)(this,e),this.content=t,this.config=n,this.warrantyInfo=a,this.element=function(e,t){return(0,c.e2)(U(),t.recallsDetail.result.page.year,t.recallsDetail.result.page.model,e.heading.vin,t.recallsDetail.result.page.vin,e.manuals.title,t.warrantyDetail.errorMsg?"".concat(e.manuals.messageBeforeLink,' <a class="link link_plain-link" href="').concat(e.manuals.noCampaignsLink,'" target="_blank" rel="noopener noreferrer">').concat(e.manuals.linkText,"</a> ").concat(e.manuals.messageAfterLink):'<div class="warranty__manuals-links">\n                                <a class="link" href="'.concat(e.manuals.ownerManual.link,"/").concat(t.recallsDetail.result.page.year,"/").concat(t.recallsDetail.result.page.model.toLowerCase(),"/").concat(e.manuals.ownerManual.pdfFileName,'"\n                                    target="_blank" rel="noopener noreferrer">\n                                    ').concat(e.manuals.ownerManual.label,'\n                                </a>\n                            </div>\n                            <div class="warranty__manuals-links">\n                                <a class="link" href="').concat(e.manuals.ownerManualSpanish.link,"/").concat(t.recallsDetail.result.page.year,"/").concat(t.recallsDetail.result.page.model.toLowerCase(),"/").concat(e.manuals.ownerManualSpanish.pdfFileName,'"\n                                    target="_blank" rel="noopener noreferrer">\n                                    ').concat(e.manuals.ownerManualSpanish.label,'\n                                </a>\n                            </div>\n                            <div class="warranty__manuals-links">\n                                <a class="link" href="').concat("eq"===t.recallsDetail.result.page.model.substring(0,2).toLowerCase()?"".concat(e.manuals.warrantyBooklet.link,"/").concat(t.recallsDetail.result.page.year,"/").concat(t.recallsDetail.result.page.year,"-").concat(e.manuals.warrantyBooklet.eqPdfFileBaseName):"".concat(e.manuals.warrantyBooklet.link,"/").concat(t.recallsDetail.result.page.year,"/").concat(t.recallsDetail.result.page.year,"-").concat(e.manuals.warrantyBooklet.pdfFileBaseName),'" target="_blank" rel="noopener noreferrer">\n                                    ').concat(e.manuals.warrantyBooklet.label,"\n                                </a>\n                            </div>"),e.campaigns.title,e.campaigns.messageBeforeLink,e.campaigns.link,t.vin,e.campaigns.linkText,e.campaigns.messageAfterLink,e.warrantyCoverage.title,t.warrantyDetail.errorMsg?'<p class="warranty__error-info">'.concat(t.warrantyDetail.errorMsg,"</p>"):'<div class="warranty__coverage-data">\n                        '.concat(Object.keys(t.warrantyDetail).map((function(e){return"\n                            ".concat(t.warrantyDetail[e]&&"footer"!==e&&"disclaimer"!==e?'<div class="warranty__coverage-data-child-container">\n                                    <div class="warranty__coverage-data-child-container-label">\n                                        <div>\n                                            '.concat(t.warrantyDetail[e].label,"\n                                        </div>\n                                        ").concat(t.warrantyDetail[e].subHead?'<div class="warranty__coverage-data-child-container-subhead">\n                                                    '.concat(t.warrantyDetail[e].subHead,"\n                                                </div>"):"",'\n                                    </div>\n                                    <div class="warranty__coverage-data-child-container-value">\n                                        ').concat(t.warrantyDetail[e].value,"\n                                    </div>\n                                </div>"):"")})).join(""),"\n                        ").concat(t.warrantyDetail.disclaimer?'<p class="warranty__coverage-notice">\n                                '.concat(t.warrantyDetail.disclaimer,"\n                            </p>"):"","\n                    </div>\n                    ").concat(t.warrantyDetail.footer?'<p class="warranty__coverage-action">'.concat(t.warrantyDetail.footer.value,"</p>"):""))}(t,a)({getNode:!0}),this.cacheDOM()}return(0,l.Z)(e,[{key:"cacheDOM",value:function(){}},{key:"destroy",value:function(){}},{key:"render",value:function(){return this.element}}]),e}(),G=function(){function e(t,n){(0,o.Z)(this,e),this.content=t,this.config=n,this.element=function(e,t){return(0,c.e2)(m(),e.hero.title,e.hero.body,e.hero.nhtsaCTA.link,e.hero.nhtsaCTA.label,t.alternateLanguagePage?'<a href="'.concat(t.alternateLanguagePage,'" class="recalls-hero__link link link_plain-link" data-analytics-trigger="cta">').concat(t.alternateLanguagePageLabel,"</a>"):"","warranty"===t.pageType?'<div class="warranty">\n                    </div>':"",t.subFeature.hideTakataLeadFormFlag?"recalls-body__content--hide_takata":"",e.urgentRecallSection&&e.urgentRecallSection.length?e.urgentRecallSection.map((function(e){return e.title&&e.body&&e.cta.label?'\n                                    <div class="recalls-body__urgent-content" data-analytics-container="{\'blade\': \'takata-link\'}">\n                                        <h2 class="recalls-body__title">'.concat(e.title,'</h1>\n                                        <div class="recalls-body__body">').concat(e.body,'</div>\n                                        <a href="').concat(t.takataPage,'" class="recalls-body__link link link_secondary" data-analytics-trigger="cta">').concat(e.cta.label,"</a>\n                                    </div>\n                                "):""})).join(""):"")}(t,n)({getNode:!0}),this.renderDetails=this.renderDetails.bind(this);var a=n.endpoints,r=this.getCachedVIN();this.cacheDOM(),this.renderVINInput(t,a,r)}return(0,l.Z)(e,[{key:"cacheDOM",value:function(){this.searchModule=this.element.querySelector(".".concat("recalls-hero__search-module")),this.recallInfoElm=this.element.querySelector(".".concat("recalls-info")),this.recallBodyContent=this.element.querySelector(".".concat("recalls-body__content")),this.warrantyContent=this.element.querySelector(".".concat("warranty")),this.recallContent=this.element.querySelector(".".concat("recalls"))}},{key:"getCachedVIN",value:function(){var e="";return c.tO.sessionStorage.read(h.I.TAKATA_PAGE_VISIT)&&(c.tO.sessionStorage.create(h.I.TAKATA_PAGE_VISIT,!1),e=c.tO.sessionStorage.read(h.I.RECALLS_VIN)),e}},{key:"renderVINInput",value:function(e,t,n){this.vinInput=new T(e,t,this.renderDetails,n,this.config.pageType),c.jG.insert(this.vinInput.render(),this.searchModule),this.vinInputFieldElm=this.element.querySelector("#".concat("vin")),this.vehicleVin=window.location.hash.substring(1),this.vehicleVin&&(this.vinInputFieldElm.value=this.vehicleVin)}},{key:"renderDetails",value:function(e){c.tO.sessionStorage.create(h.I.RECALLS_VIN,e.recallsDetail.result.page.vin),"warranty"===this.config.pageType?(this.warrantyDetailInfo=new Z(this.content.warrantyDetail,this.config,e),c.jG.insert(this.warrantyDetailInfo.render(),this.warrantyContent)):(this.recallDetailInfo=new H(this.content.recallDetail,this.config,e.recallsDetail.result.page),c.jG.insert(this.recallDetailInfo.render(),this.recallContent)),(0,c.X5)(this.recallBodyContent.offsetTop)}},{key:"render",value:function(){return this.element}}]),e}();function X(){var e=(0,u.Z)(['\n    <div class="urgent-recalls-search ','" data-analytics-container="{\'blade\': \'takata-search-module\'}">\n        <div class="urgent-recalls-search__form">\n            <div class="','">','</div> \n            <div class="urgent-recalls-search__input">\n                <div class="urgent-recalls-search--states-container">\n                    <div class="urgent-recalls-search__states"></div>\n                    <div class="urgent-recalls-search__note">','</div>\n                </div>\n                <div class="urgent-recalls-search--model-container">\n                    <div class="urgent-recalls-search__model-years"></div>\n                    <div class="urgent-recalls-search__models"></div>\n                </div>\n            </div>\n            <button class="urgent-recalls-search__cta button button_primary ','" data-analytics-trigger="cta-check-recall-status-submit">','</button>\n            <div class="urgent-recalls-search__error"></div>\n        </div>\n    </div>\n']);return X=function(){return e},e}var z=function(){function e(t,n,a,r){(0,o.Z)(this,e),this.content=t,this.modelsData=a,this.statesData=n,this.onSubmitCallback=r,this.onSelectState=this.onSelectState.bind(this),this.onSelectYear=this.onSelectYear.bind(this),this.onSubmit=this.onSubmit.bind(this),this.statesDataMap=n.reduce((function(e,t){return e[t.State]=t.isZoneA,e}),{}),this.element=function(e){return(0,c.e2)(X(),e.isMerkley?"urgent-recalls-search--split":"",e.isMerkley&&e.searchModule.merkleyHeader?"urgent-recalls-search__merkley-header":"",e.isMerkley&&e.searchModule.merkleyHeader?e.searchModule.merkleyHeader:"",e.searchModule.note,e.isMerkley?"button--wide":"button--full-width",e.searchModule.cta)}(t)({getNode:!0}),this.cacheDOM(),this.attachEvents(),this.renderStateSelect(n),this.renderModelYear(),this.renderModels()}return(0,l.Z)(e,[{key:"cacheDOM",value:function(){this.searchInputElm=this.element.querySelector(".".concat("urgent-recalls-search__input")),this.serverErrorElm=this.element.querySelector(".".concat("urgent-recalls-search__error")),this.stateInputElm=this.element.querySelector(".".concat("urgent-recalls-search__states")),this.yearsInputElm=this.element.querySelector(".".concat("urgent-recalls-search__model-years")),this.modelsInputElm=this.element.querySelector(".".concat("urgent-recalls-search__models")),this.submitCtaElm=this.element.querySelector(".".concat("urgent-recalls-search__cta"))}},{key:"attachEvents",value:function(){this.submitCtaElm.addEventListener(h.FP.CLICK,this.onSubmit)}},{key:"renderStateSelect",value:function(e){var t=e.map((function(e){return{label:e.State,value:e.State}}));this.vehicleState=new k.Yw(t,{id:"vehicle-state",selectionCallback:this.onSelectState,labelText:this.content.searchModule.vehicleRegistration,ariaLabelText:this.content.searchModule.vehicleRegistration,errorMessage:this.content.vehicleStateErrorMessage,labelSuppressed:!0,required:!0}),c.jG.insert(this.vehicleState.render(),this.stateInputElm)}},{key:"onSelectState",value:function(e){var t=this,n=this.modelsData.filter((function(n){return n.isZoneA===t.statesDataMap[e]})).map((function(e){return e.MY})).unique().map((function(e){return{label:e,value:e}}));this.renderModelYear(n),this.renderModels()}},{key:"renderModelYear",value:function(e){this.modelYear=new k.Yw(e,{id:"model-year",selectionCallback:this.onSelectYear,labelText:this.content.searchModule.modelYear,ariaLabelText:this.content.searchModule.modelYear,errorMessage:this.content.modelYearErrorMessage,labelSuppressed:!0,required:!0}),c.jG.insert(this.modelYear.render(),this.yearsInputElm)}},{key:"onSelectYear",value:function(e){var t=this,n=this.modelsData.filter((function(n){return n.MY===e&&n.isZoneA===t.statesDataMap[t.vehicleState.getValue()]})).map((function(e){return e.Model})).unique().map((function(e){return{label:e,value:e}}));this.renderModels(n)}},{key:"renderModels",value:function(e){this.models=new k.Yw(e,{id:"models",labelText:this.content.searchModule.model,ariaLabelText:this.content.searchModule.model,errorMessage:this.content.modelErrorMessage,labelSuppressed:!0,required:!0}),c.jG.insert(this.models.render(),this.modelsInputElm)}},{key:"onSubmit",value:function(){var e=this,t={state:this.vehicleState.getValue(),year:this.modelYear.getValue(),model:this.models.getValue()},n=this.modelsData.filter((function(n){return n.isZoneA===e.statesDataMap[t.state]&&n.MY===t.year&&n.Model===t.model}));n.forEach((function(e){e.state=t.state}));var a=!1;this.vehicleState.validate(!0),this.vehicleState.valid||a||(this.vehicleState.selectToggle.focus(),a=!0),this.modelYear.validate(!0),this.modelYear.valid||a||(this.modelYear.selectToggle.focus(),a=!0),this.models.validate(!0),this.models.valid||a||(this.models.selectToggle.focus(),a=!0),n.length>0&&this.onSubmitCallback(n)}},{key:"render",value:function(){return this.element}}]),e}();function B(){var e=(0,u.Z)(['\n    <div class="urgent-recalls-airbag">\n        <h2 class="urgent-recalls-airbag__header"></h2>\n        <table class="urgent-recalls-airbag__table">\n            <caption class="urgent-recalls-airbag__caption hide"></caption>\n            <tr>\n                <th class="table-header" scope="col">\n                    ','\n                </th>\n                <th class="table-header" scope="col">\n                    ',"\n                </th>\n            </tr>\n        </table>\n    </div>\n"]);return B=function(){return e},e}var Q=function(){function e(t,n){(0,o.Z)(this,e),this.chosenModel=n,this.element=function(e){return(0,c.e2)(B(),e.airbagModule.airbagPosition,e.airbagModule.estimatedData)}(t)({getNode:!0}),this.cacheDOM(),this.renderHeader(t,n),this.renderTableCells(t,n)}return(0,l.Z)(e,[{key:"cacheDOM",value:function(){this.headerElm=this.element.querySelector(".".concat("urgent-recalls-airbag__header")),this.tableElm=this.element.querySelector(".".concat("urgent-recalls-airbag__table")),this.captionElm=this.element.querySelector(".".concat("urgent-recalls-airbag__caption"))}},{key:"renderHeader",value:function(e,t){var n=(0,c.NR)(e.airbagModule.header,[t[0].MY,t[0].Model,t[0].state]);this.headerElm.innerHTML=n,this.captionElm.innerHTML=n}},{key:"renderTableCells",value:function(e,t){var n=this;t.forEach((function(t){var a=n.tableElm.insertRow(-1),r=a.insertCell(0),i=a.insertCell(1);if(i.innerHTML=t["Month Effective Launch Date"],i.classList.add="table-cell",r.classList.add="table-cell","DAB"===t.Inflator)r.innerHTML=e.airbagModule.driverSide;else if("PAB"===t.Inflator)r.innerHTML=e.airbagModule.passengerSide;else if("DAB, PAB"===t.Inflator){r.innerHTML=e.airbagModule.driverSide;var s=n.tableElm.insertRow(-1),o=s.insertCell(0),l=s.insertCell(1);o.innerHTML=e.airbagModule.passengerSide,l.innerHTML=t["Month Effective Launch Date"]}}))}},{key:"render",value:function(){return this.element}}]),e}();function K(){var e=(0,u.Z)(['\n    <div class="urgent-recalls-parts">\n        <div class="urgent-recalls-parts__check hide"></div>\n        <div class="urgent-recalls-parts__parts-status"></div>\n        <div class="urgent-recalls-parts__contact">','</div>\n        <div class="urgent-recalls-parts__address">','</div>\n        <a href="','" class="urgent-recalls-parts__cta button button_primary button--wide">',"</a>\n    </div>\n"]);return K=function(){return e},e}var J=function(){function e(t,n,a){(0,o.Z)(this,e);var r=new Date,i=a.map((function(e){return new Date(e["Month Effective Launch Date"])})).sort()[0];this.chosenModel=a,this.content=t,this.currentDate=r,this.element=function(e,t){return(0,c.e2)(K(),e.partsAvailability.contact,e.partsAvailability.address,t.dealerLocatorPage,e.partsAvailability.cta)}(t,n)({getNode:!0}),this.cacheDOM(),this.renderPartsAvailability(r,i)}return(0,l.Z)(e,[{key:"cacheDOM",value:function(){this.checkElm=this.element.querySelector(".".concat("urgent-recalls-parts__check")),this.partsStatusElm=this.element.querySelector(".".concat("urgent-recalls-parts__parts-status"))}},{key:"renderPartsAvailability",value:function(e,t){e>=t?(this.checkElm.classList.remove("hide"),this.partsStatusElm.innerHTML=this.content.partsAvailability.partsAvailable):e<t&&(this.partsStatusElm.innerHTML=this.content.partsAvailability.partsUnavailable)}},{key:"render",value:function(){return this.element}}]),e}();function W(){var e=(0,u.Z)(['\n    <div class="urgent-recalls">\n        <div class="recalls-hero">\n            <div class="recalls-hero__wrapper wrapper">\n                <div class="recalls-hero__content">\n                    <div class="recalls-hero__heading ','">\n                        ','\n                        <h1 class="recalls-hero__title">','</h1>\n                        <div class="recalls-hero__body">','</div>\n                    </div>\n                    <div class="recalls-hero__search-module ','"></div>\n                </div>\n            </div>\n        </div>\n        <div class="urgent-recalls__body">\n            <div class="urgent-recalls__body-wrapper wrapper">\n                <div class="urgent-recalls__airbag-container"></div>\n                <div class="urgent-recalls__parts-availability"></div>\n                <div class="urgent-recalls__detailed-info">\n                    <div class="urgent-recalls__detailed-info-desc">\n                        <h2 class="urgent-recalls__detailed-info-desc-header">','</h2>\n                        <div class="urgent-recalls__detailed-info-desc-copy">','</div>\n                    </div>\n                    <div class="urgent-recalls__detailed-info-additional">\n                        <h2 class="urgent-recalls__detailed-info-additional-header">',"</h2>\n                        <ul>\n                            ",'\n                        </ul>\n                    </div>\n                </div>\n                <div class="urgent-recalls__faq">\n                    <h2 class="urgent-recalls__faq-header">','</h2>\n                    <div class="urgent-recalls__faq-accordion"\n                        data-accordion\n                        data-accordion-name="urgent-recalls-faq">\n                        ',"\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n"]);return W=function(){return e},e}var $=function(){function e(t,n,a,r){(0,o.Z)(this,e),this.content=t,this.config=n,this.element=function(e,t){return(0,c.e2)(W(),e.isMerkley?"hide":"",t.backLink.destination?'<a href="'.concat(t.backLink.destination,'" class="recalls-hero__back-link link link_bold" data-analytics-trigger="cta-back-link-recall-landing">').concat(t.backLink.label,"</a>"):"",e.hero.urgentTitle,(0,c.NR)(e.hero.urgentBody,{landingPage:t.landingPage}),e.isMerkley?"recalls-hero__search-module--full-width":"",e.detailedInfo.desc.heading,e.detailedInfo.desc.copy,e.detailedInfo.additional.heading,e.detailedInfo.additional.links.map((function(e){return'\n                                <li class="media-links__link-element">\n                                    <a href="'.concat(e.href,'" class="link link_plain-link" target="_blank" data-analytics-trigger="cta-additional-resources">').concat(e.label,"</a>\n                                </li>\n                            ")})).join(""),e.faq.heading,e.faq.questionList.map((function(e){return'\n                                <div data-accordion-item class="urgent-recalls-faq-item">\n                                    <h3 data-accordion-title class="urgent-recalls-faq-question">\n                                        <button data-accordion-button aria-expanded="false">\n                                            '.concat(e.question,"\n                                        </button>\n                                    </h3>\n                                    <div data-accordion-pane>").concat(e.answer,"</div>\n                                </div>\n                            ")})).join(""))}(t,n)({getNode:!0}),this.renderAirbagModule=this.renderAirbagModule.bind(this),this.renderPartsModule=this.renderPartsModule.bind(this),this.onSubmitCallback=this.onSubmitCallback.bind(this),this.cacheDOM(),this.renderUrgentSearch(t,a,r),this.renderFAQAccordion(),c.tO.sessionStorage.create(h.I.TAKATA_PAGE_VISIT,!0)}return(0,l.Z)(e,[{key:"cacheDOM",value:function(){this.searchModuleElm=this.element.querySelector(".".concat("recalls-hero__search-module")),this.airbagModuleElm=this.element.querySelector(".".concat("urgent-recalls__airbag-container")),this.partsModuleElm=this.element.querySelector(".".concat("urgent-recalls__parts-availability")),this.accordionElm=this.element.querySelector(".".concat("urgent-recalls__faq-accordion"))}},{key:"renderUrgentSearch",value:function(e,t,n){this.urgentSearch=new z(e,t,n,this.onSubmitCallback),c.jG.insert(this.urgentSearch.render(),this.searchModuleElm)}},{key:"renderAirbagModule",value:function(e){this.airbagModule=new Q(this.content,e),c.jG.insert(this.airbagModule.render(),this.airbagModuleElm)}},{key:"renderPartsModule",value:function(e){this.partsModule=new J(this.content,this.config,e),c.jG.insert(this.partsModule.render(),this.partsModuleElm)}},{key:"onSubmitCallback",value:function(e){this.renderAirbagModule(e),this.renderPartsModule(e),(0,c.X5)(this.airbagModuleElm.offsetTop)}},{key:"renderFAQAccordion",value:function(){S.accordionParser.createAccordion({element:this.accordionElm})}},{key:"render",value:function(){return this.element}}]),e}();function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(){function e(t){(0,o.Z)(this,e),this.element=t,this.recallsLanding=null,this.urgentRecall=null,this.localization=window.mbNafta.ns("pageData","recalls","localization"),this.init()}var t,n,a,i;return(0,l.Z)(e,[{key:"init",value:(i=(0,s.Z)(r().mark((function e(){var t,n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadContent();case 2:if(!(t=te({},t=e.sent,{},this.localization)).isLanding){e.next=9;break}this.recallsLanding=new G(t,d),c.jG.insert(this.recallsLanding.render(),this.element),e.next=18;break;case 9:if(!t.isUrgent){e.next=18;break}return e.next=12,this.loadStatesData();case 12:return n=e.sent,e.next=15,this.loadModelsData();case 15:a=e.sent,this.urgentRecallsLanding=new $(t,d,n,a),c.jG.insert(this.urgentRecallsLanding.render(),this.element);case 18:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"loadContent",value:(a=(0,s.Z)(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d.contentPath);case 2:return t=e.sent,n=t.json(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"loadStatesData",value:(n=(0,s.Z)(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d.statesData);case 2:return t=e.sent,n=t.json(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"loadModelsData",value:(t=(0,s.Z)(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d.modelsData);case 2:return t=e.sent,n=t.json(),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),e}()}}]);
//# sourceMappingURL=484d238fc283feedffbb.bundle.js.map