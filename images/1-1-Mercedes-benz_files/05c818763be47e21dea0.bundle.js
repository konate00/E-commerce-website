"use strict";(self.webpackChunk_mbusa_now_aem=self.webpackChunk_mbusa_now_aem||[]).push([[2605],{78478:function(e,t,i){i.d(t,{Z:function(){return y}});var n=i(15671),a=i(43144),s=i(4942),o=i(61156),r=i(30168);function l(){var e=(0,r.Z)(['\n<section id="webAnimationTestWrapper">\n    <style>\n        #webAnimationTestWrapper {\n            position: fixed;\n            bottom: 0;\n            right: 0;\n            line-height: 1.6rem;\n            width: 1px;\n            height: 1px;\n            z-index: -1;\n            overflow: hidden;\n            -moz-user-select: none;\n            user-select: none;\n            opacity: 0.01;\n            pointer-events: none;\n        }\n        #webAnimationTestWrapper *, #webAnimationTestWrapper *:before {\n          box-sizing: border-box;\n        }\n        #webAnimationTestWrapper h2 {\n          margin-bottom: 1rem;\n        }\n        #webAnimationTestWrapper p, #webAnimationTestWrapper p + ul {\n          margin-bottom: 2rem;\n        }\n        #webAnimationTestWrapper li::before, #webAnimationTestWrapper span::before {\n          content: \'N\';\n          color: white;\n          text-align: center;\n          font-size: 0.9em;\n          vertical-align: text-top;\n          padding-top: .1rem;\n          width: 1rem;\n          height: 1rem;\n          background-color: red;\n          display: inline-block;\n          margin: 0 .5rem;\n          line-height: 0.9rem;\n          font-weight: bold;\n        }\n        #webAnimationTestWrapper li.deprecated, #webAnimationTestWrapper span.deprecated {\n          opacity: .4;\n        }\n        #webAnimationTestWrapper li.deprecated::before, #webAnimationTestWrapper span.deprecated::before {\n          background-color: black;\n          content: "O";\n        }\n        #webAnimationTestWrapper li.passed::before, #webAnimationTestWrapper span.passed::before {\n          background-color: green;\n          border-radius: 50%;\n          content: "S";\n        }\n        #webAnimationTestWrapper li.passed.deprecated::before, #webAnimationTestWrapper span.passed.deprecated::before {\n          content: \'O\';\n        }\n        #webAnimationTestWrapper li li, #webAnimationTestWrapper span li {\n          margin-left: 1rem;\n        }\n        #webAnimationTestWrapper li:target {\n          border-left: .5rem solid orange;\n        }\n        @-webkit-keyframes pulse {\n          50% {\n            background: orange;\n          }\n        }\n        @keyframes pulse {\n          50% {\n            background: orange;\n          }\n        }\n        #webAnimationTestWrapper aside {\n          opacity: 0.05;\n        }\n        #webAnimationTestWrapper aside div {\n          display: inline-block;\n          transition: opacity 100s linear;\n        }\n        #webAnimationTestWrapper #css-anim {\n          -webkit-animation: pulser 1s 0s infinite alternate linear;\n                  animation: pulser 1s 0s infinite alternate linear;\n        }\n        @-webkit-keyframes pulser {\n          100% {\n            opacity: 0;\n          }\n        }\n        @keyframes pulser {\n          100% {\n            opacity: 0;\n          }\n        }\n    </style>\n    <ul>\n        <li id="test-animate">Element.animate() support\n            <ul>\n                <li id="test-animate-kfa" class="sub">First parameter as array of keyframes like: [{opacity: 1}, {opacity: 0}]</li>\n                <li id="test-animate-kfo" class="sub">First parameter as object with property arrays like: { opacity: [1, 0] }</li>\n                <li id="test-animate-single" class="sub">Single keyframe (<a href="https://codepen.io/danwilson/pen/qrMpWP/" target="_blank" tabindex="-1">Example</a>)</li>\n            </ul>\n        </li>\n        <li id="test-kec">KeyframeEffect constructor</li>\n    </ul>\n\n    <aside>\n        <div id="waapi-anim">Infinite WAAPI Animation</div>\n        <div id="css-anim">Infinite CSS Animation</div>\n        <div id="css-tran">Long CSS Transition</div>\n    </aside>\n</section>\n']);return l=function(){return e},e}var c=function(){function e(t){var i=this;(0,n.Z)(this,e),this.updateCallback=t,this.testResults={},this.template=(0,o.e2)(l())({getNode:!0}),o.jG.append(this.template,document.body),this.performBasicTest=this.performBasicTest.bind(this),this.handleOnFinish=this.handleOnFinish.bind(this),this.handleOnCancel=this.handleOnCancel.bind(this),this.handleFinished=this.handleFinished.bind(this),this.handleReady=this.handleReady.bind(this),this.startAnimation();var a=this.template.querySelector("#test-animate"),s=this.template.querySelector("#test-animate-kfa"),r=this.template.querySelector("#test-animate-kfo"),c=this.template.querySelector("#test-animate-single");if(this.listenerCount=0,void 0!==a.animate){this.performBasicTest(!0,"test-animate","Element.animate() support");var h=s.animate([{opacity:1},{opacity:.5},{opacity:1}],{iterations:1,duration:100,id:"ISetTheId"}),p=s.animate([{opacity:1},{opacity:.5},{opacity:1}],{iterations:1,duration:100});h?(this.performBasicTest(!0,"test-animate-kfa","First parameter as array of keyframes like: [{opacity: 1},{opacity: 0} ]"),this.listenerCount+=1,h.onfinish=this.handleOnFinish,h.finished&&h.finished.then&&(this.listenerCount+=1,h.finished.then(this.handleFinished)),h.ready&&h.ready.then&&(this.listenerCount+=1,h.ready.then(this.handleReady))):this.performBasicTest(!1,"test-animate-kfa","First parameter as array of keyframes like: [{opacity: 1},{opacity: 0} ]"),p&&(this.listenerCount+=1,p.oncancel=this.handleOnCancel,"function"==typeof p.cancel&&p.cancel());try{var d=r.animate({opacity:[1,.5,1]},{iterations:1,duration:100});d&&"function"==typeof d.play&&d.currentTime>=0&&window.getComputedStyle&&(d.pause(),d.currentTime=50,this.performBasicTest(.5===parseFloat(window.getComputedStyle(r).opacity),"test-animate-kfo","First parameter as object with property arrays like: { opacity: [1, 0] }"),d.play(),this.listenerCount+=1,d.onfinish=this.handleOnFinish)}catch(e){console.log("AnimationElement.SupportTest try/catch",e)}try{c.animate([{offset:1,opacity:1}],{iterations:1,duration:100}).onfinish=function(){i.performBasicTest(!0,"test-animate-single","Single keyframe")}}catch(e){this.performBasicTest(!1,"test-animate-single","Single keyframe")}this.performBasicTest("ISetTheId"===h.id,"test-pid","id"),this.performBasicTest("function"==typeof h.play,"test-pcp","play()"),this.performBasicTest("function"==typeof h.pause,"test-pcs","pause()"),this.performBasicTest("function"==typeof h.reverse,"test-pcr","reverse()"),this.performBasicTest("function"==typeof h.cancel,"test-pcc","cancel()"),this.performBasicTest("function"==typeof h.finish,"test-pcf","finish()"),this.performBasicTest(void 0!==h.playState,"test-ps","playState"),this.performBasicTest(void 0!==h.playbackRate,"test-pbr","playbackRate"),this.performBasicTest(void 0!==h.updatePlaybackRate,"test-upbr","updatePlaybackRate"),this.performBasicTest(void 0!==h.pending,"test-pending","pending"),this.performBasicTest(void 0!==h.currentTime&&void 0!==h.startTime,"test-ctst","currentTime/startTime"),this.performBasicTest(void 0!==h.timeline,"test-tl","timeline"),this.performBasicTest(void 0!==h.effect,"test-pe","effect (see also KeyframeEffect constructor)")&&(this.performBasicTest("function"==typeof h.effect.getTiming,"test-pe-gt","getTiming()"),this.performBasicTest("function"==typeof h.effect.updateTiming,"test-pe-ut","updateTiming()"),this.performBasicTest("function"==typeof h.effect.getComputedTiming,"test-pe-gct","getComputedTiming()"),this.performBasicTest("function"==typeof h.effect.getKeyframes,"test-pe-gkf","getKeyframes()"),this.performBasicTest("function"==typeof h.effect.setKeyframes,"test-pe-skf","setKeyframes()"))}else this.performBasicTest(!1,"test-animate","Element.animate() support");this.performBasicTest("function"==typeof a.getAnimations,"test-ega","Element.getAnimations()");var u={duration:1234,fill:"backwards",direction:"alternate",iterations:3,iterationStart:3e3,delay:123,endDelay:123,easing:"ease-in-out",composite:"add",iterationComposite:"accumulate"},m=["duration","fill","direction","iterations","iterationStart","delay","endDelay","easing","composite","iterationComposite"];if(void 0!==window.KeyframeEffect){this.performBasicTest(!0,"test-kec","KeyframeEffect constructor");var f=this.template.querySelector("#test-kec");try{var y=new KeyframeEffect(f,[{opacity:0},{opacity:1}],u);if(y)for(var v=0,g=m.length;v<g;v+=1){var E=m[v];u[E]===y[E]||y.timing&&u[E]===y.timing[E]?this.performBasicTest(!0,"test-kec-".concat(E),""):this.performBasicTest(!1,"test-kec-".concat(E),"")}}catch(e){console.log("AnimationElement.SupportTest try/catch",e)}}else this.performBasicTest(!1,"test-kec","KeyframeEffect constructor");this.performBasicTest(void 0!==window.Animation,"test-ac","Animation constructor"),this.performBasicTest(void 0!==document.timeline,"test-dt","Document default timeline")&&this.performBasicTest(void 0!==document.timeline.currentTime,"test-dtct","timeline.currentTime");var b=this.performBasicTest("function"==typeof document.getAnimations,"test-dga","document.getAnimations()");this.performBasicTest(!1,"test-dgaca","document.getAnimations() includes CSS Animations*"),this.performBasicTest(!1,"test-dgact","document.getAnimations() includes CSS Transitions*"),b&&document.getAnimations().forEach((function(e){e.effect&&e.effect.target===i.template.querySelector("#css-anim")&&i.performBasicTest(!0,"test-dgaca","document.getAnimations() includes CSS Animations*"),e.effect&&e.effect.target===i.template.querySelector("#css-tran")&&i.performBasicTest(!0,"test-dgact","document.getAnimations() includes CSS Transitions*")}));try{this.performBasicTest("function"==typeof window.DocumentTimeline&&new window.DocumentTimeline({originTime:0}),"test-dtc","DocumentTimeline constructor")}catch(e){console.log("AnimationElement.SupportTest try/catch",e)}0===this.listenerCount&&this.removeFromDOM()}return(0,a.Z)(e,[{key:"startAnimation",value:function(){this.template.querySelector("#css-tran").style.opacity=.25,document.body.animate&&this.template.querySelector("#waapi-anim").animate({opacity:[1,0]},{duration:1e3,iterations:1/0,direction:"alternate"})}},{key:"performBasicTest",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e&&this.template.querySelector("#".concat(t))&&this.template.querySelector("#".concat(t)).classList.add("passed"),this.testResults[t.replace("test-","")]={description:i,passed:e},e}},{key:"handleOnFinish",value:function(){this.performBasicTest(!0,"test-pof","onfinish handler"),this.updateCallback(this.testResults),this.listenerCount-=1,this.listenerCount<=0&&this.removeFromDOM()}},{key:"handleOnCancel",value:function(){this.performBasicTest(!0,"test-poc","oncancel handler"),this.updateCallback(this.testResults),this.listenerCount-=1,this.listenerCount<=0&&this.removeFromDOM()}},{key:"handleFinished",value:function(){this.performBasicTest(!0,"test-pfp","finished Promise"),this.updateCallback(this.testResults),this.listenerCount-=1,this.listenerCount<=0&&this.removeFromDOM()}},{key:"handleReady",value:function(){this.performBasicTest(!0,"test-prp","ready Promise"),this.updateCallback(this.testResults),this.listenerCount-=1,this.listenerCount<=0&&this.removeFromDOM()}},{key:"removeFromDOM",value:function(){this.template.remove()}},{key:"results",get:function(){return this.testResults}}]),e}();function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}var p="animation-element--animating",d={id:"",playinCompleteClass:"animation-element--settled-in",addPlayinCompleteClass:!1,playoutCompleteClass:"animation-element--settled-out",addPlayoutCompleteClass:!1,active:!0},u=o.ZT,m=o.ZT,f=null,y=function(){function e(t,i,a,o){(0,n.Z)(this,e),null===f&&this.testSupport(),this.element=t,this.config=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){(0,s.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},d,{},i),this.active=this.config.active,this.state=e.STATES.IDLE,this.playinFinishCallback=a||u,this.playoutFinishCallback=o||m,this.setBindings(),this.init()}return(0,a.Z)(e,[{key:"setBindings",value:function(){this.onPlayinFinish=this.onPlayinFinish.bind(this),this.onPlayoutFinish=this.onPlayoutFinish.bind(this),this.onSupportUpdate=this.onSupportUpdate.bind(this)}},{key:"init",value:function(){this.element.classList.add("animation-element")}},{key:"beginPlayin",value:function(){this.config.animationPlayin?(this.element.classList.add(p),this.element.animate(this.config.animationPlayin.animationFrames,this.config.animationPlayin.animationTiming).onfinish=this.onPlayinFinish,this.state=e.STATES.ANIMATING):this.state=e.STATES.SETTLED_IN}},{key:"beginPlayout",value:function(){this.config.addPlayinCompleteClass&&this.element.classList.remove(this.config.playinCompleteClass),this.element.classList.add(p),this.element.animate(this.config.animationPlayout.animationFrames,this.config.animationPlayout.animationTiming).onfinish=this.onPlayoutFinish,this.state=e.STATES.ANIMATING}},{key:"onPlayinFinish",value:function(){this.element.classList.remove(p),this.config.addPlayinCompleteClass&&this.element.classList.add(this.config.playinCompleteClass),this.state=e.STATES.SETTLED_IN,this.playinFinishCallback(this.config.id)}},{key:"onPlayoutFinish",value:function(){this.element.classList.remove(p),this.config.addPlayoutCompleteClass&&this.element.classList.add(this.config.playoutCompleteClass),this.state=e.STATES.SETTLED_OUT,this.playoutFinishCallback(this.config.id)}},{key:"testSupport",value:function(){this.supportTest=new c(this.onSupportUpdate),f=this.supportTest.results}},{key:"onSupportUpdate",value:function(e){f=e}},{key:"currentState",get:function(){return this.state}},{key:"isActive",get:function(){return this.active},set:function(e){this.active=e}}],[{key:"playinFinish",set:function(e){u=e}},{key:"playoutFinish",set:function(e){m=e}}]),e}();(0,s.Z)(y,"FILLS",{FORWARDS:"forwards",BACKWARDS:"backwards",NONE:"none",BOTH:"both"}),(0,s.Z)(y,"STATES",{IDLE:"idle",ANIMATING:"animating",SETTLED_IN:"settledIn",SETTLED_OUT:"settledIn"}),(0,s.Z)(y,"EASING",{LINEAR:"linear",EASE_IN:"ease-in",EASE_OUT:"ease-out",EASE_IN_OUT:"ease-in-out"})},21255:function(e,t,i){i.d(t,{Z:function(){return s}});var n=i(15671),a=i(43144),s=function(){function e(){(0,n.Z)(this,e)}return(0,a.Z)(e,null,[{key:"getChapterByName",value:function(e){return this.chapters.find((function(t){return t.deepLink===e}))||this.chapters[0]}},{key:"allChapters",set:function(e){this.chapters=e.map((function(e,t){return e.index=t,e.chapterNumber="0".concat(t+1,"."),e}))},get:function(){return this.chapters}},{key:"chapterCount",get:function(){return this.chapters.length}}]),e}()},89462:function(e,t,i){i.d(t,{ae:function(){return f},us:function(){return o},kY:function(){return l},PL:function(){return d},H1:function(){return v},wi:function(){return u.Z},s5:function(){return E}});var n=i(30168),a=i(61156);function s(){var e=(0,n.Z)(['\n    <div class="specialty-chapter__wrapper">\n        <div class="specialty-chapter__wrapper-inner">\n            <h3 class="chapter-error__heading">',"</h3>\n        </div>\n    </div>\n"]);return s=function(){return e},e}var o=function(e){return(0,a.e2)(s(),e.errorHeader)};function r(){var e=(0,n.Z)(['\n    <div class="specialty-page__click-shield"></div>\n']);return r=function(){return e},e}var l=function(){return(0,a.e2)(r())};function c(){var e=(0,n.Z)(['\n    <div class="specialty-detail__loading-spinner-wrapper">\n        <svg class="specialty-detail__loading-spinner" width="130" height="130">\n            <linearGradient id="linearColors1" x1="0" y1="0" x2="1" y2="1">\n                <stop offset="0%" stop-color="','" stop-opacity="1"></stop>\n                <stop offset="100%" stop-color="','" stop-opacity="0.9"></stop>\n            </linearGradient>\n            <linearGradient id="linearColors2" x1="0.5" y1="0" x2="0.5" y2="1">\n                <stop offset="0%" stop-color="','" stop-opacity="0.9"></stop>\n                <stop offset="100%" stop-color="','" stop-opacity="0.8"></stop>\n            </linearGradient>\n            <linearGradient id="linearColors3" x1="1" y1="0" x2="0" y2="1">\n                <stop offset="0%" stop-color="','" stop-opacity="0.8"></stop>\n                <stop offset="100%" stop-color="','" stop-opacity="0.65"></stop>\n            </linearGradient>\n            <linearGradient id="linearColors4" x1="1" y1="1" x2="0" y2="0">\n                <stop offset="0%" stop-color="','" stop-opacity="0.65"></stop>\n                <stop offset="100%" stop-color="','" stop-opacity="0.4"></stop>\n            </linearGradient>\n            <linearGradient id="linearColors5" x1="0.5" y1="1" x2="0.5" y2="0">\n                <stop offset="0%" stop-color="','" stop-opacity="0.4"></stop>\n                <stop offset="100%" stop-color="','" stop-opacity="0.2"></stop>\n            </linearGradient>\n            <linearGradient id="linearColors6" x1="0" y1="1" x2="1" y2="0">\n                <stop offset="0%" stop-color="','" stop-opacity="0.2"></stop>\n                <stop offset="100%" stop-color="','" stop-opacity="0"></stop>\n            </linearGradient>\n            <path d="M65 5 a60 60 0 0 1 51.9615 30" fill="none" stroke="url(#linearColors1)" stroke-width="2"></path>\n            <path d="M116.9615 35 a60 60 0 0 1 0 60" fill="none" stroke="url(#linearColors2)" stroke-width="2"></path>\n            <path d="M116.9615 95 a60 60 0 0 1 -51.9615 30" fill="none" stroke="url(#linearColors3)" stroke-width="2"></path>\n            <path d="M65 125 a60 60 0 0 1 -51.9615 -30" fill="none" stroke="url(#linearColors4)" stroke-width="2"></path>\n            <path d="M13.039 95 a60 60 0 0 1 0 -60" fill="none" stroke="url(#linearColors5)" stroke-width="2"></path>\n            <path d="M13.039 35 a60 60 0 0 1 51.9615 -30" fill="none" stroke="url(#linearColors6)" stroke-width="2"></path>\n        </svg>\n    </div>\n']);return c=function(){return e},e}function h(){var e=(0,n.Z)(['\n    <div class="specialty-detail__modal-wrapper">\n        <iframe\n            frameborder="0"\n            marginheight="0"\n            marginwidth="0"\n            webkitallowfullscreen="true"\n            mozallowfullscreen="true"\n            allowfullscreen="true"\n            class="specialty-detail__modal-iframe"\n            src="','"\n            width="500"\n            height="500"\n            tabindex="0"\n            title="','">\n            <p style="text-align:center">',"</p>\n        </iframe>\n        ","\n    </div>\n"]);return h=function(){return e},e}var p={amg:"#C8000F",eq:"#0078D6"},d=function(e,t,i,n){return(0,a.e2)(h(),e,t,i,(s=p[n],(0,a.e2)(c(),s,s,s,s,s,s,s,s,s,s,s,s))({getNode:!1}));var s},u=i(352);function m(){var e=(0,n.Z)(['\n    <button aria-controls="disclaimer-drawer" data-legend="**" class="disclaimer__marker specialty-page__disclaimer-marker">\n        <sup class="disclaimer__legend-reference"><span class="offscreen">',"</span>**</sup>\n    </button>\n"]);return m=function(){return e},e}var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Disclaimer";return(0,a.e2)(m(),e)};function y(){var e=(0,n.Z)(['\n    <button aria-controls="disclaimer-drawer" data-legend="††" class="disclaimer__marker specialty-page__disclaimer-marker">\n        <sup class="disclaimer__legend-reference"><span class="offscreen">',"</span>††</sup>\n    </button>\n"]);return y=function(){return e},e}var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Disclaimer";return(0,a.e2)(y(),e)};function g(){var e=(0,n.Z)(['\n    <div class="specialty-page__size-violation">\n        <p class="specialty-page__size-violation-copy specialty-page__size-violation-copy--strong" tabindex="0">','</p>\n        <p class="specialty-page__size-violation-copy" tabindex="0">',"</p>\n    </div>\n"]);return g=function(){return e},e}var E=function(e){return(0,a.e2)(g(),e.screenSizeAlertCopy1,e.screenSizeAlertCopy2)};u.Z},352:function(e,t,i){var n=i(30168),a=i(61156);function s(){var e=(0,n.Z)(['\n    <div class="specialty-chapter__loading-message">\n        ',': <span class="specialty-chapter__loading-pct">0</span>%\n    </div>\n']);return s=function(){return e},e}t.Z=function(e){return(0,a.e2)(s(),e.loading)}},82269:function(e,t,i){i.d(t,{Z:function(){return S}});var n=i(4942),a=i(15671),s=i(43144),o=i(61156),r=i(48218),l=i(78478),c=i(14569),h={headingPlayin:{animationFrames:[{opacity:0,transform:"translate3d(-50%, calc(-50% - 50px), 0)"},{opacity:1,transform:"translate3d(-50%, -50%, 0)"}],animationTiming:{fill:l.Z.FILLS.FORWARDS,easing:l.Z.EASING.EASE_OUT,duration:1e3,iterations:1}},headingPlayout:{animationFrames:[{opacity:1,transform:"translate3d(-50%, -50%, 0)"},{opacity:0,transform:"translate3d(-50%, calc(-50% + 50px), 0)"}],animationTiming:{fill:l.Z.FILLS.FORWARDS,easing:l.Z.EASING.EASE_IN,duration:400,iterations:1}}},p=i(89462);function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){(0,n.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var m=o.qY.isiOSMobile,f=o.qY.isSafari,y=o.qY.isiOSMobileDeviceOnSafari,v="specialty-chapter__border-content",g="externally-locked",E="locked",b="chapterErrorHeading",S=function(){function e(t){(0,a.Z)(this,e),this.chapterData=t,this.setConfiguration(),this.violationModalOpen=!1,this.assetsToLoad=null,this.isErrorState=!1,this.isiOSMobile=!1,this.batchLoadAssets=[],this.batchAssetLoaderMethod=o.XK.REQUEST_METHODS.GET,this.element=null,this.animationElements={},this.specialtyPageData=window.mbNafta.ns("specialtyPageData"),this.specialtyPageType=this.specialtyPageData.pageType,this.specialtyAppName=this.specialtyPageType.replace("specialty-app-",""),this.localization=u({},this.specialtyPageData[this.specialtyPageType].localization,{appDisplayName:(0,o.NR)(this.specialtyPageData[this.specialtyPageType].localization.appDisplayName,{app:this.specialtyAppName})}),this.appDamUrlPrefix=(0,o.NR)(this.specialtyPageData.appDamLocationPrefix,{country:window.mbNafta.ns("pageData").country,app:this.specialtyAppName}),this.iOSDeviceOnSafari=y(),this.setBindings(),this.validateData()?this.init():(this.isErrorState=!0,this.commenceErrorUI())}return(0,s.Z)(e,[{key:"setConfiguration",value:function(){this.configuration=u({},this.constructor.defaultConfig)}},{key:"setBindings",value:function(){this.onHashChange=this.onHashChange.bind(this),this.onBreakpointCross=this.onBreakpointCross.bind(this),this.onScreenResize=this.onScreenResize.bind(this),this.onScreenResizeForViolation=this.onScreenResizeForViolation.bind(this),this.onGlobalHeaderOpen=this.onGlobalHeaderOpen.bind(this),this.onGlobalHeaderClosed=this.onGlobalHeaderClosed.bind(this),this.onDockedFooterOpen=this.onDockedFooterOpen.bind(this),this.onDockedFooterClosed=this.onDockedFooterClosed.bind(this),this.onAfterViolationModalOpen=this.onAfterViolationModalOpen.bind(this),this.onBeforeViolationModalClose=this.onBeforeViolationModalClose.bind(this),this.onBeforeDetailModalClose=this.onBeforeDetailModalClose.bind(this),this.onBatchAssetLoaderStatusUnsent=this.onBatchAssetLoaderStatusUnsent.bind(this),this.onBatchAssetLoaderStatusOpened=this.onBatchAssetLoaderStatusOpened.bind(this),this.onBatchAssetLoaderStatusHeadersReceived=this.onBatchAssetLoaderStatusHeadersReceived.bind(this),this.onBatchAssetLoaderProgress=this.onBatchAssetLoaderProgress.bind(this),this.onBatchAssetLoaderStatusDone=this.onBatchAssetLoaderStatusDone.bind(this),this.onBatchAssetLoaderComplete=this.onBatchAssetLoaderComplete.bind(this),this.onBatchAssetLoaderAbort=this.onBatchAssetLoaderAbort.bind(this),this.onBatchAssetLoaderError=this.onBatchAssetLoaderError.bind(this),this.isDetailModalPresent=this.isDetailModalPresent.bind(this),m()&&!f()&&(this.isiOSMobile=!0,this.oniOSOrientationChange=this.oniOSOrientationChange.bind(this))}},{key:"validateData",value:function(){return!0}},{key:"init",value:function(){this.assetsToLoad?(this.cacheLoadingStateDOM(),this.prepBatchAssetLoader(),this.loadAssets(),this.enterChapterLoadingState()):this.commenceChapterUI()}},{key:"cacheErrorStateDOM",value:function(){this.errorHeadingElm=this.element.querySelector(".".concat("chapter-error__heading")),this.specialtyChapterBorderContentElm=document.querySelector(".".concat(v))}},{key:"cacheLoadingStateDOM",value:function(){this.specialtyChapterBorderContentElm=document.querySelector(".".concat(v))}},{key:"prepBatchAssetLoader",value:function(){this.batchAssetLoader=new o.XK({unsent:this.onBatchAssetLoaderStatusUnsent,opened:this.onBatchAssetLoaderStatusOpened,headersReceived:this.onBatchAssetLoaderStatusHeadersReceived,progress:this.onBatchAssetLoaderProgress,done:this.onBatchAssetLoaderStatusDone,abort:this.onBatchAssetLoaderAbort,error:this.onBatchAssetLoaderError,complete:this.onBatchAssetLoaderComplete})}},{key:"loadAssets",value:function(){this.batchLoadAssets=this.batchAssetLoader.loadAssets(this.assetsToLoad,this.batchAssetLoaderMethod)}},{key:"enterChapterLoadingState",value:function(){this.loadingMessage&&o.jG.insert(this.loadingMessage,this.specialtyChapterBorderContentElm)}},{key:"exitChapterLoadingState",value:function(){this.loadingMessage&&(o.jG.empty(this.specialtyChapterBorderContentElm),this.loadingMessage=null),this.commenceChapterUI()}},{key:"commenceErrorUI",value:function(){this.populateErrorTemplate(),this.cacheErrorStateDOM(),this.registerErrorAnimationElements(),this.attachEvents(),this.render()}},{key:"commenceChapterUI",value:function(){this.populateTemplate(),this.cacheDOM(),this.registerAnimationElements(),this.attachEvents(),this.render()}},{key:"registerErrorAnimationElements",value:function(){l.Z.playinFinish=this.onAnimElemPlayinComplete,l.Z.playoutFinish=this.onAnimElemPlayoutComplete;var e=h.headingPlayin,t=h.headingPlayout;this.animationElements[b]=new l.Z(this.errorHeadingElm,{id:b,animationPlayin:e,animationPlayout:t})}},{key:"registerAnimationElements",value:function(){}},{key:"cacheDOM",value:function(){this.specialtyChapterBorderElm=document.querySelector(".".concat("specialty-chapter__border")),this.specialtyChapterBorderContentElm=this.specialtyChapterBorderElm.querySelector(".".concat(v)),this.specialtyChapterLabelElm=document.querySelector(".".concat("specialty-chapter__label"))}},{key:"populateTemplate",value:function(){}},{key:"populateErrorTemplate",value:function(){this.element=(0,p.us)(this.localization)({getNode:!0})}},{key:"render",value:function(){o.jG.insert(this.element,this.specialtyChapterBorderContentElm),this.beginPlayin()}},{key:"beginPlayin",value:function(){Object.entries(this.animationElements).forEach((function(e){e[1].beginPlayin()})),this.dispatchPlayinBegun()}},{key:"beginPlayout",value:function(){Object.entries(this.animationElements).forEach((function(e){e[1].isActive&&e[1].beginPlayout()})),this.dispatchPlayoutBegun()}},{key:"setInitialChapterFocus",value:function(){var e;null===(e=this.specialtyChapterLabelElm)||void 0===e||e.focus()}},{key:"triggerSizeViolationModal",value:function(){this.violationModalOpen=!0,this.onBeforeViolationModalOpen&&"function"==typeof this.onBeforeViolationModalOpen?this.onBeforeViolationModalOpen():this.openSizeViolationModal()}},{key:"openSizeViolationModal",value:function(){this.violationModalElm=(0,p.s5)(this.localization)({getNode:!0}),this.violationModal=new c.Modal(void 0,{modalContent:this.violationModalElm,callbacks:{afterOpen:this.onAfterViolationModalOpen,beforeClose:this.onBeforeViolationModalClose},theme:"specialty-screen-size-violation",sizeSmall:c.Modal.SIZES.FULLSCREEN,sizeLarge:c.Modal.SIZES.FULLSCREEN,transitionInOut:!0,unclosable:!0}),this.violationModal.open()}},{key:"closeSizeViolationModal",value:function(){this.violationModalOpen=!1,this.violationModal.close(),this.violationModal.destroy()}},{key:"onAfterViolationModalOpen",value:function(){this.violationModalElm.querySelector(".".concat("specialty-page__size-violation-copy--strong")).focus()}},{key:"onBeforeViolationModalClose",value:function(){}},{key:"onBeforeViolationModalOpen",value:function(){this.detailModal?this.detailModal.close():this.openSizeViolationModal()}},{key:"attachEvents",value:function(){o.sp.addBreakpointListener(this.onBreakpointCross),o.sp.addResizeListener(this.onScreenResize),o.sp.addResizeListener(this.onScreenResizeForViolation),o.Jw.addEventListener(r.fD.SPECIALTY_PAGE_HASH_UPDATED,this.onHashChange),o.Jw.addEventListener(r.fD.GLOBAL_NAV_MENU_OPENED,this.onGlobalHeaderOpen),o.Jw.addEventListener(r.fD.GLOBAL_NAV_MENU_CLOSED,this.onGlobalHeaderClosed),o.Jw.addEventListener(r.fD.DOCKED_FOOTER.OPEN,this.onDockedFooterOpen),o.Jw.addEventListener(r.fD.DOCKED_FOOTER.CLOSE,this.onDockedFooterClosed),this.isiOSMobile&&window.addEventListener(r.FP.ORIENTATIONCHANGE,this.oniOSOrientationChange)}},{key:"detachEvents",value:function(){o.sp.removeBreakpointListener(this.onBreakpointCross),o.sp.removeResizeListener(this.onScreenResize),o.sp.removeResizeListener(this.onScreenResizeForViolation),o.Jw.removeEventListener(r.fD.SPECIALTY_PAGE_HASH_UPDATED,this.onHashChange),o.Jw.removeEventListener(r.fD.GLOBAL_NAV_MENU_OPENED,this.onGlobalHeaderOpen),o.Jw.removeEventListener(r.fD.GLOBAL_NAV_MENU_CLOSED,this.onGlobalHeaderClosed),o.Jw.removeEventListener(r.fD.DOCKED_FOOTER.OPEN,this.onDockedFooterOpen),o.Jw.removeEventListener(r.fD.DOCKED_FOOTER.CLOSE,this.onDockedFooterClosed),this.isiOSMobile&&window.removeEventListener(r.FP.ORIENTATIONCHANGE,this.oniOSOrientationChange)}},{key:"onAnimElemPlayinComplete",value:function(){var e=!0;Object.entries(this.animationElements).forEach((function(t){t[1].currentState!==l.Z.STATES.SETTLED_IN&&(e=!1)})),e&&(this.dispatchPlayinComplete(),this.setInitialChapterFocus(),this.onScreenResizeForViolation())}},{key:"onAnimElemPlayoutComplete",value:function(e,t){if(t||delete this.animationElements[e],o.Gu.isEmpty(this.animationElements))this.destroy();else{var i=!0;Object.entries(this.animationElements).forEach((function(e){e[1].isActive&&(i=!1)})),i&&this.destroy()}}},{key:"onBatchAssetLoaderStatusUnsent",value:function(){}},{key:"onBatchAssetLoaderStatusOpened",value:function(){}},{key:"onBatchAssetLoaderStatusHeadersReceived",value:function(){}},{key:"onBatchAssetLoaderProgress",value:function(){}},{key:"onBatchAssetLoaderStatusDone",value:function(){}},{key:"onBatchAssetLoaderAbort",value:function(e){console.log("\nonBatchAssetLoaderAbort",e)}},{key:"onBatchAssetLoaderError",value:function(e){console.log("\nonBatchAssetLoaderError",e)}},{key:"onBatchAssetLoaderComplete",value:function(){this.exitChapterLoadingState()}},{key:"onScreenResize",value:function(){}},{key:"onBreakpointCross",value:function(){}},{key:"onGlobalHeaderOpen",value:function(){o.sp.getCurrentState()===o.sp.SIZES.SMALL&&o.sp.removeResizeListener(this.onScreenResizeForViolation)}},{key:"onGlobalHeaderClosed",value:function(){o.sp.removeResizeListener(this.onScreenResizeForViolation),o.sp.addResizeListener(this.onScreenResizeForViolation),this.onScreenResizeForViolation()}},{key:"onDockedFooterOpen",value:function(){o.sp.getCurrentState()===o.sp.SIZES.SMALL&&o.sp.removeResizeListener(this.onScreenResizeForViolation)}},{key:"onDockedFooterClosed",value:function(){o.sp.removeResizeListener(this.onScreenResizeForViolation),o.sp.addResizeListener(this.onScreenResizeForViolation),this.onScreenResizeForViolation()}},{key:"oniOSOrientationChange",value:function(){setTimeout(this.onScreenResizeForViolation,500)}},{key:"onScreenResizeForViolation",value:function(){var e=o.sp.getCurrentState(),t=this.configuration.heightViolations[e];!this.violationModalOpen&&window.innerHeight<=t?this.triggerSizeViolationModal():this.violationModalOpen&&window.innerHeight>t&&this.closeSizeViolationModal()}},{key:"onHashChange",value:function(e){e.detail.nextChapterData.deepLink!==this.chapterData.deepLink&&this.beginPlayout()}},{key:"dispatchPlayinBegun",value:function(){o.Jw.dispatchEvent(o.Jw.createCustomEvent(r.fD.LIFECYCLE_TRANSITION,{detail:{transitionStage:r.ch.PLAYIN_BEGUN}}))}},{key:"dispatchPlayinComplete",value:function(){o.Jw.dispatchEvent(o.Jw.createCustomEvent(r.fD.LIFECYCLE_TRANSITION,{detail:{transitionStage:r.ch.PLAYIN_COMPLETE}}))}},{key:"dispatchPlayoutBegun",value:function(){o.Jw.dispatchEvent(o.Jw.createCustomEvent(r.fD.LIFECYCLE_TRANSITION,{detail:{transitionStage:r.ch.PLAYOUT_BEGUN}}))}},{key:"dispatchPlayoutComplete",value:function(){o.Jw.dispatchEvent(o.Jw.createCustomEvent(r.fD.LIFECYCLE_TRANSITION,{detail:{transitionStage:r.ch.PLAYOUT_COMPLETE}}))}},{key:"onBeforeDetailModalClose",value:function(){this.detailModal=null,this.violationModalOpen?(this.detailModalClosedCallback=this.openSizeViolationModal,this.isDetailModalPresent()):this.headerElm&&(this.headerElm.classList.remove(E),this.headerElm.classList.remove(g),o.Jw.dispatchEvent(o.Jw.createCustomEvent(r.fD.GLOBAL_NAV_ENABLE_TABBABLES)))}},{key:"isDetailModalPresent",value:function(){document.querySelector(".".concat("modal--specialty-detail"))?window.requestAnimationFrame(this.isDetailModalPresent):(this.detailModalClosedCallback(),this.detailModalClosedCallback=null)}},{key:"initDetailModal",value:function(e){var t=this;this.headerElm=this.headerElm||document.querySelector(".".concat("header--docking-state",", .").concat("main-navigation--docking-state")),this.headerElm&&(this.headerElm.classList.add(E),this.headerElm.classList.add(g),o.Jw.dispatchEvent(o.Jw.createCustomEvent(r.fD.GLOBAL_NAV_DISABLE_TABBABLES)));var i="".concat(e.attributes.href.value).concat(window.mbNafta.pageData.wcmmode.disabled?".html?wcmmode=disabled":"");this.iOSDeviceOnSafari?window.open(i,"_blank"):(this.detailModalElm=(0,p.PL)(i,e.dataset.modalTitle,this.localization.iframesMessage,this.specialtyAppName)({getNode:!0}),this.detailModal=new c.Modal(void 0,{modalContent:this.detailModalElm,callbacks:{beforeClose:this.onBeforeDetailModalClose},theme:"specialty-detail",transitionInOut:!0,dataAnalyticTriggerClose:"cta-close"}),this.iframe=this.detailModalElm.querySelector(".".concat("specialty-detail__modal-iframe")),this.iframe.onload=function(){t.spinner=t.detailModal.modalContainer.querySelector(".".concat("specialty-detail__loading-spinner-wrapper")),t.spinner.remove()})}},{key:"destroy",value:function(){l.Z.playinFinish=null,l.Z.playoutFinish=null,this.detachEvents(),this.element.remove(),this.dispatchPlayoutComplete()}}]),e}();S.defaultConfig={heightViolations:{small:550,large:920,xlarge:600,xxlarge:600}}}}]);
//# sourceMappingURL=05c818763be47e21dea0.bundle.js.map